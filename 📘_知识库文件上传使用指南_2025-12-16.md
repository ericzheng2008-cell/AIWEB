# 📘 知识库文件上传使用指南

## 快速开始

### 🎯 功能概述

知识库管理系统现已支持上传和管理多种类型的文件：
- **文档**: PDF, Word, Excel, PowerPoint, TXT, Markdown
- **图片**: JPG, PNG, GIF, BMP, SVG, WebP
- **视频**: MP4, AVI, MOV, WMV等 (单个≤100MB)

---

## 📝 操作步骤

### 1. 添加带文件的知识

#### 第一步：进入知识库管理
```
中央管理平台 → 知识库管理 → 点击"添加知识"按钮
```

#### 第二步：填写基本信息
- **标题**: 输入知识标题
- **类型**: 选择文档/FAQ/案例/教程/规范
- **分类**: 选择所属分类
- **标签**: 添加相关标签
- **作者**: 输入作者名称
- **内容**: 编写Markdown格式内容

#### 第三步：上传文件

##### 📄 上传文档附件 (PDF/Word/Excel/PPT等)

**方法一：拖拽上传**
1. 找到"文档附件"上传区
2. 从电脑中拖拽文件到虚线框内
3. 松开鼠标，文件自动添加

**方法二：点击上传**
1. 点击"文档附件"上传区
2. 在文件选择对话框中选择文件
3. 支持多选（按住Ctrl键）
4. 点击"打开"

**支持的格式:**
- PDF文档: `.pdf`
- Word文档: `.doc`, `.docx`
- Excel表格: `.xls`, `.xlsx`
- PowerPoint演示: `.ppt`, `.pptx`
- 纯文本: `.txt`, `.md`

##### 🖼️ 上传图片

**方法一：点击上传**
1. 找到"图片文件"上传区
2. 点击"+"图标
3. 选择一张或多张图片
4. 点击"打开"

**方法二：拖拽上传**
1. 直接拖拽图片到上传区
2. 松开鼠标完成上传

**特点:**
- 支持多图上传
- 上传后立即显示缩略图
- 点击可预览大图
- 可随时删除

**支持的格式:**
- JPEG图片: `.jpg`, `.jpeg`
- PNG图片: `.png`
- GIF动图: `.gif`
- 位图: `.bmp`
- 矢量图: `.svg`
- WebP: `.webp`

##### 🎬 上传视频

**拖拽或点击上传**
1. 找到"视频文件"上传区
2. 拖拽视频文件到虚线框
3. 或点击区域选择文件
4. 等待文件处理完成

**注意事项:**
- ⚠️ 单个视频文件不超过100MB
- 建议使用MP4格式(兼容性最好)
- 视频会自动转换为Base64存储
- 大文件需要较长处理时间

**支持的格式:**
- MP4: `.mp4` (推荐)
- AVI: `.avi`
- MOV: `.mov`
- WMV: `.wmv`
- FLV: `.flv`
- MKV: `.mkv`
- WebM: `.webm`

#### 第四步：保存知识
1. 检查所有信息是否正确
2. 确认文件已上传
3. 点击"保存"按钮
4. 等待"保存成功"提示
5. 系统自动处理和存储文件

---

### 2. 查看带文件的知识

#### 打开知识详情
1. 在知识列表中找到目标知识
2. 点击"查看"按钮
3. 弹出详情对话框

#### 浏览附件
**文档附件区 📎**
- 显示所有上传的文档
- 每个文件显示：
  - 文件图标
  - 文件名
  - 文件大小 (如: 2.5 MB)
  - 上传时间

**多媒体文件区 🎬**

**图片显示:**
- 网格布局展示
- 缩略图预览
- 点击可放大查看
- 支持切换浏览

**视频显示:**
- 内置播放器
- 点击播放
- 播放控制条
- 全屏支持

---

### 3. 编辑带文件的知识

#### 修改现有知识
1. 点击知识列表中的"编辑"按钮
2. 修改文本内容
3. 添加新文件（如需要）
4. 删除不需要的文件（点击×）
5. 保存更新

#### 注意事项
- 编辑时可添加新文件
- 原有文件会保留
- 可删除不需要的文件
- 文件总大小会自动更新

---

## 💡 使用技巧

### 文件管理建议

#### 1. 文档附件
**适合场景:**
- 技术规范文档 (PDF)
- 操作手册 (Word)
- 数据表格 (Excel)
- 培训课件 (PowerPoint)

**最佳实践:**
- 文件名清晰明了
- 建议文档大小<10MB
- 使用PDF格式（通用性好）
- 重要文档添加版本号

#### 2. 图片文件
**适合场景:**
- 流程图、示意图
- 产品照片
- 界面截图
- 技术图表

**最佳实践:**
- 压缩后再上传（减小存储）
- 使用JPG格式（照片）
- 使用PNG格式（截图、图标）
- 图片尺寸适中（推荐<2MB）

#### 3. 视频文件
**适合场景:**
- 操作演示视频
- 培训录像
- 产品介绍
- 故障排查演示

**最佳实践:**
- 使用MP4格式
- 视频时长适中（<10分钟）
- 压缩视频文件（<100MB）
- 添加有意义的文件名

---

## ⚠️ 注意事项

### 文件大小限制
- 📄 文档附件: 建议<10MB
- 🖼️ 图片文件: 建议<2MB
- 🎬 视频文件: **必须<100MB**

### 浏览器兼容性
- Chrome: ✅ 完全支持
- Edge: ✅ 完全支持
- Firefox: ✅ 完全支持
- Safari: ✅ 完全支持
- IE11: ⚠️ 部分支持

### 存储说明
- 文件存储在浏览器LocalStorage
- 清除浏览器数据会丢失文件
- 建议定期导出备份
- 大量文件可能影响性能

### 性能优化
- 避免上传超大文件
- 图片建议压缩后上传
- 视频建议转码为MP4
- 单个知识文件总量<50MB为佳

---

## 🔧 常见问题

### Q1: 上传失败怎么办？
**A:** 
1. 检查文件大小是否超限
2. 确认文件格式是否支持
3. 刷新页面后重试
4. 清除浏览器缓存

### Q2: 视频无法播放？
**A:**
1. 确认浏览器支持该视频格式
2. 建议转换为MP4格式
3. 检查视频文件是否损坏
4. 尝试其他浏览器

### Q3: 图片显示不出来？
**A:**
1. 检查图片文件是否完整
2. 确认图片格式是否支持
3. 刷新页面重新加载
4. 重新上传图片

### Q4: 文件删除了怎么恢复？
**A:**
- 目前暂不支持恢复已删除文件
- 建议删除前先确认
- 重要文件可本地备份

### Q5: 可以批量上传吗？
**A:**
- 文档附件: ✅ 支持多选
- 图片文件: ✅ 支持多选
- 视频文件: ✅ 支持多选
- 可同时选择多个文件上传

---

## 📊 文件类型识别

### 自动识别规则
系统会根据文件扩展名自动识别类型：

| 类型 | 扩展名 | 图标 | 说明 |
|------|--------|------|------|
| PDF | .pdf | 📄 | Adobe PDF |
| Word | .doc, .docx | 📝 | Microsoft Word |
| Excel | .xls, .xlsx | 📊 | Microsoft Excel |
| PowerPoint | .ppt, .pptx | 📊 | Microsoft PPT |
| 图片 | .jpg, .png, .gif等 | 🖼️ | 各类图片格式 |
| 视频 | .mp4, .avi, .mov等 | 🎬 | 各类视频格式 |
| 文本 | .txt, .md | 📃 | 纯文本文件 |

---

## 🎯 实战示例

### 示例1: 添加技术文档
```
标题: "拧紧工艺操作规范"
类型: 规范
分类: 拧紧工艺
标签: 操作规范, 质量控制

内容: 
# 拧紧工艺操作规范
## 1. 适用范围
...

附件:
- 📄 拧紧工艺标准.pdf
- 📊 扭矩参数表.xlsx
- 🖼️ 工艺流程图.png
```

### 示例2: 添加培训课程
```
标题: "设备维护培训"
类型: 教程
分类: 设备管理
标签: 培训, 设备维护

内容:
# 设备维护培训教程
## 课程目标
...

文件:
- 📊 培训课件.pptx
- 🎬 操作演示视频.mp4
- 🖼️ 设备结构图.jpg
```

### 示例3: 添加案例分析
```
标题: "螺栓断裂故障案例"
类型: 案例
分类: 故障诊断
标签: 案例分析, 故障排查

内容:
# 案例: M10螺栓断裂分析
## 故障描述
...

附件:
- 🖼️ 断裂螺栓照片.jpg
- 📄 检测报告.pdf
- 🎬 拧紧过程录像.mp4
- 📊 曲线分析数据.xlsx
```

---

## 🚀 下次更新预告

计划新增功能：
- [ ] 文件在线预览
- [ ] 文件下载功能
- [ ] 批量文件管理
- [ ] 文件搜索过滤
- [ ] 视频字幕支持
- [ ] 音频文件支持

---

## 📞 技术支持

如遇到问题，请联系技术支持团队。

**更新时间**: 2025-12-16  
**版本**: v2.1.0
