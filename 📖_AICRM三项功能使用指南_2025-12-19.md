# 📖 AICRM三项功能使用指南

**版本**：V1.0  
**更新日期**：2025-12-19

---

## 🎯 修复功能概览

本次修复解决了3个编译错误，涉及2个关键组件和5个核心功能：

### 功能1：多语言切换器（Header组件）
**位置**：页面右上角  
**功能**：中英文界面切换  
**修复内容**：图标显示优化（🌐）

### 功能2：自然语言搜索推荐（AICRM主页）
**位置**：AICRM首页顶部搜索框  
**功能**：智能搜索建议  
**修复内容**：函数命名冲突解决

### 功能3：AIPM智能建议采纳（AIPM标签）
**位置**：AIPM项目管理 → AI建议卡片  
**功能**：采纳AI优化建议  
**修复内容**：函数重命名为`applyAIPMSuggestion`

### 功能4：AIPM项目筛选（AIPM标签）
**位置**：AIPM项目列表上方  
**功能**：按状态筛选项目  
**修复内容**：重复声明错误解决

### 功能5：AIPM新建项目（AIPM标签）
**位置**：AIPM项目列表  
**功能**：创建新项目并生成甘特图  
**修复内容**：与功能4联动修复

---

## 📖 详细使用说明

### 1️⃣ 多语言切换器

#### 访问路径
首页右上角 → 点击"🌐 中文"

#### 操作步骤
1. 点击语言切换器
2. 下拉菜单显示可选语言
3. 选择"English"或"中文"
4. 界面立即切换

#### 效果验证
- ✅ 图标显示为🌐
- ✅ 下拉菜单正常弹出
- ✅ 语言切换即时生效
- ✅ 控制台无错误

---

### 2️⃣ 自然语言搜索推荐

#### 访问路径
导航栏"营销"→ 明升AICRM → 顶部搜索框

#### 操作步骤
1. 在搜索框输入："客户"
2. 点击"🔍 智能搜索"按钮
3. 查看AI推荐结果
4. 点击"采纳推荐"应用建议

#### 功能特点
- 🤖 AI理解自然语言
- 💡 智能推荐匹配内容
- ⚡ 一键应用推荐
- 📊 搜索结果高亮显示

#### 效果验证
- ✅ 点击"采纳推荐"弹出确认框
- ✅ 确认后显示成功消息
- ✅ 搜索结果自动更新

---

### 3️⃣ AIPM智能建议采纳

#### 访问路径
营销 → 明升AICRM → AIPM项目管理标签 → AI优化建议卡片

#### 操作步骤
1. 进入AIPM标签页
2. 查看右侧"AI优化建议"卡片
3. 阅读建议内容（如："优化关键路径，缩短10%工期"）
4. 点击"采纳建议"按钮
5. 确认对话框选择"确认采纳"

#### 建议类型
- 📈 工期优化建议
- 💰 成本控制建议
- ⚠️ 风险预警建议
- 👥 资源调配建议

#### 效果验证
- ✅ 点击后弹出"采纳AI建议"对话框
- ✅ 确认后显示"已采纳AI建议，系统将自动执行"
- ✅ 建议从列表中移除
- ✅ 控制台无错误

---

### 4️⃣ AIPM项目筛选

#### 访问路径
营销 → 明升AICRM → AIPM项目管理 → 项目列表上方筛选器

#### 操作步骤
1. 进入AIPM标签页
2. 找到项目列表上方的筛选下拉菜单
3. 点击下拉菜单
4. 选择筛选条件

#### 筛选选项
- **全部项目**：显示所有项目
- **进行中**：仅显示status='进行中'的项目
- **延期风险**：仅显示status='延期风险'的项目（红色警告）
- **已完成**：仅显示status='已完成'的项目

#### 效果验证
- ✅ 下拉菜单正常显示4个选项
- ✅ 选择后项目列表立即过滤
- ✅ 项目计数准确
- ✅ 甘特图同步更新

---

### 5️⃣ AIPM新建项目

#### 访问路径
营销 → 明升AICRM → AIPM项目管理 → 新建项目按钮

#### 操作步骤
1. 点击"新建项目"按钮
2. 填写项目基本信息：
   - 项目名称（必填）
   - 项目经理（必填）
   - 开始日期（必填）
   - 计划完成日期（必填）
   - 项目预算（选填）
   - 团队人数（选填）
   - 关键路径（选填）
   - 项目描述（选填）
3. 添加WBS任务分解：
   - 点击"添加任务"
   - 输入任务名称
   - 选择状态（未开始/进行中/已完成）
   - 设置进度百分比
4. 点击"确定创建"

#### 自动功能
- ✅ AI自动预测成功率（85%）
- ✅ 自动评估风险等级
- ✅ 自动计算工期
- ✅ 自动生成甘特图
- ✅ 项目列表自动刷新

#### 效果验证
- ✅ 新项目出现在列表顶部
- ✅ 甘特图显示新项目时间轴
- ✅ 项目筛选器可用
- ✅ 所有数据字段正确显示

---

## 🔍 验证检查清单

### Header组件验证
- [ ] 右上角显示🌐图标
- [ ] 点击后下拉菜单弹出
- [ ] 语言切换功能正常
- [ ] F12控制台无Globe相关错误

### AICRM主页验证
- [ ] 自然语言搜索框显示
- [ ] 输入关键词后可智能搜索
- [ ] "采纳推荐"按钮可点击
- [ ] 确认后显示成功消息

### AIPM标签验证
- [ ] AI优化建议卡片显示
- [ ] "采纳建议"按钮可点击
- [ ] 点击后弹出正确对话框（标题："采纳AI建议"）
- [ ] 项目筛选下拉菜单显示4个选项
- [ ] 筛选功能立即生效
- [ ] "新建项目"对话框正常打开
- [ ] 表单验证正常工作
- [ ] 创建成功后甘特图更新

---

## 🐛 常见问题

### Q1：看不到🌐图标怎么办？
**A**：清除浏览器缓存并刷新（Ctrl+Shift+R）

### Q2：点击"采纳建议"没反应？
**A**：检查控制台是否有错误，确保已修复`applyAIPMSuggestion`重复声明问题

### Q3：项目筛选下拉菜单为空？
**A**：确保已修复`filteredAIPMProjects`重复声明问题，重启开发服务器

### Q4：新建项目后甘特图不更新？
**A**：等待1-2秒让图表初始化完成，或切换到其他标签再切回来

---

## 📞 技术支持

如遇到其他问题，请检查：
1. 开发服务器是否正常运行
2. 浏览器控制台是否有错误
3. 是否已清除浏览器缓存
4. Node.js版本是否符合要求

---

**文档版本**：V1.0  
**最后更新**：2025-12-19  
**适用版本**：AIWEB1 V3.0+
