@echo off
chcp 65001 >nul
echo.
echo ========================================
echo   测试手机端应答机器人对话功能
echo ========================================
echo.
echo 问题：应答机器人在手机端不能对话
echo 修复：添加完整移动端响应式样式
echo 版本：v2.6.3
echo.
echo ========================================
echo   测试方法
echo ========================================
echo.
echo 方法1️⃣: 手机实测 (推荐)
echo ========================================
echo 1. 启动开发服务器
echo 2. 手机访问: http://192.168.31.105:3002
echo 3. 点击右下角AI助手按钮
echo 4. 尝试对话
echo.
echo 方法2️⃣: 浏览器模拟
echo ========================================
echo 1. 打开Chrome开发者工具 (F12)
echo 2. 设备模拟 (Ctrl+Shift+M)
echo 3. 选择: iPhone 12 Pro
echo 4. 刷新页面并测试
echo.
echo ========================================
echo   预期效果
echo ========================================
echo.
echo ✅ 聊天窗口全屏显示
echo ✅ 输入框始终可见
echo ✅ 虚拟键盘弹出后输入框不被遮挡
echo ✅ 可以正常输入和发送消息
echo ✅ 对话流畅无卡顿
echo ✅ 按钮和文字大小合适
echo ✅ 无水平滚动条
echo ✅ iOS无自动缩放
echo.
echo ========================================
echo   测试检查清单
echo ========================================
echo.
echo 基础功能:
echo [ ] AI助手按钮可见
echo [ ] 点击打开聊天窗口
echo [ ] 窗口全屏显示 (手机)
echo.
echo 输入功能:
echo [ ] 输入框可见并可点击
echo [ ] 虚拟键盘正常弹出
echo [ ] 输入框不被键盘遮挡
echo [ ] 可以输入和发送消息
echo.
echo 对话功能:
echo [ ] 用户消息正常显示
echo [ ] AI回复正常显示
echo [ ] 快捷问题可点击
echo.
echo 界面体验:
echo [ ] 字体大小合适
echo [ ] 按钮易于点击
echo [ ] 滚动流畅
echo [ ] 无缩放问题
echo.
echo ========================================
echo   开始测试
echo ========================================
echo.
echo 正在启动开发服务器...
echo.

cd /d "%~dp0"

REM 提示手机访问地址
echo.
echo ========================================
echo   手机访问地址
echo ========================================
echo.
echo 请在手机浏览器中输入:
echo.
echo     http://192.168.31.105:3002
echo.
echo 确保手机与电脑在同一WiFi网络下
echo.
echo ========================================
echo.
echo 同时在浏览器打开本地地址...
start "" "http://localhost:3002"

echo.
echo 启动服务器...
npm run dev

echo.
echo ========================================
echo   测试完成
echo ========================================
echo.
pause
