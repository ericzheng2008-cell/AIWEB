# ✅ 5173 端口问题解决完成

**问题**: 5173 端口打不开  
**时间**: 2025-12-23  
**状态**: ✅ 已解决

---

## 🔍 问题诊断

### 根本原因
1. **开发服务器未启动**: 没有运行 `npm run dev` 命令
2. **端口配置正确**: `vite.config.js` 中配置的端口是 5173

### 历史背景
- 项目之前使用过 **3002 端口**
- 后来改回了标准的 **5173 端口** (Vite 默认端口)
- 部分启动脚本还在使用旧的 3002 端口配置

---

## ✅ 解决方案

### 1️⃣ 启动开发服务器
```bash
npm run dev
```

### 2️⃣ 访问地址
- **本地访问**: http://localhost:5173
- **局域网访问**: http://[你的IP]:5173

---

## 📋 完整启动步骤

### 方式一: 命令行启动 (推荐)
```bash
# 1. 启动后端服务器
cd server
node index.js

# 2. 启动前端服务器 (新终端)
npm run dev
```

### 方式二: 使用批处理文件
双击运行: `⚡_一键启动AIWEB_2025-12-22.bat`

**注意**: 该脚本可能使用 3002 端口,建议手动启动使用 5173 端口

---

## 🔧 端口配置说明

### 当前端口分配
| 服务 | 端口 | 说明 |
|------|------|------|
| 前端开发服务器 | **5173** | Vite 默认端口 |
| 后端 API 服务器 | **5000** | Express 服务器 |
| 备用后端端口 | **3000** | 旧版配置 |

### vite.config.js 配置
```javascript
server: {
  host: '0.0.0.0',
  port: 5173,  // ✅ 当前使用端口
  allowedHosts: [
    '.cpolar.top',
    '.cpolar.cn',
    'localhost',
    '127.0.0.1',
    '0.0.0.0'
  ],
  proxy: {
    '/api': {
      target: 'http://localhost:5000',
      changeOrigin: true
    }
  }
}
```

---

## 🎯 验证服务器运行

### 检查端口占用
```bash
# Windows
netstat -ano | findstr ":5173"

# 如果看到输出,说明端口已被占用(服务器在运行)
# 如果没有输出,说明端口空闲(需要启动服务器)
```

### 检查进程
```bash
tasklist | findstr node
```

---

## 🚀 快速访问

### 本地访问
- 主页: http://localhost:5173
- 后台管理: http://localhost:5173/admin
- AI 智能体: http://localhost:5173/agents

### 功能模块
- 明升企业智能体: http://localhost:5173/agents
- AI 营销中台: http://localhost:5173/marketing
- AICRM: http://localhost:5173/aicrm
- 工作流编辑器: http://localhost:5173/workflow

---

## 📝 常见问题

### Q1: 端口被占用怎么办?
```bash
# 查找占用进程
netstat -ano | findstr ":5173"

# 结束进程 (PID 是上一步显示的进程ID)
taskkill /PID [进程ID] /F
```

### Q2: 修改端口号
编辑 `vite.config.js`:
```javascript
server: {
  port: 8080,  // 改为其他端口
  // ...
}
```

### Q3: 服务器启动成功但无法访问
1. 检查防火墙是否允许端口
2. 清除浏览器缓存: `Ctrl + Shift + Delete`
3. 强制刷新: `Ctrl + F5`

---

## 🎉 成功标志

服务器启动成功后,控制台会显示:
```
VITE v5.x.x  ready in xxx ms

➜  Local:   http://localhost:5173/
➜  Network: http://192.168.x.x:5173/
➜  press h to show help
```

---

## 📚 相关文档

- [Vite 官方文档](https://vitejs.dev/)
- [快速启动指南](./启动方式完整指南_2025-12-22.md)
- [端口配置说明](./📘_端口说明_2025-12-17.md)
- [部署完整方案](./DEPLOY_GUIDE.md)

---

**状态**: ✅ 问题已解决,服务器运行正常  
**验证**: http://localhost:5173 可正常访问  
**下次遇到**: 运行 `npm run dev` 启动服务器即可
