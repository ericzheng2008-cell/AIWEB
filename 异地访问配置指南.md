# AIWEB1 异地访问配置指南

## 🎯 目标

让其他人通过公网链接访问AIWEB，而不受地理位置限制

## 🔧 解决方案：使用cpolar内网穿透

### 方案1：cpolar临时隧道（免费，但每次重启URL会变）

#### 步骤1：启动AIWEB服务器
确保AIWEB已在5173端口运行

#### 步骤2：启动cpolar隧道
```bash
cpolar http 5173
```

#### 步骤3：获取公网URL
运行后会显示类似：
```
Forwarding    https://xxxx.vip.cpolar.cn -> http://localhost:5173
```

#### 步骤4：分享链接
将显示的 `https://xxxx.vip.cpolar.cn` 链接分享给其他人

**优点：** 免费、快速
**缺点：** 每次重启URL会变化

---

### 方案2：cpolar固定域名（推荐，需付费）

#### 价格
- 基础版：约10元/月
- 可获得固定域名，如 `msaiweb.vip.cpolar.cn`

#### 配置步骤

1. **登录cpolar控制台**
   ```
   https://dashboard.cpolar.com
   ```

2. **预留固定域名**
   - 隧道管理 → 预留域名
   - 添加域名：`msaiweb`
   - 区域选择：China VIP
   - 保存

3. **创建固定隧道**
   - 隧道管理 → 创建隧道
   - 隧道名称：`AIWEB`
   - 协议：`http`
   - 本地端口：`5173`
   - 域名类型：`二级子域名`
   - 子域名：`msaiweb`（即msaiweb.vip.cpolar.cn）
   - 保存

4. **启动固定隧道**
   ```bash
   cpolar start AIWEB
   ```

5. **设置开机自启**
   ```bash
   cpolar service install
   cpolar service start
   ```

---

### 方案3：使用其他内网穿透工具（免费）

#### A. frp（完全免费，需要服务器）
需要有一台公网服务器

#### B. ngrok（免费版有限制）
```bash
ngrok http 5173
```

#### C. Cloudflare Tunnel（免费，稳定）
```bash
# 安装cloudflared
cloudflared tunnel --url http://localhost:5173
```

---

### 方案4：部署到云服务器（最稳定）

#### 推荐平台
1. **阿里云/腾讯云**
   - 轻量应用服务器：约60元/月
   - 固定IP，独立域名

2. **Vercel/Netlify**
   - 前端免费托管
   - 后端需要Serverless改造

3. **Railway/Render**
   - 全栈部署
   - 免费额度：500小时/月

#### 部署步骤（Railway示例）
```bash
# 1. 安装Railway CLI
npm i -g @railway/cli

# 2. 登录
railway login

# 3. 初始化项目
cd C:\Users\EricZ\CodeBuddy\AIWEB1
railway init

# 4. 部署
railway up
```

---

## 🚀 快速启动脚本

### 一键启动AIWEB+cpolar

创建 `启动AIWEB并开启公网访问.bat`：
```batch
@echo off
echo ========================================
echo    AIWEB公网访问一键启动
echo ========================================

:: 启动后端
start "AIWEB后端" cmd /k "cd server && node index.js"
timeout /t 3 >nul

:: 启动前端
start "AIWEB前端" cmd /k "npx vite --port 5173 --host 0.0.0.0"
timeout /t 5 >nul

:: 启动cpolar
echo 正在启动cpolar内网穿透...
cpolar http 5173

pause
```

---

## 📊 方案对比

| 方案 | 费用 | 稳定性 | URL固定 | 速度 |
|------|------|--------|---------|------|
| cpolar临时 | 免费 | ⭐⭐⭐ | ❌ | ⭐⭐⭐⭐ |
| cpolar固定 | 10元/月 | ⭐⭐⭐⭐ | ✅ | ⭐⭐⭐⭐ |
| frp | 免费(需服务器) | ⭐⭐⭐⭐⭐ | ✅ | ⭐⭐⭐⭐⭐ |
| 云服务器 | 60+元/月 | ⭐⭐⭐⭐⭐ | ✅ | ⭐⭐⭐⭐⭐ |

---

## 💡 当前状态

✅ AIWEB前端：`http://localhost:5173`（已启动）
✅ AIWEB后端：`http://localhost:5000`（已启动）
🔄 cpolar隧道：正在启动...

**下一步：** 等待cpolar输出公网URL，然后分享给其他人

---

## 🔐 安全建议

1. **添加访问密码**
   - 在AIWEB中添加登录认证

2. **限制访问频率**
   - 防止恶意访问

3. **HTTPS加密**
   - cpolar自动提供HTTPS

4. **定期更换域名**
   - 如使用临时隧道

---

**提示：** cpolar正在启动，请查看命令窗口获取公网访问链接！
