# 📖 工作流智能体使用指南 - 2025-12-20

## 🎯 功能概述

工作流智能体是一个可视化流程管理工具，支持多部门工作流设计、拖拽式节点布局、智能连接线和实时协同。

### ✨ 核心功能

1. **多部门支持** - 14个部门独立工作流管理
2. **拖拽式设计** - 自由拖拽节点调整位置
3. **智能连接** - 可视化流程连接和流向
4. **自定义节点** - 手动输入节点文字
5. **属性编辑** - 完整的节点属性配置
6. **保存加载** - 自动保存到浏览器本地

---

## 📁 支持的部门列表

| 序号 | 部门名称 | 图标 | 说明 |
|------|----------|------|------|
| 1 | 研发部 | 🔬 | 产品研发流程 |
| 2 | 生产计划管理 | 📋 | 生产排程管理 |
| 3 | 质量部 | ✅ | 质量控制流程 |
| 4 | 工艺部 | ⚙️ | 工艺改进流程 |
| 5 | 商务内勤 | 📞 | 内勤业务流程 |
| 6 | 商务采购 | 🛒 | 采购管理流程 |
| 7 | 物流 | 🚚 | 物流配送流程 |
| 8 | 库房 | 📦 | 仓储管理流程 |
| 9 | 财务 | 💰 | 财务审批流程 |
| 10 | 企管 | 📊 | 企业管理流程 |
| 11 | 人事部 | 👥 | 人事管理流程 |
| 12 | 设备科 | 🔧 | 设备维护流程 |
| 13 | 车辆调度 | 🚗 | 车辆调度流程 |
| 14 | 车辆管理 | 🚙 | 车辆管理流程 |

---

## 🚀 快速开始

### 访问路径

**方式一：从首页进入**
1. 访问首页：`http://localhost:5173/`
2. 找到"智能体系统"板块
3. 点击"工作流智能体"卡片

**方式二：直接访问**
```
http://localhost:5173/workflow-agent
```

---

## 🎨 界面布局

### 三栏式布局

```
┌────────────┬──────────────────┬────────────┐
│            │                  │            │
│ 左侧控制面板│   中间画布区域   │ 右侧属性面板│
│            │                  │            │
│ - 部门选择  │  - 节点拖拽      │ - 节点属性  │
│ - 添加节点  │  - 连接线绘制    │ - 属性编辑  │
│ - 流程统计  │  - 缩放控制      │ - 详细配置  │
│            │                  │            │
└────────────┴──────────────────┴────────────┘
```

---

## 📝 使用教程

### 1. 选择部门

1. 在左侧控制面板顶部
2. 点击"选择部门"下拉框
3. 选择要设计工作流的部门
4. 系统会加载该部门已保存的工作流（如有）

### 2. 添加节点

**方法一：快速添加**
1. 在"添加节点"输入框中输入节点名称
2. 选择节点类型（开始/流程/决策/结束）
3. 点击"添加"按钮或按 Enter 键
4. 节点会自动添加到画布中

**方法二：拖拽添加**
1. 从节点库中选择节点类型
2. 拖拽到画布合适位置
3. 释放鼠标完成添加

### 3. 编辑节点

**方法一：双击编辑**
1. 双击画布上的节点
2. 在弹出对话框中修改节点信息
3. 点击"确定"保存

**方法二：属性面板编辑**
1. 单击选中节点
2. 右侧属性面板显示节点详情
3. 编辑以下属性：
   - 节点名称
   - 所属部门
   - 节点类型
   - 节点颜色
   - 处理时长（小时）
   - 负责人
   - 描述信息

### 4. 移动节点

1. 按住节点拖拽
2. 移动到目标位置
3. 释放鼠标固定位置

### 5. 连接节点

**方法一：点击连接**
1. 点击源节点底部的连接按钮
2. 移动鼠标，会出现绿色虚线
3. 点击目标节点完成连接

**方法二：拖拽连接**
1. 将鼠标悬停在节点上
2. 点击出现的连接按钮
3. 拖拽到目标节点

### 6. 删除节点/连接

**删除节点：**
- 右键点击节点
- 确认删除（相关连接会自动删除）

**删除连接：**
- 点击连接线
- 确认删除

### 7. 画布操作

**缩放：**
- 点击画布头部的"放大"/"缩小"按钮
- 或使用鼠标滚轮

**重置：**
- 点击"重置"按钮恢复默认缩放

### 8. 保存工作流

1. 完成工作流设计
2. 点击顶部"保存工作流"按钮
3. 数据自动保存到浏览器本地存储
4. 下次进入自动加载

### 9. 清空画布

1. 点击顶部"清空画布"按钮
2. 确认后删除所有节点和连接
3. 可重新设计工作流

---

## 🎯 节点类型说明

### 1. 开始节点（绿色）
- **用途**：标记流程起始点
- **颜色**：#67C23A
- **图标**：▶️ VideoPlay
- **建议**：每个工作流只有一个开始节点

### 2. 流程节点（蓝色）
- **用途**：表示具体的处理步骤
- **颜色**：#409EFF
- **图标**：📄 Document
- **建议**：可以有多个流程节点

### 3. 决策节点（橙色）
- **用途**：表示需要判断的分支点
- **颜色**：#E6A23C
- **图标**：❓ QuestionFilled
- **样式**：菱形边框
- **建议**：用于条件判断、审批节点

### 4. 结束节点（红色）
- **用途**：标记流程结束点
- **颜色**：#F56C6C
- **图标**：⏸️ VideoPause
- **建议**：每个工作流至少一个结束节点

---

## 💡 使用技巧

### 1. 工作流设计原则
- **清晰性**：节点命名简洁明了
- **完整性**：确保有明确的开始和结束
- **逻辑性**：连接线体现流程流向
- **规范性**：同类节点使用相同颜色

### 2. 节点布局建议
- **从上到下**：按时间顺序纵向排列
- **从左到右**：按逻辑分支横向展开
- **对齐整齐**：保持视觉美观
- **留有间距**：避免节点过于拥挤

### 3. 快捷操作
| 操作 | 快捷方式 |
|------|----------|
| 添加节点 | Enter（输入节点名后） |
| 选择节点 | 单击节点 |
| 移动节点 | 拖拽节点 |
| 编辑节点 | 双击节点 |
| 删除节点 | 右键节点 |
| 画布缩放 | 鼠标滚轮 |

### 4. 多部门协作
- 为不同部门设置不同颜色
- 使用"所属部门"属性标记节点归属
- 可以在同一工作流中包含多个部门节点
- 通过连接线体现跨部门流转

---

## 📊 工作流示例

### 示例一：研发部产品开发流程

```
开始
  ↓
需求分析（研发部）
  ↓
方案设计（研发部）
  ↓
技术评审（决策）
  ├─ 通过 → 开发实施
  └─ 不通过 → 返回方案设计
  ↓
原型测试（质量部）
  ↓
生产交接（生产计划管理）
  ↓
结束
```

### 示例二：商务采购流程

```
开始
  ↓
采购申请（商务内勤）
  ↓
需求审核（决策）
  ├─ 批准 → 供应商询价
  └─ 拒绝 → 结束
  ↓
供应商询价（商务采购）
  ↓
比价分析（决策）
  ↓
采购执行（商务采购）
  ↓
质量验收（质量部）
  ↓
入库管理（库房）
  ↓
财务付款（财务）
  ↓
结束
```

### 示例三：设备维护流程

```
开始
  ↓
设备报修（设备科）
  ↓
故障诊断（决策）
  ├─ 简单维修 → 现场维修
  └─ 复杂维修 → 配件采购
  ↓
配件采购（商务采购）
  ↓
配件入库（库房）
  ↓
维修实施（设备科）
  ↓
测试验收（质量部）
  ↓
财务结算（财务）
  ↓
结束
```

---

## 🔧 高级功能

### 1. 节点属性

每个节点支持以下属性：

| 属性 | 说明 | 示例 |
|------|------|------|
| 节点名称 | 节点显示的文字 | "需求分析" |
| 所属部门 | 节点归属部门 | "研发部" |
| 节点类型 | 开始/流程/决策/结束 | "流程" |
| 节点颜色 | 自定义颜色 | #409EFF |
| 处理时长 | 预计耗时（小时） | 24 |
| 负责人 | 责任人姓名 | "张三" |
| 描述 | 详细说明 | "进行产品需求调研和分析" |

### 2. 连接线属性

- 自动贝塞尔曲线
- 带箭头指向
- 悬停高亮显示
- 点击可删除

### 3. 数据持久化

- 每个部门的工作流独立保存
- 保存位置：浏览器 localStorage
- 保存格式：JSON
- 自动加载上次保存的状态

---

## 📱 响应式设计

### 桌面端（> 1400px）
- 三栏并排显示
- 完整功能展示

### 平板端（< 1400px）
- 纵向堆叠布局
- 控制面板在顶部
- 画布在中间
- 属性面板在底部

### 移动端
- 单栏显示
- 简化操作界面
- 触摸拖拽支持

---

## 🎨 颜色方案

### 默认节点颜色

| 节点类型 | 颜色代码 | 颜色名称 |
|----------|----------|----------|
| 开始节点 | #67C23A | 绿色 |
| 流程节点 | #409EFF | 蓝色 |
| 决策节点 | #E6A23C | 橙色 |
| 结束节点 | #F56C6C | 红色 |

### 部门颜色（可自定义）

| 部门 | 默认颜色 |
|------|----------|
| 研发部 | #409EFF |
| 生产计划 | #67C23A |
| 质量部 | #E6A23C |
| 工艺部 | #F56C6C |
| ...其他部门 | 循环使用 |

---

## 🚨 常见问题

### Q1: 如何保存工作流？
A: 点击顶部"保存工作流"按钮，数据会自动保存到浏览器本地。

### Q2: 数据会丢失吗？
A: 只要不清除浏览器缓存，数据会一直保存在本地。

### Q3: 可以导出工作流吗？
A: 当前版本支持浏览器本地保存，未来版本将支持导出为图片/PDF。

### Q4: 如何删除节点？
A: 右键点击节点，在弹出的确认框中点击确定即可删除。

### Q5: 连接线如何删除？
A: 点击连接线，在确认框中点击确定即可删除。

### Q6: 可以同时编辑多个部门的工作流吗？
A: 可以，每个部门的工作流独立保存，可以随时切换编辑。

### Q7: 节点可以自由移动吗？
A: 可以，按住节点拖拽即可移动到任意位置。

### Q8: 如何修改节点颜色？
A: 选中节点后，在右侧属性面板中使用颜色选择器修改。

---

## 🎯 最佳实践

### 1. 流程设计建议

**DO（推荐）：**
- ✅ 使用清晰的节点命名
- ✅ 保持流程简洁明了
- ✅ 合理使用决策节点
- ✅ 标注关键时间节点
- ✅ 定期保存工作流

**DON'T（不推荐）：**
- ❌ 节点命名过于复杂
- ❌ 流程过于冗长
- ❌ 缺少开始/结束节点
- ❌ 连接线交叉混乱
- ❌ 忘记保存修改

### 2. 部门协作建议

1. **明确职责边界**
   - 每个节点标注清楚负责部门
   - 使用不同颜色区分部门

2. **优化流转效率**
   - 减少不必要的流转环节
   - 合并相似的审批步骤

3. **时间估算准确**
   - 填写实际的处理时长
   - 便于整体流程时间评估

---

## 📞 技术支持

如遇问题，请参考：
- 📖 本使用指南
- 🎯 界面内的操作提示
- 💬 联系技术支持团队

---

**创建时间**：2025-12-20  
**版本号**：v1.0.0  
**适用范围**：AIWEB工作流智能体  
**更新日期**：2025-12-20
