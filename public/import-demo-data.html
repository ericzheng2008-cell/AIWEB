<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¼å…¥æ¼”ç¤ºæ•°æ®</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f7fa;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .section h3 {
            margin-top: 0;
            color: #409eff;
        }
        button {
            padding: 12px 24px;
            background: #409eff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        button:hover {
            background: #66b1ff;
        }
        button.danger {
            background: #f56c6c;
        }
        button.danger:hover {
            background: #f78989;
        }
        button.success {
            background: #67c23a;
        }
        button.success:hover {
            background: #85ce61;
        }
        textarea {
            width: 100%;
            min-height: 200px;
            padding: 12px;
            border: 1px solid #dcdfe6;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin-top: 10px;
        }
        .alert {
            padding: 12px 16px;
            border-radius: 4px;
            margin: 15px 0;
        }
        .alert-success {
            background: #f0f9ff;
            border-left: 4px solid #409eff;
            color: #409eff;
        }
        .alert-warning {
            background: #fdf6ec;
            border-left: 4px solid #e6a23c;
            color: #e6a23c;
        }
        .alert-info {
            background: #f4f4f5;
            border-left: 4px solid #909399;
            color: #606266;
        }
        code {
            background: #f4f4f5;
            padding: 2px 8px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e6a23c;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“¦ æ¼”ç¤ºæ•°æ®ç®¡ç†å·¥å…·</h1>
        <p class="subtitle">å¯¼å‡º/å¯¼å…¥ç½‘ç«™çš„æ¼”ç¤ºæ•°æ®ï¼Œç¡®ä¿æ‰€æœ‰è®¿å®¢çœ‹åˆ°ç›¸åŒå†…å®¹</p>

        <div class="alert alert-info">
            <strong>ğŸ’¡ ä½¿ç”¨è¯´æ˜ï¼š</strong><br>
            1. åœ¨æœ¬åœ°å®Œæˆæ‰€æœ‰åå°æ•°æ®é…ç½®<br>
            2. ç‚¹å‡»"å¯¼å‡ºå½“å‰æ•°æ®"è·å–æ•°æ®ä»£ç <br>
            3. å°†ä»£ç å¤åˆ¶åˆ°ä¸‹æ–¹"è‡ªåŠ¨åˆå§‹åŒ–æ•°æ®"åŒºåŸŸ<br>
            4. é‡æ–°æ„å»ºé¡¹ç›® (npm run build)<br>
            5. éƒ¨ç½²åï¼Œæ‰€æœ‰è®¿å®¢éƒ½èƒ½çœ‹åˆ°ç›¸åŒçš„æ¼”ç¤ºæ•°æ®
        </div>

        <!-- å¯¼å‡ºæ•°æ® -->
        <div class="section">
            <h3>ğŸ“¤ å¯¼å‡ºå½“å‰æ•°æ®</h3>
            <p>å¯¼å‡ºå½“å‰æµè§ˆå™¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬äº§å“ã€CMSå†…å®¹ç­‰ï¼‰</p>
            <button onclick="exportData()">ğŸ“¥ å¯¼å‡ºå½“å‰æ•°æ®</button>
            <button onclick="exportToFile()">ğŸ’¾ ä¸‹è½½ä¸ºæ–‡ä»¶</button>
            <textarea id="exportArea" placeholder="å¯¼å‡ºçš„æ•°æ®å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
        </div>

        <!-- å¯¼å…¥æ•°æ® -->
        <div class="section">
            <h3>ğŸ“¥ å¯¼å…¥æ¼”ç¤ºæ•°æ®</h3>
            <p>å°†ä¸‹æ–¹çš„æ•°æ®ä»£ç å¯¼å…¥åˆ°å½“å‰æµè§ˆå™¨</p>
            <button class="success" onclick="importData()">âœ… å¯¼å…¥æ•°æ®</button>
            <button class="danger" onclick="clearData()">ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰æ•°æ®</button>
            <textarea id="importArea" placeholder="ç²˜è´´å¯¼å‡ºçš„æ•°æ®ä»£ç ..."></textarea>
        </div>

        <!-- è‡ªåŠ¨åˆå§‹åŒ– -->
        <div class="section">
            <h3>ğŸ”§ è®¾ç½®é»˜è®¤æ¼”ç¤ºæ•°æ®</h3>
            <div class="alert alert-warning">
                <strong>âš ï¸ å¼€å‘è€…ä¸“ç”¨ï¼š</strong>æ­¤åŠŸèƒ½éœ€è¦ä¿®æ”¹æºä»£ç ã€‚å°†å¯¼å‡ºçš„æ•°æ®ä»£ç æ·»åŠ åˆ°åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½ã€‚
            </div>
            <p>æ­¥éª¤ï¼š</p>
            <ol>
                <li>å¯¼å‡ºæ‚¨é…ç½®å¥½çš„æ•°æ®</li>
                <li>å¤åˆ¶æ•°æ®ä»£ç </li>
                <li>ç¼–è¾‘ <code>src/main.js</code> æ–‡ä»¶</li>
                <li>åœ¨åº”ç”¨å¯åŠ¨æ—¶æ£€æŸ¥å¹¶åŠ è½½é»˜è®¤æ•°æ®</li>
            </ol>
            <button onclick="showInitCode()">ğŸ“‹ æŸ¥çœ‹åˆå§‹åŒ–ä»£ç ç¤ºä¾‹</button>
        </div>

        <div id="result"></div>
    </div>

    <script>
        // å¯¼å‡ºæ•°æ®
        function exportData() {
            const data = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                data[key] = localStorage.getItem(key);
            }
            
            const jsonStr = JSON.stringify(data, null, 2);
            document.getElementById('exportArea').value = jsonStr;
            showMessage('âœ… æ•°æ®å¯¼å‡ºæˆåŠŸï¼å…± ' + Object.keys(data).length + ' é¡¹', 'success');
        }

        // å¯¼å‡ºä¸ºæ–‡ä»¶
        function exportToFile() {
            const data = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                data[key] = localStorage.getItem(key);
            }
            
            const jsonStr = JSON.stringify(data, null, 2);
            const blob = new Blob([jsonStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'demo-data-' + new Date().toISOString().slice(0,10) + '.json';
            a.click();
            URL.revokeObjectURL(url);
            showMessage('âœ… æ•°æ®å·²ä¸‹è½½ï¼', 'success');
        }

        // å¯¼å…¥æ•°æ®
        function importData() {
            const jsonStr = document.getElementById('importArea').value.trim();
            if (!jsonStr) {
                showMessage('âŒ è¯·å…ˆç²˜è´´æ•°æ®ä»£ç ï¼', 'warning');
                return;
            }

            try {
                const data = JSON.parse(jsonStr);
                let count = 0;
                for (const [key, value] of Object.entries(data)) {
                    localStorage.setItem(key, value);
                    count++;
                }
                showMessage('âœ… æ•°æ®å¯¼å…¥æˆåŠŸï¼å…±å¯¼å…¥ ' + count + ' é¡¹ã€‚è¯·åˆ·æ–°é¡µé¢æŸ¥çœ‹æ•ˆæœã€‚', 'success');
                setTimeout(() => {
                    if (confirm('æ˜¯å¦ç«‹å³åˆ·æ–°é¡µé¢æŸ¥çœ‹æ•ˆæœï¼Ÿ')) {
                        location.reload();
                    }
                }, 1000);
            } catch (e) {
                showMessage('âŒ æ•°æ®æ ¼å¼é”™è¯¯ï¼š' + e.message, 'warning');
            }
        }

        // æ¸…ç©ºæ•°æ®
        function clearData() {
            if (confirm('âš ï¸ ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
                localStorage.clear();
                showMessage('âœ… æ‰€æœ‰æ•°æ®å·²æ¸…ç©ºï¼è¯·åˆ·æ–°é¡µé¢ã€‚', 'success');
                setTimeout(() => location.reload(), 1500);
            }
        }

        // æ˜¾ç¤ºåˆå§‹åŒ–ä»£ç 
        function showInitCode() {
            const code = `// åœ¨ src/main.js ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç 

// æ£€æŸ¥æ˜¯å¦é¦–æ¬¡è®¿é—®ï¼ŒåŠ è½½é»˜è®¤æ¼”ç¤ºæ•°æ®
function initDemoData() {
  // å¦‚æœå·²æœ‰æ•°æ®ï¼Œä¸é‡å¤åŠ è½½
  if (localStorage.getItem('demoDataLoaded')) {
    return;
  }

  // é»˜è®¤æ¼”ç¤ºæ•°æ®ï¼ˆä»å¯¼å‡ºåŠŸèƒ½è·å–ï¼‰
  const demoData = {
    // å°†å¯¼å‡ºçš„æ•°æ®ç²˜è´´åœ¨è¿™é‡Œ
    // ä¾‹å¦‚ï¼š
    // "cms": "{\\"homeBanners\\":[...]}",
    // "products": "{\\"list\\":[...]}",
  };

  // å¯¼å…¥æ•°æ®
  for (const [key, value] of Object.entries(demoData)) {
    if (!localStorage.getItem(key)) {
      localStorage.setItem(key, value);
    }
  }

  // æ ‡è®°å·²åŠ è½½
  localStorage.setItem('demoDataLoaded', 'true');
  console.log('âœ… é»˜è®¤æ¼”ç¤ºæ•°æ®å·²åŠ è½½');
}

// åœ¨åˆ›å»º Vue åº”ç”¨å‰è°ƒç”¨
initDemoData();

// ç„¶åæ˜¯åŸæ¥çš„ä»£ç 
createApp(App)
  .use(router)
  .use(pinia)
  .mount('#app');`;

            document.getElementById('importArea').value = code;
            showMessage('ğŸ“‹ åˆå§‹åŒ–ä»£ç ç¤ºä¾‹å·²å¤åˆ¶åˆ°ä¸‹æ–¹æ–‡æœ¬æ¡†', 'success');
        }

        // æ˜¾ç¤ºæ¶ˆæ¯
        function showMessage(msg, type = 'info') {
            const result = document.getElementById('result');
            result.innerHTML = \`<div class="alert alert-\${type}">\${msg}</div>\`;
            setTimeout(() => {
                result.innerHTML = '';
            }, 5000);
        }

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºå½“å‰æ•°æ®ç»Ÿè®¡
        window.onload = function() {
            const count = localStorage.length;
            if (count > 0) {
                showMessage(\`ğŸ“Š å½“å‰æµè§ˆå™¨ä¸­æœ‰ \${count} é¡¹æ•°æ®\`, 'info');
            } else {
                showMessage('â„¹ï¸ å½“å‰æµè§ˆå™¨ä¸­æ²¡æœ‰æ•°æ®', 'info');
            }
        };
    </script>
</body>
</html>
