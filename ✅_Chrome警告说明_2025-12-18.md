# âœ… Chromeæµè§ˆå™¨è­¦å‘Šè¯´æ˜
**æ—¥æœŸï¼š2025-12-18**

---

## ğŸ“‹ è­¦å‘Šä¿¡æ¯

```
crbug/1173575, non-JS module files deprecated.
```

---

## ğŸ” é—®é¢˜åˆ†æ

### è¿™æ˜¯ä»€ä¹ˆï¼Ÿ
è¿™æ˜¯Chromeæµè§ˆå™¨çš„ä¸€ä¸ª**åºŸå¼ƒè­¦å‘Š**ï¼ˆdeprecation warningï¼‰ï¼Œä¸æ˜¯é”™è¯¯ã€‚

### ä¸ºä»€ä¹ˆä¼šå‡ºç°ï¼Ÿ
Chromeæµè§ˆå™¨æ£€æµ‹åˆ°åœ¨ESæ¨¡å—ä¸­ç›´æ¥å¯¼å…¥éJavaScriptæ–‡ä»¶ï¼ˆCSSã€JSONç­‰ï¼‰ï¼š

```javascript
// main.js ä¸­çš„å¯¼å…¥
import 'element-plus/dist/index.css'
import './assets/style.css'
import './assets/responsive.css'

// i18n/index.js ä¸­çš„å¯¼å…¥
import zhCN from './locales/zh-CN.json'
import enUS from './locales/en-US.json'
```

### è¿™æ˜¯é”™è¯¯å—ï¼Ÿ
**âŒ ä¸æ˜¯é”™è¯¯ï¼**

âœ… è¿™æ˜¯**æ­£å¸¸çš„å¼€å‘å®è·µ**  
âœ… Viteæ„å»ºå·¥å…·**å®Œå…¨æ”¯æŒ**  
âœ… ç”Ÿäº§ç¯å¢ƒ**æ²¡æœ‰é—®é¢˜**  
âœ… æ‰€æœ‰ç°ä»£æ¡†æ¶éƒ½è¿™æ ·åš

---

## ğŸ¯ ä¸ºä»€ä¹ˆå¯ä»¥å®‰å…¨å¿½ç•¥

### 1. Viteæ„å»ºç³»ç»Ÿå¤„ç†
Viteä¼šè‡ªåŠ¨å¤„ç†è¿™äº›å¯¼å…¥ï¼š
- **å¼€å‘ç¯å¢ƒ**ï¼šé€šè¿‡HMRæ³¨å…¥æ ·å¼
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šæ‰“åŒ…åˆ°å•ç‹¬çš„CSSæ–‡ä»¶

### 2. è¿™æ˜¯æ ‡å‡†åšæ³•
æ‰€æœ‰ä¸»æµæ¡†æ¶éƒ½ä½¿ç”¨è¿™ç§æ–¹å¼ï¼š
- âœ… Vue 3
- âœ… React
- âœ… Angular
- âœ… Svelte

### 3. ç”Ÿäº§ç¯å¢ƒæ— å½±å“
æ‰“åŒ…åçš„ä»£ç ä¸ä¼šæœ‰è¿™ä¸ªè­¦å‘Šï¼š
```bash
npm run build
# ç”Ÿäº§ç¯å¢ƒä»£ç å®Œå…¨æ­£å¸¸
```

---

## ğŸ”§ å¦‚æœæƒ³æ¶ˆé™¤è­¦å‘Šï¼ˆå¯é€‰ï¼‰

è™½ç„¶ä¸å¿…è¦ï¼Œä½†å¦‚æœä½ æƒ³æ¶ˆé™¤æ§åˆ¶å°çš„è­¦å‘Šï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š

### æ–¹æ³•1ï¼šä½¿ç”¨assertè¯­æ³•ï¼ˆæ¨èï¼‰â­

**ä¿®æ”¹ `src/i18n/index.js`ï¼š**
```javascript
// æ—§æ–¹å¼
import zhCN from './locales/zh-CN.json'

// æ–°æ–¹å¼ï¼ˆä½¿ç”¨import assertionsï¼‰
import zhCN from './locales/zh-CN.json' assert { type: 'json' }
import enUS from './locales/en-US.json' assert { type: 'json' }
import esES from './locales/es-ES.json' assert { type: 'json' }
import deDE from './locales/de-DE.json' assert { type: 'json' }
import jaJP from './locales/ja-JP.json' assert { type: 'json' }
import ptBR from './locales/pt-BR.json' assert { type: 'json' }
import frFR from './locales/fr-FR.json' assert { type: 'json' }
```

**æ³¨æ„ï¼š** CSSå¯¼å…¥ä¸éœ€è¦ä¿®æ”¹ï¼ŒViteä¼šè‡ªåŠ¨å¤„ç†ã€‚

---

### æ–¹æ³•2ï¼šåŠ¨æ€å¯¼å…¥JSON

**ä¿®æ”¹ `src/i18n/index.js`ï¼š**
```javascript
import { createI18n } from 'vue-i18n'

// ä½¿ç”¨åŠ¨æ€å¯¼å…¥
const messages = {
  'zh-CN': (await import('./locales/zh-CN.json')).default,
  'en-US': (await import('./locales/en-US.json')).default,
  'es-ES': (await import('./locales/es-ES.json')).default,
  'de-DE': (await import('./locales/de-DE.json')).default,
  'ja-JP': (await import('./locales/ja-JP.json')).default,
  'pt-BR': (await import('./locales/pt-BR.json')).default,
  'fr-FR': (await import('./locales/fr-FR.json')).default
}

const i18n = createI18n({
  legacy: false,
  locale: localStorage.getItem('language') || 'zh-CN',
  fallbackLocale: 'zh-CN',
  messages
})

export default i18n
```

**æ³¨æ„ï¼š** éœ€è¦å°†æ–‡ä»¶æ”¹ä¸ºasyncå‡½æ•°æˆ–åœ¨main.jsä¸­å¼‚æ­¥åŠ è½½ã€‚

---

### æ–¹æ³•3ï¼šç¦ç”¨Chromeè­¦å‘Šï¼ˆæœ€ç®€å•ï¼‰â­

**åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿‡æ»¤ï¼š**
```
1. F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. Console æ ‡ç­¾
3. ç‚¹å‡»å³ä¾§çš„"è¿‡æ»¤"å›¾æ ‡
4. é€‰æ‹© "Hide warnings" ï¼ˆéšè—è­¦å‘Šï¼‰
```

æˆ–è€…åœ¨Consoleè®¾ç½®ä¸­ï¼š
```
1. F12 â†’ Console
2. ç‚¹å‡»è®¾ç½®å›¾æ ‡ï¼ˆé½¿è½®ï¼‰
3. å‹¾é€‰ "Hide deprecations"
```

---

## ğŸ“Š å½±å“è¯„ä¼°

### å¯¹å¼€å‘çš„å½±å“
| æ–¹é¢ | å½±å“ç¨‹åº¦ | è¯´æ˜ |
|------|----------|------|
| **åŠŸèƒ½** | âŒ æ— å½±å“ | æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ |
| **æ€§èƒ½** | âŒ æ— å½±å“ | å¼€å‘å’Œç”Ÿäº§éƒ½æ­£å¸¸ |
| **æ„å»º** | âŒ æ— å½±å“ | Viteæ­£å¸¸æ‰“åŒ… |
| **æ§åˆ¶å°** | âš ï¸ è­¦å‘Šä¿¡æ¯ | ä»…æ˜¾ç¤ºè­¦å‘Šï¼Œä¸å½±å“ä½¿ç”¨ |

### æ˜¯å¦éœ€è¦ç«‹å³ä¿®å¤ï¼Ÿ
**âŒ ä¸éœ€è¦**

ç†ç”±ï¼š
1. âœ… è¿™æ˜¯å¼€å‘ç¯å¢ƒçš„è­¦å‘Š
2. âœ… ç”Ÿäº§ç¯å¢ƒå®Œå…¨æ­£å¸¸
3. âœ… æ‰€æœ‰åŠŸèƒ½éƒ½èƒ½æ­£å¸¸å·¥ä½œ
4. âœ… Viteå®˜æ–¹æ¨èçš„åšæ³•

---

## ğŸ¯ æ¨èåšæ³•

### ç°é˜¶æ®µï¼ˆç«‹å³ï¼‰
âœ… **å®‰å…¨å¿½ç•¥æ­¤è­¦å‘Š**

åŸå› ï¼š
- ä¸å½±å“ä»»ä½•åŠŸèƒ½
- ä¸å½±å“æ€§èƒ½
- ä¸å½±å“ç”¨æˆ·ä½“éªŒ
- ç”Ÿäº§ç¯å¢ƒæ— æ­¤è­¦å‘Š

### æœªæ¥ï¼ˆå¯é€‰ï¼‰
å¦‚æœChromeå°†æ¥å¼ºåˆ¶æ‰§è¡Œï¼ˆå¯èƒ½æ€§å¾ˆå°ï¼‰ï¼Œå†è€ƒè™‘ä¿®æ”¹ä¸ºï¼š
```javascript
import json from './file.json' assert { type: 'json' }
```

---

## ğŸ” æ·±å…¥ç†è§£

### Chromeçš„æ‹…å¿§
Chromeè­¦å‘Šçš„åŸå› ï¼š
1. **å®‰å…¨æ€§**ï¼šé˜²æ­¢æ¶æ„è„šæœ¬ä¼ªè£…æˆJSON
2. **æ ‡å‡†åŒ–**ï¼šæ¨åŠ¨ä½¿ç”¨import assertionsæ ‡å‡†

### Viteçš„ç«‹åœº
Viteç»§ç»­æ”¯æŒç›´æ¥å¯¼å…¥ï¼Œå› ä¸ºï¼š
1. **æ„å»ºæ—¶å¤„ç†**ï¼šæ‰€æœ‰å¯¼å…¥åœ¨æ„å»ºæ—¶è¢«å¤„ç†
2. **å¼€å‘ä½“éªŒ**ï¼šç®€åŒ–å¼€å‘è€…å·¥ä½œæµ
3. **å‘åå…¼å®¹**ï¼šä¸ç ´åç°æœ‰ä»£ç 

### è¡Œä¸šç°çŠ¶
- âœ… Vue CLI æ”¯æŒ
- âœ… Create React App æ”¯æŒ
- âœ… Next.js æ”¯æŒ
- âœ… Nuxt æ”¯æŒ
- âœ… Webpack æ”¯æŒ
- âœ… Rollup æ”¯æŒ

---

## ğŸ“š ç›¸å…³é“¾æ¥

### Chrome Bugè¿½è¸ª
- [crbug/1173575](https://bugs.chromium.org/p/chromium/issues/detail?id=1173575)
- Import assertions ææ¡ˆ

### Viteæ–‡æ¡£
- [é™æ€èµ„æºå¤„ç†](https://vitejs.dev/guide/assets.html)
- [JSONå¯¼å…¥](https://vitejs.dev/guide/features.html#json)
- [CSSå¯¼å…¥](https://vitejs.dev/guide/features.html#css)

---

## âœ… æ€»ç»“

### å…³é”®ç‚¹
1. **è¿™ä¸æ˜¯é”™è¯¯**ï¼Œåªæ˜¯Chromeçš„è­¦å‘Š
2. **å®Œå…¨å®‰å…¨**ï¼Œä¸å½±å“ä»»ä½•åŠŸèƒ½
3. **å¯ä»¥å¿½ç•¥**ï¼Œä¸éœ€è¦ç«‹å³ä¿®å¤
4. **è¡Œä¸šæ ‡å‡†**ï¼Œæ‰€æœ‰æ¡†æ¶éƒ½è¿™æ ·åš

### è¡ŒåŠ¨å»ºè®®
```
âœ… ç»§ç»­å¼€å‘ï¼Œæ— éœ€ä¿®æ”¹
âœ… éšè—æ§åˆ¶å°è­¦å‘Šï¼ˆå¯é€‰ï¼‰
âœ… ç­‰å¾…Chromeå’ŒViteçš„æœ€ç»ˆæ–¹æ¡ˆ
```

### å¦‚æœæƒ³ç«‹å³æ¶ˆé™¤è­¦å‘Š
```bash
# æ–¹æ³•1ï¼šåœ¨æ§åˆ¶å°è¿‡æ»¤è­¦å‘Š
F12 â†’ Console â†’ Hide warnings

# æ–¹æ³•2ï¼šä½¿ç”¨assertè¯­æ³•ï¼ˆä»…JSONæ–‡ä»¶ï¼‰
è§ä¸Šæ–‡"æ–¹æ³•1"

# æ–¹æ³•3ï¼šå®Œå…¨å¿½ç•¥ï¼ˆæ¨èï¼‰
ä¸åšä»»ä½•ä¿®æ”¹ï¼Œç»§ç»­å¼€å‘
```

---

**æ›´æ–°æ—¶é—´ï¼š** 2025-12-18  
**çŠ¶æ€ï¼š** âœ… å®‰å…¨å¿½ç•¥ï¼Œæ— éœ€ä¿®å¤  
**ä¼˜å…ˆçº§ï¼š** P3ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
