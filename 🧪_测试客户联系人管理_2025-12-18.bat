@echo off
chcp 65001 >nul
color 0A
echo.
echo ========================================
echo    🧪 测试客户与联系人管理功能
echo ========================================
echo.
echo 📋 测试清单：
echo.
echo ✅ 1. 添加客户功能
echo    - 点击绿色"添加客户"按钮
echo    - 填写客户信息（8个字段）
echo    - 保存并验证成功提示
echo.
echo ✅ 2. 添加联系人功能
echo    - 点击橙色"添加联系人"按钮
echo    - 填写联系人信息（20个字段）
echo    - 包含新增字段：分厂、车间、工作性质、工作关系
echo    - 保存并验证成功提示
echo.
echo ✅ 3. 组织关系图谱
echo    - 查看新增联系人是否显示
echo    - 验证分厂、车间、部门标签
echo    - 验证工作性质和工作关系标签
echo.
echo ✅ 4. 联系人详情
echo    - 点击联系人卡片
echo    - 验证所有新字段是否显示
echo.
echo ========================================
echo.
echo 🚀 启动开发服务器...
echo.
timeout /t 2 /nobreak >nul

cd /d "%~dp0"
start http://localhost:5173/#/aicrm
npm run dev

echo.
echo ========================================
echo    ✨ 浏览器已打开，请开始测试
echo ========================================
echo.
echo 💡 测试步骤：
echo.
echo 1️⃣  进入"商机管理"模块
echo 2️⃣  测试"添加客户"（绿色按钮）
echo 3️⃣  测试"添加联系人"（橙色按钮）
echo 4️⃣  打开任意商机详情
echo 5️⃣  点击"联系人关系图谱"按钮
echo 6️⃣  验证新增联系人显示效果
echo 7️⃣  点击联系人卡片查看详情
echo.
echo ========================================
pause
