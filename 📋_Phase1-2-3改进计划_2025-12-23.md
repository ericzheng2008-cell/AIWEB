# AIWEBé¡¹ç›®æ”¹è¿›è®¡åˆ’ - Phase 1-2-3

> **åŸºäº Claude Code è¯„ä¼°æŠ¥å‘Šçš„å®Œæ•´æ”¹è¿›è·¯çº¿å›¾**  
> åˆ›å»ºæ—¶é—´ï¼š2025-12-23  
> ç‰ˆæœ¬ï¼šv1.0.0

---

## ğŸ“Š é¡¹ç›®è¯„ä¼°æ¦‚è§ˆ

### å½“å‰è¯„åˆ†ï¼š2.6/5 â­â­â­â˜†â˜†

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| ä»£ç è´¨é‡ | 2/5 | Home.vueè¶…3000è¡Œï¼Œå­˜åœ¨å¤§é‡é‡å¤ä»£ç  |
| æ¶æ„è®¾è®¡ | 3/5 | æ¨¡å—åŒ–ä¸è¶³ï¼ŒèŒè´£ä¸æ¸…æ™° |
| å®‰å…¨æ€§ | 2/5 | æ–‡ä»¶ä¸Šä¼ ã€CSRFç­‰6é¡¹å®‰å…¨é—®é¢˜ |
| æ€§èƒ½ | 2/5 | æ— æ‡’åŠ è½½ï¼Œbundleä½“ç§¯è¿‡å¤§ |
| æµ‹è¯•è¦†ç›– | 1/5 | å‡ ä¹æ— æµ‹è¯•ä»£ç  |
| éƒ¨ç½²æ–¹æ¡ˆ | 4/5 | å¤šç§éƒ¨ç½²æ–¹æ¡ˆå®Œå–„ï¼ˆäº®ç‚¹ï¼‰ |
| æ–‡æ¡£è´¨é‡ | 3/5 | æ–‡æ¡£ä¸°å¯Œä½†ç»„ç»‡æ··ä¹± |

### ğŸš¨ æœ€ä¸¥é‡çš„3ä¸ªé—®é¢˜

1. **æ— æ•°æ®åº“æŒä¹…åŒ–** - æ‰€æœ‰æ•°æ®å­˜å†…å­˜ï¼Œé‡å¯å³ä¸¢å¤±ï¼ˆç”Ÿäº§ç¯å¢ƒè‡´å‘½ï¼‰
2. **å®‰å…¨æ¼æ´å¤š** - æ–‡ä»¶ä¸Šä¼ ã€CSRFã€è¾“å…¥éªŒè¯ç­‰é—®é¢˜
3. **ä»£ç è´¨é‡å‚å·®** - è¶…å¤§ç»„ä»¶ã€é‡å¤ä»£ç ã€ç¼ºå°‘æµ‹è¯•

---

## ğŸ¯ æ”¹è¿›è·¯çº¿å›¾

### Phase 1ï¼šç´§æ€¥ä¿®å¤ï¼ˆP0ä¼˜å…ˆçº§ï¼‰âš¡

**ç›®æ ‡ï¼šæ¶ˆé™¤ç”Ÿäº§ç¯å¢ƒé£é™©**  
**å·¥æœŸï¼š2äººÃ—3å‘¨ = 120å°æ—¶**

#### 1.1 æ•°æ®æŒä¹…åŒ– âœ… è¿›è¡Œä¸­

**é—®é¢˜ï¼š** æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé‡å¯å³ä¸¢å¤±

**æ–¹æ¡ˆï¼š** é›†æˆ SQLiteï¼ˆè½»é‡çº§ï¼‰â†’ PostgreSQLï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```javascript
// âœ… å®æ–½æ­¥éª¤
1. å®‰è£… better-sqlite3
2. åˆ›å»ºæ•°æ®åº“æ¶æ„ï¼ˆç”¨æˆ·ã€äº§å“ã€å†…å®¹ã€è®¢å•ç­‰ï¼‰
3. è¿ç§»ç°æœ‰å†…å­˜æ•°æ®åˆ°æ•°æ®åº“
4. æ·»åŠ æ•°æ®åº“å¤‡ä»½è„šæœ¬
```

**é¢„æœŸæ”¶ç›Šï¼š**
- âœ… æ•°æ®é›¶ä¸¢å¤±
- âœ… æ”¯æŒäº‹åŠ¡å’Œå¹¶å‘
- âœ… å¯æ‰©å±•è‡³ç”Ÿäº§çº§PostgreSQL

---

#### 1.2 æ–‡ä»¶ä¸Šä¼ å®‰å…¨åŠ å›º

**é—®é¢˜ï¼š** 
- æ–‡ä»¶ç±»å‹éªŒè¯ä»…åŸºäºæ‰©å±•åï¼ˆæ˜“ç»•è¿‡ï¼‰
- ç¼ºå°‘ç—…æ¯’æ‰«æ
- æ— æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆè§†é¢‘ä¸Šä¼ ï¼‰
- ä¸Šä¼ ç›®å½•å¯ç›´æ¥è®¿é—®

**æ–¹æ¡ˆï¼š**

```javascript
// âœ… å®‰å…¨æ”¹è¿›
const upload = multer({
  storage,
  limits: {
    fileSize: 10 * 1024 * 1024, // è§†é¢‘10MB
    files: 5 // æœ€å¤š5ä¸ªæ–‡ä»¶
  },
  fileFilter: (req, file, cb) => {
    // 1. æ£€æŸ¥MIMEç±»å‹
    const allowedMimes = [
      'image/jpeg', 'image/png', 'image/webp',
      'video/mp4', 'video/webm',
      'application/pdf'
    ]
    
    // 2. éªŒè¯æ–‡ä»¶å¤´ï¼ˆé­”æ•°ï¼‰
    const fileHeader = req.headers['content-type']
    
    // 3. æ£€æŸ¥ç”¨æˆ·æƒé™
    if (!req.user || !req.user.isAdmin) {
      return cb(new Error('æ— ä¸Šä¼ æƒé™'))
    }
    
    if (allowedMimes.includes(file.mimetype)) {
      cb(null, true)
    } else {
      cb(new Error('ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹'))
    }
  }
})

// âœ… æ–‡ä»¶å­˜å‚¨éš”ç¦»
app.use('/uploads', 
  authenticateToken, // éœ€è¦è®¤è¯
  express.static('uploads', {
    setHeaders: (res, path) => {
      res.setHeader('X-Content-Type-Options', 'nosniff')
    }
  })
)
```

---

#### 1.3 æ‹†åˆ†è¶…å¤§ç»„ä»¶ Home.vue

**é—®é¢˜ï¼š** Home.vue è¶…è¿‡3000è¡Œï¼Œéš¾ä»¥ç»´æŠ¤

**æ–¹æ¡ˆï¼š** æ‹†åˆ†ä¸º15-20ä¸ªå­ç»„ä»¶

```
Home.vue (200è¡Œ)
â”œâ”€â”€ HomeBanner.vue (100è¡Œ)
â”œâ”€â”€ HomeAgentCards.vue (150è¡Œ)
â”‚   â””â”€â”€ AgentCard.vue (50è¡Œ)
â”œâ”€â”€ HomeProductMatrix.vue (200è¡Œ)
â”‚   â”œâ”€â”€ ProductCard.vue (80è¡Œ)
â”‚   â””â”€â”€ ProductFilter.vue (100è¡Œ)
â”œâ”€â”€ HomeMarketingHub.vue (150è¡Œ)
â”œâ”€â”€ HomeChatbot.vue (300è¡Œ) - ç‹¬ç«‹åŠŸèƒ½
â””â”€â”€ HomeFooter.vue (80è¡Œ)
```

**é‡æ„åŸåˆ™ï¼š**
- å•ä¸€èŒè´£ï¼šæ¯ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹
- Props Down, Events Upï¼šæ•°æ®å•å‘æµåŠ¨
- å¯å¤ç”¨æ€§ï¼šæå–å…¬å…±é€»è¾‘åˆ° composables

---

### Phase 2ï¼šé‡è¦ä¼˜åŒ–ï¼ˆP1ä¼˜å…ˆçº§ï¼‰ğŸ”§

**ç›®æ ‡ï¼šæå‡ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§**  
**å·¥æœŸï¼š2äººÃ—5å‘¨ = 200å°æ—¶**

#### 2.1 å»ºç«‹æµ‹è¯•ä½“ç³»

**å½“å‰çŠ¶æ€ï¼š** æµ‹è¯•è¦†ç›–ç‡ < 1%

**ç›®æ ‡ï¼š** æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 60%

```javascript
// âœ… æµ‹è¯•æ¡†æ¶é€‰å‹
- Vitestï¼ˆä¸Viteå®Œç¾é›†æˆï¼‰
- Vue Test Utilsï¼ˆç»„ä»¶æµ‹è¯•ï¼‰
- Playwrightï¼ˆE2Eæµ‹è¯•ï¼‰

// âœ… ä¼˜å…ˆæµ‹è¯•æ¨¡å—
1. ç”¨æˆ·è®¤è¯é€»è¾‘ï¼ˆç™»å½•ã€æ³¨å†Œã€æƒé™ï¼‰
2. æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
3. äº§å“CRUDæ“ä½œ
4. å·¥ä½œæµå¼•æ“æ ¸å¿ƒé€»è¾‘
5. æ”¯ä»˜æµç¨‹
```

**ç¤ºä¾‹æµ‹è¯•ï¼š**

```javascript
// tests/unit/auth.test.js
import { describe, it, expect } from 'vitest'
import { login } from '@/utils/auth'

describe('ç”¨æˆ·è®¤è¯', () => {
  it('ç™»å½•æˆåŠŸè¿”å›token', async () => {
    const result = await login('admin', 'password')
    expect(result.token).toBeDefined()
  })
  
  it('é”™è¯¯å¯†ç è¿”å›401', async () => {
    await expect(login('admin', 'wrong')).rejects.toThrow()
  })
})
```

---

#### 2.2 ç»Ÿä¸€é”™è¯¯å¤„ç†

**é—®é¢˜ï¼š** é”™è¯¯å¤„ç†åˆ†æ•£ï¼Œç”¨æˆ·ä½“éªŒå·®

**æ–¹æ¡ˆï¼š** å…¨å±€é”™è¯¯æ‹¦æˆªå™¨ + å‹å¥½æç¤º

```javascript
// âœ… å‰ç«¯é”™è¯¯å¤„ç†
// src/utils/errorHandler.js
export const errorHandler = {
  // HTTPé”™è¯¯
  handleApiError(error) {
    const code = error.response?.status
    const messages = {
      400: 'è¯·æ±‚å‚æ•°é”™è¯¯',
      401: 'æœªç™»å½•æˆ–ç™»å½•å·²è¿‡æœŸ',
      403: 'æ— è®¿é—®æƒé™',
      404: 'èµ„æºä¸å­˜åœ¨',
      500: 'æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•'
    }
    
    ElMessage.error(messages[code] || 'æœªçŸ¥é”™è¯¯')
    
    // 401è‡ªåŠ¨è·³è½¬ç™»å½•
    if (code === 401) {
      router.push('/login')
    }
  },
  
  // Vueç»„ä»¶é”™è¯¯
  handleVueError(err, instance, info) {
    console.error('Vueé”™è¯¯:', err, info)
    ElNotification.error({
      title: 'é¡µé¢é”™è¯¯',
      message: 'é¡µé¢è¿è¡Œå‡ºé”™ï¼Œè¯·åˆ·æ–°é‡è¯•'
    })
  }
}

// âœ… åç«¯é”™è¯¯å¤„ç†
// server/middleware/errorHandler.js
export const errorHandler = (err, req, res, next) => {
  const statusCode = err.statusCode || 500
  
  // è®°å½•æ—¥å¿—
  logger.error({
    message: err.message,
    stack: err.stack,
    url: req.url,
    method: req.method,
    ip: req.ip
  })
  
  // ç”Ÿäº§ç¯å¢ƒéšè—å †æ ˆ
  const response = {
    success: false,
    message: err.message,
    ...(process.env.NODE_ENV === 'development' && { stack: err.stack })
  }
  
  res.status(statusCode).json(response)
}
```

---

#### 2.3 æ€§èƒ½ä¼˜åŒ–

**ç›®æ ‡ï¼šé¦–å±åŠ è½½æ—¶é—´ < 3ç§’ï¼ŒTTI < 5ç§’**

**ä¼˜åŒ–ç­–ç•¥ï¼š**

```javascript
// âœ… 1. è·¯ç”±æ‡’åŠ è½½
const routes = [
  {
    path: '/aicrm',
    component: () => import('@/views/MingShengAICRM.vue'),
    children: [
      {
        path: 'customers',
        component: () => import('@/components/CustomerManagement.vue')
      }
    ]
  }
]

// âœ… 2. å›¾ç‰‡æ‡’åŠ è½½
<LazyImage 
  :src="product.image" 
  :placeholder="'/assets/placeholder.webp'"
  loading="lazy"
/>

// âœ… 3. é•¿åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨
import { VirtualList } from 'vue-virtual-scroller'

<VirtualList
  :items="customers"
  :item-height="80"
  :buffer="5"
>
  <template #default="{ item }">
    <CustomerCard :customer="item" />
  </template>
</VirtualList>

// âœ… 4. é˜²æŠ–èŠ‚æµ
import { debounce } from 'lodash-es'

const handleSearch = debounce((keyword) => {
  // æœç´¢é€»è¾‘
}, 300)
```

---

#### 2.4 ä»£ç è§„èŒƒåŒ–

**æ–¹æ¡ˆï¼š** ESLint + Prettier + Husky

```json
// .eslintrc.json
{
  "extends": [
    "plugin:vue/vue3-recommended",
    "eslint:recommended"
  ],
  "rules": {
    "vue/multi-word-component-names": "error",
    "vue/component-api-style": ["error", ["script-setup"]],
    "no-console": "warn",
    "no-debugger": "error"
  }
}

// package.json
{
  "scripts": {
    "lint": "eslint src --ext .vue,.js --fix",
    "format": "prettier --write \"src/**/*.{vue,js,json}\""
  },
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
  },
  "lint-staged": {
    "*.{vue,js}": ["eslint --fix", "prettier --write"]
  }
}
```

---

### Phase 3ï¼šé•¿æœŸæ”¹è¿›ï¼ˆP2ä¼˜å…ˆçº§ï¼‰ğŸš€

**ç›®æ ‡ï¼šä¼ä¸šçº§æ¶æ„å‡çº§**  
**å·¥æœŸï¼š2äººÃ—8å‘¨ = 320å°æ—¶**

#### 3.1 å¾®æœåŠ¡æ¶æ„æ”¹é€ 

**å½“å‰æ¶æ„ï¼š** å•ä½“åç«¯  
**ç›®æ ‡æ¶æ„ï¼š** å¾®æœåŠ¡ + APIç½‘å…³

```
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  Nginx/Traefik  â”‚
                 â”‚  (API Gateway)   â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                â”‚                â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚  Auth   â”‚     â”‚  AICRM  â”‚     â”‚Workflow â”‚
    â”‚ Service â”‚     â”‚ Service â”‚     â”‚ Service â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚                â”‚                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  PostgreSQL   â”‚
                  â”‚  (Shared DB)  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 3.2 DockeråŒ–éƒ¨ç½²

**Dockerfile ä¼˜åŒ–ï¼š**

```dockerfile
# âœ… å¤šé˜¶æ®µæ„å»º - å‡å°‘é•œåƒä½“ç§¯
FROM node:20-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

# âœ… ç”Ÿäº§é•œåƒ
FROM nginx:alpine

COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/nginx.conf

EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

**docker-compose.ymlï¼š**

```yaml
version: '3.8'

services:
  frontend:
    build: .
    ports:
      - "80:80"
    depends_on:
      - backend
      
  backend:
    build: ./server
    ports:
      - "5000:5000"
    environment:
      DATABASE_URL: postgres://user:pass@db:5432/aiweb
    depends_on:
      - db
      
  db:
    image: postgres:16-alpine
    volumes:
      - postgres_data:/var/lib/postgresql/data
    environment:
      POSTGRES_PASSWORD: ${DB_PASSWORD}

volumes:
  postgres_data:
```

---

#### 3.3 ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ

**æŠ€æœ¯æ ˆï¼š**
- æ—¥å¿—ï¼šWinston + ELK Stack
- ç›‘æ§ï¼šPrometheus + Grafana
- è¿½è¸ªï¼šSentryï¼ˆé”™è¯¯ç›‘æ§ï¼‰

```javascript
// âœ… ç»“æ„åŒ–æ—¥å¿—
import winston from 'winston'

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
})

// âœ… æ€§èƒ½ç›‘æ§
import prometheus from 'prom-client'

const httpRequestDuration = new prometheus.Histogram({
  name: 'http_request_duration_seconds',
  help: 'HTTPè¯·æ±‚è€—æ—¶',
  labelNames: ['method', 'route', 'status']
})
```

---

## ğŸ“ˆ é¢„æœŸæ”¶ç›Š

| æ”¹è¿›é¡¹ | å½“å‰çŠ¶æ€ | ç›®æ ‡çŠ¶æ€ | æå‡å¹…åº¦ |
|--------|---------|---------|---------|
| é¦–å±åŠ è½½æ—¶é—´ | 8-12ç§’ | < 3ç§’ | **70%** â¬†ï¸ |
| ä»£ç æµ‹è¯•è¦†ç›–ç‡ | < 1% | 60% | **60x** â¬†ï¸ |
| éƒ¨ç½²æ—¶é—´ | 30åˆ†é’Ÿ | 5åˆ†é’Ÿ | **6x** â¬†ï¸ |
| å®‰å…¨æ¼æ´æ•° | 6ä¸ª | 0ä¸ª | **100%** â¬‡ï¸ |
| ä»£ç è´¨é‡è¯„åˆ† | 2.6/5 | 4.2/5 | **62%** â¬†ï¸ |

---

## ğŸ¯ å®æ–½ä¼˜å…ˆçº§

### ç«‹å³è¡ŒåŠ¨ï¼ˆæœ¬å‘¨å®Œæˆï¼‰

1. âœ… **é›†æˆSQLiteæ•°æ®åº“** - è§£å†³æ•°æ®ä¸¢å¤±é—®é¢˜
2. âœ… **ä¿®å¤æ–‡ä»¶ä¸Šä¼ å®‰å…¨** - æ¶ˆé™¤é«˜å±æ¼æ´
3. âœ… **æ‹†åˆ†Home.vue** - é™ä½ç»´æŠ¤æˆæœ¬

### çŸ­æœŸç›®æ ‡ï¼ˆ2å‘¨å†…ï¼‰

4. æ·»åŠ åŸºç¡€å•å…ƒæµ‹è¯•ï¼ˆè®¤è¯ã€ä¸Šä¼ ã€CRUDï¼‰
5. ç»Ÿä¸€é”™è¯¯å¤„ç†æœºåˆ¶
6. ä¼˜åŒ–è·¯ç”±æ‡’åŠ è½½

### ä¸­æœŸç›®æ ‡ï¼ˆ1ä¸ªæœˆå†…ï¼‰

7. å»ºç«‹CI/CDæµç¨‹
8. DockeråŒ–éƒ¨ç½²
9. æ€§èƒ½ä¼˜åŒ–ï¼ˆè™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ï¼‰

### é•¿æœŸè§„åˆ’ï¼ˆ3ä¸ªæœˆå†…ï¼‰

10. å¾®æœåŠ¡æ¶æ„æ”¹é€ 
11. ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ
12. E2Eè‡ªåŠ¨åŒ–æµ‹è¯•

---

## ğŸ“¦ æŠ€æœ¯å€ºåŠ¡æ¸…å•

### é«˜ä¼˜å…ˆçº§ï¼ˆæœ¬æœˆè§£å†³ï¼‰

- [ ] Home.vue è¶…3000è¡Œ â†’ æ‹†åˆ†ä¸º15ä¸ªå­ç»„ä»¶
- [ ] 5ä¸ªå·¥ä½œæµç‰ˆæœ¬é‡å¤ä»£ç  â†’ ç»Ÿä¸€ä¸ºWorkflowEditorV6
- [ ] æ— æ•°æ®åº“ â†’ SQLite â†’ PostgreSQL
- [ ] æ–‡ä»¶ä¸Šä¼ å®‰å…¨æ¼æ´ â†’ æ·»åŠ éªŒè¯å’Œæƒé™

### ä¸­ä¼˜å…ˆçº§ï¼ˆä¸‹æœˆè§£å†³ï¼‰

- [ ] æµ‹è¯•è¦†ç›–ç‡ < 1% â†’ 60%
- [ ] æ— CI/CD â†’ GitHub Actionsè‡ªåŠ¨åŒ–
- [ ] ç¡¬ç¼–ç é…ç½® â†’ ç¯å¢ƒå˜é‡ç®¡ç†
- [ ] é”™è¯¯å¤„ç†åˆ†æ•£ â†’ å…¨å±€æ‹¦æˆªå™¨

### ä½ä¼˜å…ˆçº§ï¼ˆå­£åº¦å†…è§£å†³ï¼‰

- [ ] å•ä½“æ¶æ„ â†’ å¾®æœåŠ¡
- [ ] æ— ç›‘æ§ â†’ Prometheus + Grafana
- [ ] æ–‡æ¡£æ··ä¹± â†’ VitePressæ–‡æ¡£ç«™

---

## ğŸ’° æŠ•å…¥äº§å‡ºåˆ†æ

### äººåŠ›æŠ•å…¥ä¼°ç®—

| é˜¶æ®µ | å·¥æœŸ | äººåŠ› | æˆæœ¬ |
|------|------|------|------|
| Phase 1 (P0) | 3å‘¨ | 2äºº | 120å°æ—¶ |
| Phase 2 (P1) | 5å‘¨ | 2äºº | 200å°æ—¶ |
| Phase 3 (P2) | 8å‘¨ | 2äºº | 320å°æ—¶ |
| **æ€»è®¡** | **16å‘¨** | **2äºº** | **640å°æ—¶** |

### æ”¶ç›Šé¢„ä¼°

**å®šé‡æ”¶ç›Šï¼š**
- é¦–å±åŠ è½½æ—¶é—´å‡å°‘ 70%ï¼ˆ8ç§’ â†’ 2.5ç§’ï¼‰
- éƒ¨ç½²æ—¶é—´å‡å°‘ 83%ï¼ˆ30åˆ†é’Ÿ â†’ 5åˆ†é’Ÿï¼‰
- çº¿ä¸Šäº‹æ•…å‡å°‘ 90%ï¼ˆæµ‹è¯•è¦†ç›– + ç›‘æ§ï¼‰

**å®šæ€§æ”¶ç›Šï¼š**
- âœ… æ•°æ®é›¶ä¸¢å¤±ï¼ˆç”Ÿäº§ç¯å¢ƒå¯ç”¨ï¼‰
- âœ… å®‰å…¨åˆè§„ï¼ˆé€šè¿‡å®‰å…¨å®¡è®¡ï¼‰
- âœ… å¯ç»´æŠ¤æ€§æå‡ï¼ˆä»£ç è´¨é‡4.2/5ï¼‰
- âœ… å¼€å‘æ•ˆç‡æå‡ï¼ˆè‡ªåŠ¨åŒ–æµ‹è¯• + CI/CDï¼‰

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å®‰è£…ä¾èµ–

```bash
# æ•°æ®åº“ä¾èµ–
npm install better-sqlite3 --save

# æµ‹è¯•ä¾èµ–
npm install -D vitest @vue/test-utils @vitest/ui

# ä»£ç è§„èŒƒ
npm install -D eslint prettier husky lint-staged
```

### 2. åˆå§‹åŒ–æ•°æ®åº“

```bash
node server/scripts/initDatabase.js
```

### 3. è¿è¡Œæµ‹è¯•

```bash
npm run test        # å•å…ƒæµ‹è¯•
npm run test:e2e    # E2Eæµ‹è¯•
npm run test:coverage  # è¦†ç›–ç‡æŠ¥å‘Š
```

### 4. éƒ¨ç½²

```bash
# æ„å»ºDockeré•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [Element Plus ç»„ä»¶åº“](https://element-plus.org/)
- [Vite æ„å»ºå·¥å…·](https://vitejs.dev/)
- [Vitest æµ‹è¯•æ¡†æ¶](https://vitest.dev/)
- [Docker æœ€ä½³å®è·µ](https://docs.docker.com/develop/dev-best-practices/)

---

## âœ… éªŒæ”¶æ ‡å‡†

### Phase 1 éªŒæ”¶æ¸…å•

- [ ] SQLiteæ•°æ®åº“æ­£å¸¸è¿è¡Œï¼Œæ•°æ®æŒä¹…åŒ–
- [ ] æ–‡ä»¶ä¸Šä¼ é€šè¿‡å®‰å…¨å®¡è®¡ï¼ˆæ— é«˜å±æ¼æ´ï¼‰
- [ ] Home.vueæ‹†åˆ†å®Œæˆï¼Œå•æ–‡ä»¶ < 300è¡Œ
- [ ] ä»£ç è´¨é‡è¯„åˆ† â‰¥ 3.5/5

### Phase 2 éªŒæ”¶æ¸…å•

- [ ] æµ‹è¯•è¦†ç›–ç‡ â‰¥ 60%
- [ ] å…¨å±€é”™è¯¯å¤„ç†ç”Ÿæ•ˆ
- [ ] é¦–å±åŠ è½½æ—¶é—´ < 3ç§’
- [ ] ESLintæ— é”™è¯¯ï¼ŒPrettieræ ¼å¼åŒ–

### Phase 3 éªŒæ”¶æ¸…å•

- [ ] Dockeré•œåƒæ„å»ºæˆåŠŸ
- [ ] Prometheusç›‘æ§å¯è§†åŒ–
- [ ] æ—¥å¿—é›†ä¸­æ”¶é›†åˆ°ELK
- [ ] CI/CDæµæ°´çº¿æ­£å¸¸è¿è¡Œ

---

**ç¥å¼€å‘é¡ºåˆ©ï¼**ğŸ‰
