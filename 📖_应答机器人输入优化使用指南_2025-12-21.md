# 📖 应答机器人输入优化使用指南

## 🎯 快速开始

### 最简单的方式
```bash
双击运行: 🧪_测试应答机器人输入框_2025-12-21.bat
```

这个脚本会自动：
1. ✅ 打开诊断页面
2. ✅ 启动开发服务器
3. ✅ 打开浏览器
4. ✅ 提供测试清单

---

## 📱 输入框功能说明

### 文字输入
应答机器人支持**完整的文字输入功能**：

#### 位置
- 在聊天窗口**底部**
- 紫色语音按钮**下方**
- 发送按钮**左侧**

#### 外观
- 白色矩形输入框
- 圆角边框（紫色/灰色）
- 最小高度 50px
- 提示文字："输入消息，按回车发送..."

#### 使用方法
1. **点击输入框** - 光标出现
2. **输入文字** - 文字显示在框内
3. **发送消息**：
   - 方式1: 按 **Enter键**
   - 方式2: 点击 **发送按钮**（紫色纸飞机）

---

## 🎤 语音输入功能

### 如何使用
1. 点击 **紫色麦克风按钮**
2. 允许浏览器访问麦克风
3. 对着设备说话
4. 语音自动识别为文字
5. 自动发送给AI

### 支持的浏览器
- ✅ Chrome（推荐）
- ✅ Microsoft Edge
- ✅ Safari（iOS）
- ❌ Firefox（不支持）

### 语音不可用怎么办？
**完全不影响！** 直接使用文字输入即可。

---

## ✨ 输入框功能特性

### 基础功能
- ✅ 文字输入
- ✅ 多行输入（自动换行）
- ✅ Enter键发送
- ✅ 点击发送按钮
- ✅ 粘贴文字

### 智能功能
- ✅ 自动高度调整（1-4行）
- ✅ 发送后自动清空
- ✅ AI输入时自动禁用
- ✅ 录音时自动禁用
- ✅ 快捷键支持（Ctrl+K 唤醒）

### 移动端优化
- ✅ 触摸友好（最小44px）
- ✅ 虚拟键盘适配
- ✅ 防止被键盘遮挡
- ✅ 防止页面缩放

---

## 🔍 如何找到输入框

### 桌面端
1. 点击右下角 **AI 人形助手按钮**
2. 聊天窗口弹出
3. 滚动到窗口**最底部**
4. 看到：
   ```
   [语音按钮 🎤] 
   
   [          输入框          ] [发送 ✈️]
   ```

### 移动端
1. 点击右下角 **AI 助手**
2. 聊天窗口全屏打开
3. 输入框在**屏幕底部**
4. 占满整个宽度

---

## 🧪 功能测试步骤

### 测试1: 基础文字输入
1. 打开聊天窗口
2. 点击输入框
3. 输入 "你好"
4. 按 Enter 或点击发送
5. **期望:** 消息发送，AI回复

### 测试2: 多行文字
1. 输入第一行文字
2. 按 Shift+Enter 换行
3. 输入第二行文字
4. 按 Enter 发送
5. **期望:** 多行消息正常发送

### 测试3: 语音输入（可选）
1. 点击麦克风按钮
2. 允许麦克风权限
3. 说 "测试语音输入"
4. 等待识别完成
5. **期望:** 自动发送识别的文字

### 测试4: 移动端（如使用手机）
1. 手机打开网站
2. 点击 AI 助手
3. 点击输入框
4. 虚拟键盘弹出
5. 输入文字并发送
6. **期望:** 输入框不被键盘遮挡

---

## ⚠️ 常见问题

### Q1: 看不到输入框？

**解决方案:**
1. 确认聊天窗口已打开
2. 滚动到窗口底部
3. 运行诊断工具：
   ```bash
   双击: 🔍_诊断应答机器人输入框问题_2025-12-21.html
   ```

### Q2: 输入框是灰色的，不能输入？

**原因和解决:**
- **AI正在输入** → 等待AI回复完成
- **正在录音** → 停止录音
- **其他原因** → 运行修复脚本

### Q3: 手机上看不到输入框？

**解决方案:**
1. 打开诊断页面
2. 点击"修复移动端显示"
3. 或刷新页面重试

### Q4: 按Enter不发送？

**检查:**
- 输入框是否有焦点（点击输入框）
- 是否按的是 Shift+Enter（换行）
- 输入框是否被禁用（查看是否为灰色）

### Q5: 语音功能不可用？

**正常情况！**
- Firefox 等浏览器不支持
- 直接使用文字输入即可
- 功能完全不受影响

---

## 🔧 快速修复方法

### 方法1: 使用诊断工具（推荐）
```bash
双击: 🔍_诊断应答机器人输入框问题_2025-12-21.html
```
按照页面指引点击修复按钮

### 方法2: 浏览器控制台修复
1. 按 `F12` 打开控制台
2. 复制粘贴以下代码：
```javascript
// 一键修复输入框
const textarea = document.querySelector('.text-input textarea');
if (textarea) {
  textarea.style.minHeight = '60px';
  textarea.style.height = '60px';
  textarea.disabled = false;
  console.log('✅ 输入框已修复');
}
```
3. 按 Enter 运行

### 方法3: 重启服务器
```bash
# 关闭当前服务器 (Ctrl+C)
# 重新启动
npm run dev
```

---

## 📊 输入框正常状态

### 桌面端
```
外观：
- 宽度: 约300px
- 高度: 50-60px
- 颜色: 白色背景
- 边框: 紫色（2px）
- 提示: "输入消息，按回车发送..."

位置：
- 聊天窗口底部
- 语音按钮下方
- 发送按钮左侧
```

### 移动端
```
外观：
- 宽度: 屏幕宽度-30px
- 高度: 50-60px
- 字体: 16px（防止缩放）

位置：
- 屏幕底部
- 固定定位（sticky）
- 不被键盘遮挡
```

---

## 🎯 使用技巧

### 技巧1: 快速唤醒
按 `Ctrl+K` 快速打开/关闭聊天窗口

### 技巧2: 多行输入
`Shift+Enter` 换行，`Enter` 发送

### 技巧3: 快速选择
AI推荐功能时，可以：
- 点击推荐卡片
- 或使用数字快捷键（1-5）

### 技巧4: 快速问题
首次打开时，点击快捷问题卡片快速开始对话

### 技巧5: 清空对话
点击聊天窗口右上角的垃圾桶图标

---

## 📱 移动端使用指南

### iOS Safari
1. 输入框自动适配安全区域
2. 虚拟键盘弹出时自动调整
3. 建议横屏使用以获得更大空间

### Android Chrome
1. 触摸友好的按钮尺寸
2. 优化的滚动性能
3. 支持长按拖拽聊天按钮

### 移动端最佳实践
- ✅ 使用竖屏模式
- ✅ 全屏打开聊天窗口
- ✅ 需要时切换到文字输入
- ✅ 语音功能在安静环境效果更好

---

## 🔗 相关文档

| 文档 | 说明 |
|------|------|
| [完整交付文档](./🎊_应答机器人输入框完整交付_2025-12-21.md) | 完整的修复和交付说明 |
| [修复完成说明](./✅_应答机器人输入框修复完成_2025-12-21.md) | 技术细节和修复内容 |
| [诊断工具](./🔍_诊断应答机器人输入框问题_2025-12-21.html) | 浏览器诊断页面 |
| [验证清单](./🔍_验证输入框修复_2025-12-21.html) | 交互式验证清单 |

---

## ✅ 功能确认清单

使用前请确认：
- [ ] 输入框清晰可见
- [ ] 能够点击和输入
- [ ] Enter键能发送消息
- [ ] 发送按钮能点击
- [ ] AI能正常回复

全部通过 → ✅ 可以正常使用  
有任何不通过 → 🔧 使用诊断工具

---

## 🎉 开始使用

准备好了吗？现在就开始使用应答机器人的文字输入功能吧！

```bash
# 快速启动
双击运行: 🧪_测试应答机器人输入框_2025-12-21.bat

# 或手动启动
npm run dev
# 打开 http://localhost:5173
```

**享受与AI的智能对话体验！** 🚀

---

**文档版本:** v1.0  
**更新时间:** 2025-12-21  
**适用版本:** AIWEB v2.6.4+
