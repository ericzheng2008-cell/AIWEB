# 🧪 快速测试：拧紧曲线类型选择功能

## 📍 测试页面
1. **后台拧紧数据分析**：`http://localhost:3000/admin/tightening-data`
2. **前台曲线分析**：`http://localhost:3000/curve-analysis`

---

## ✅ 测试清单

### 测试1：基本功能验证
- [ ] 进入后台拧紧数据分析页面
- [ ] 切换到"拧紧曲线"标签页
- [ ] 在图表标题右侧看到曲线类型下拉菜单（默认：扭矩-角度）
- [ ] 图表正常显示三阶段曲线

### 测试2：扭矩-角度曲线
- [ ] 选择"扭矩-角度"
- [ ] 看到成功提示消息
- [ ] X轴：旋入角度 (°)，范围 0-600°
- [ ] Y轴：扭矩 (Nm)，范围 0-35Nm
- [ ] 蓝色曲线 + 蓝色渐变填充
- [ ] 显示两条虚线标记：90°（认牙）、360°（快速旋入）
- [ ] 鼠标悬停显示：角度、扭矩、阶段

### 测试3：扭矩-时间曲线
- [ ] 选择"扭矩-时间"
- [ ] 看到成功提示消息
- [ ] X轴：时间 (s)，范围 0-5s
- [ ] Y轴：扭矩 (Nm)
- [ ] 绿色平滑曲线 + 绿色渐变填充
- [ ] 显示两条虚线标记：0.5s、2.5s
- [ ] 鼠标悬停显示：时间、扭矩、阶段

### 测试4：扭矩-转速曲线
- [ ] 选择"扭矩-转速"
- [ ] 看到成功提示消息
- [ ] X轴：转速 (rpm)
- [ ] Y轴：扭矩 (Nm)
- [ ] 散点图显示：
  - 灰色点（180rpm）：低速认牙
  - 蓝色点（800rpm）：快速旋入
  - 红色点（300rpm）：拧紧阶段
- [ ] 鼠标悬停显示：转速、扭矩、阶段

### 测试5：角度-时间曲线
- [ ] 选择"角度-时间"
- [ ] 看到成功提示消息
- [ ] X轴：时间 (s)，范围 0-5s
- [ ] Y轴：旋入角度 (°)
- [ ] 橙色平滑曲线 + 橙色渐变填充
- [ ] 显示两条虚线标记：0.5s（认牙结束）、2.5s（旋入结束）
- [ ] 鼠标悬停显示：时间、角度、阶段

### 测试6：工具栏功能
- [ ] 点击"保存为图片"按钮 - 成功下载PNG图片
- [ ] 点击"区域缩放"按钮 - 可以框选区域放大
- [ ] 点击"还原"按钮 - 图表恢复初始状态

### 测试7：前台曲线分析页面
- [ ] 进入前台曲线分析页面
- [ ] 在图表控制栏看到曲线类型下拉菜单
- [ ] 依次测试4种曲线类型（同测试2-5）
- [ ] 配合其他按钮（重置缩放、切换网格、切换图例）测试

---

## 🎯 预期结果

### 曲线数据特征
| 曲线类型 | 数据点数 | X轴范围 | Y轴范围 | 阶段标记 |
|---------|---------|---------|---------|---------|
| 扭矩-角度 | 541点 | 0-540° | 0-35Nm | 90°, 360° |
| 扭矩-时间 | 541点 | 0-4.5s | 0-35Nm | 0.5s, 2.5s |
| 扭矩-转速 | 541点 | 180-800rpm | 0-35Nm | 无（散点图） |
| 角度-时间 | 541点 | 0-4.5s | 0-540° | 0.5s, 2.5s |

### 三阶段特征
1. **低速认牙阶段**（0-90°，0-0.5s，180rpm）
   - 扭矩缓慢上升：0-1.8Nm
   - 角度线性增长
   
2. **快速旋入阶段**（90-360°，0.5-2.5s，800rpm）
   - 扭矩稳定增长：1.8-5.85Nm
   - 高速旋转
   
3. **拧紧阶段**（360-540°，2.5-4.5s，300rpm）
   - 扭矩快速上升：5.85-35Nm
   - 弹性拧紧曲线

---

## 🐛 常见问题排查

### 问题1：下拉菜单不显示
- **检查**：确认已启动开发服务器
- **解决**：刷新页面（Ctrl+F5）

### 问题2：切换曲线无反应
- **检查**：浏览器控制台是否有错误
- **解决**：检查`updateCurveChart()`函数是否正确调用

### 问题3：曲线显示异常
- **检查**：数据生成是否正确
- **解决**：查看Tooltip悬停数据是否合理

### 问题4：阶段标记线不显示
- **检查**：`markLine`配置是否正确
- **解决**：确认ECharts版本支持markLine

---

## 📊 测试报告模板

```
测试日期：2025-12-14
测试人员：___________
测试环境：Windows / Mac / Linux

功能测试结果：
□ 后台页面 - 扭矩-角度：通过 / 失败
□ 后台页面 - 扭矩-时间：通过 / 失败
□ 后台页面 - 扭矩-转速：通过 / 失败
□ 后台页面 - 角度-时间：通过 / 失败
□ 前台页面 - 全部测试：通过 / 失败
□ 工具栏功能：通过 / 失败

发现的问题：
1. _________________________________
2. _________________________________

整体评价：
□ 优秀 - 全部通过
□ 良好 - 部分通过
□ 需要修复 - 多处失败
```

---

## 🚀 快速启动命令

```bash
# 启动开发服务器
npm run dev

# 或使用批处理文件
start-dev-server.bat
```

测试完成后，请将结果反馈给开发团队！🎉
