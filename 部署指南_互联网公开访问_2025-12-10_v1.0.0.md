# ç½‘ç«™éƒ¨ç½²æŒ‡å— - äº’è”ç½‘å…¬å¼€è®¿é—®

**ç‰ˆæœ¬**: v1.0.0  
**æ—¥æœŸ**: 2025-12-10  
**é¡¹ç›®**: å¹¿å·å¸‚æ˜å‡ä¼Ÿä¸šæœºç”µæœ‰é™å…¬å¸å®˜ç½‘

---

## ğŸ“‹ éƒ¨ç½²æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | éš¾åº¦ | æˆæœ¬ | é€Ÿåº¦ | æ¨èåº¦ | é€‚ç”¨åœºæ™¯ |
|------|------|------|------|--------|----------|
| è…¾è®¯äº‘è½»é‡æœåŠ¡å™¨ | â­ | Â¥Â¥ | å¿« | â­â­â­â­â­ | ç”Ÿäº§ç¯å¢ƒã€å®Œæ•´åŠŸèƒ½ |
| EdgeOne Pages | â­ | Â¥ | æå¿« | â­â­â­â­ | é™æ€ç½‘ç«™ã€å¿«é€Ÿéƒ¨ç½² |
| Vercel/Netlify | â­ | å…è´¹ | å¿« | â­â­â­ | æµ‹è¯•é¢„è§ˆã€å‰ç«¯é¡¹ç›® |
| ä¼ ç»Ÿäº‘æœåŠ¡å™¨ | â­â­â­ | Â¥Â¥Â¥ | ä¸­ | â­â­â­â­â­ | å¤§å‹é¡¹ç›®ã€å®Œå…¨æ§åˆ¶ |

---

## ğŸš€ æ–¹æ¡ˆä¸€ï¼šè…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

### å‰ææ¡ä»¶
- âœ… å·²è¿æ¥ Lighthouse é›†æˆ
- âœ… æ‹¥æœ‰è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨
- âœ… æœåŠ¡å™¨å·²å®‰è£…Dockerå’ŒTAT

### éƒ¨ç½²æ­¥éª¤

#### 1. é€‰æ‹©éƒ¨ç½²åœ°åŸŸ
å‘Šè¯‰AIåŠ©æ‰‹æ‚¨å¸Œæœ›éƒ¨ç½²çš„åœ°åŸŸï¼Œä¾‹å¦‚ï¼š
```
"æˆ‘æƒ³éƒ¨ç½²åˆ°å¹¿å·åœ°åŸŸ"
```

#### 2. é€‰æ‹©æœåŠ¡å™¨å®ä¾‹
AIä¼šæ˜¾ç¤ºæ‚¨çš„å¯ç”¨å®ä¾‹ï¼Œé€‰æ‹©ä¸€å°åˆé€‚çš„æœåŠ¡å™¨ã€‚

#### 3. è‡ªåŠ¨åŒ–éƒ¨ç½²
ç³»ç»Ÿå°†è‡ªåŠ¨æ‰§è¡Œï¼š
- ä¸Šä¼ é¡¹ç›®æ–‡ä»¶åˆ°æœåŠ¡å™¨
- é…ç½®Dockerç¯å¢ƒ
- å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼ˆ80ã€443ã€3000ã€5000ï¼‰
- æ„å»ºå¹¶å¯åŠ¨Dockerå®¹å™¨

#### 4. è®¿é—®ç½‘ç«™
éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å°†è·å¾—ï¼š
```
è®¿é—®åœ°å€: http://ä½ çš„å…¬ç½‘IP
å‰å°é¦–é¡µ: http://ä½ çš„å…¬ç½‘IP/
åå°ç®¡ç†: http://ä½ çš„å…¬ç½‘IP/admin
```

### ä½¿ç”¨å‘½ä»¤

ç›´æ¥å‘Šè¯‰AIï¼š
```
"è¯·å¸®æˆ‘å°†é¡¹ç›®éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡æœåŠ¡å™¨"
```

AIä¼šå¼•å¯¼æ‚¨å®Œæˆæ•´ä¸ªéƒ¨ç½²æµç¨‹ã€‚

---

## ğŸŒ æ–¹æ¡ˆäºŒï¼šEdgeOne Pages éƒ¨ç½²

### é€‚ç”¨åœºæ™¯
- é™æ€ç½‘ç«™ï¼ˆçº¯å‰ç«¯ï¼‰
- éœ€è¦CDNåŠ é€Ÿ
- å…¨çƒè®¿é—®ä¼˜åŒ–

### éƒ¨ç½²æ­¥éª¤

#### 1. æ„å»ºé¡¹ç›®
```bash
npm run build
```

æ„å»ºåä¼šç”Ÿæˆ `dist` ç›®å½•ã€‚

#### 2. è¿æ¥ EdgeOne Pages
1. åœ¨IDEé¡¶éƒ¨ç‚¹å‡»"é›†æˆ"èœå•
2. é€‰æ‹©"EdgeOne Pages"
3. ç‚¹å‡»"è¿æ¥"å¹¶æˆæƒ

#### 3. ä¸Šä¼ é¡¹ç›®
1. é€‰æ‹© `dist` ç›®å½•
2. ç‚¹å‡»"éƒ¨ç½²"
3. ç­‰å¾…éƒ¨ç½²å®Œæˆ

#### 4. è·å–è®¿é—®åœ°å€
éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨ä¼šè·å¾—ï¼š
```
https://your-project.edgeone.com
```

### æ³¨æ„äº‹é¡¹
âš ï¸ EdgeOne Pages åªæ”¯æŒé™æ€æ–‡ä»¶ï¼Œåç«¯APIéœ€è¦å¦å¤–éƒ¨ç½²ã€‚

---

## ğŸ”§ æ–¹æ¡ˆä¸‰ï¼šVercel / Netlify éƒ¨ç½²

### é€‚ç”¨åœºæ™¯
- å¿«é€Ÿé¢„è§ˆå’Œæµ‹è¯•
- ä¸ªäººé¡¹ç›®æˆ–æ¼”ç¤º
- å‰ç«¯é¡¹ç›®

### Vercel éƒ¨ç½²æ­¥éª¤

#### 1. å®‰è£… Vercel CLI
```bash
npm install -g vercel
```

#### 2. ç™»å½• Vercel
```bash
vercel login
```

#### 3. éƒ¨ç½²é¡¹ç›®
```bash
cd c:/Users/EricZ/CodeBuddy/AIWEB1
vercel --prod
```

#### 4. è®¿é—®ç½‘ç«™
éƒ¨ç½²æˆåŠŸåä¼šæ˜¾ç¤ºè®¿é—®åœ°å€ï¼š
```
https://your-project.vercel.app
```

### Netlify éƒ¨ç½²æ­¥éª¤

#### 1. å®‰è£… Netlify CLI
```bash
npm install -g netlify-cli
```

#### 2. ç™»å½• Netlify
```bash
netlify login
```

#### 3. éƒ¨ç½²é¡¹ç›®
```bash
netlify deploy --prod --dir=dist
```

### é…ç½®æ–‡ä»¶
é¡¹ç›®å·²åŒ…å« `vercel.json` é…ç½®æ–‡ä»¶ã€‚

---

## ğŸ³ æ–¹æ¡ˆå››ï¼šDocker + äº‘æœåŠ¡å™¨éƒ¨ç½²ï¼ˆå®Œæ•´æ–¹æ¡ˆï¼‰

### é€‚ç”¨åœºæ™¯
- ç”Ÿäº§ç¯å¢ƒ
- éœ€è¦å®Œæ•´æ§åˆ¶
- å‰åç«¯ä¸€ä½“åŒ–

### å‰ææ¡ä»¶
- äº‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ã€é˜¿é‡Œäº‘ã€AWSç­‰ï¼‰
- å·²å®‰è£…Dockerå’ŒDocker Compose
- å·²å¼€æ”¾80ã€443ç«¯å£

### éƒ¨ç½²æ­¥éª¤

#### 1. è¿æ¥æœåŠ¡å™¨
```bash
ssh root@ä½ çš„æœåŠ¡å™¨IP
```

#### 2. å®‰è£…Dockerï¼ˆå¦‚æœªå®‰è£…ï¼‰
```bash
# Ubuntu/Debian
curl -fsSL https://get.docker.com | sh
systemctl start docker
systemctl enable docker

# å®‰è£… Docker Compose
curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose
```

#### 3. ä¸Šä¼ é¡¹ç›®æ–‡ä»¶
```bash
# æ–¹æ³•1: ä½¿ç”¨Git
cd /opt
git clone https://github.com/ä½ çš„ç”¨æˆ·å/AIWEB1.git
cd AIWEB1

# æ–¹æ³•2: ä½¿ç”¨SCPä¸Šä¼ 
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp -r c:/Users/EricZ/CodeBuddy/AIWEB1 root@æœåŠ¡å™¨IP:/opt/
```

#### 4. æ„å»ºå¹¶å¯åŠ¨æœåŠ¡
```bash
cd /opt/AIWEB1

# æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d --build

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

#### 5. é…ç½®é˜²ç«å¢™
```bash
# Ubuntu/Debian
ufw allow 80/tcp
ufw allow 443/tcp
ufw enable

# CentOS/RHEL
firewall-cmd --permanent --add-port=80/tcp
firewall-cmd --permanent --add-port=443/tcp
firewall-cmd --reload
```

#### 6. è®¿é—®ç½‘ç«™
```
http://ä½ çš„æœåŠ¡å™¨IP
```

### åç»­æ›´æ–°éƒ¨ç½²
```bash
cd /opt/AIWEB1
chmod +x deploy.sh
./deploy.sh
```

---

## ğŸŒ é…ç½®åŸŸåè®¿é—®

### 1. è´­ä¹°åŸŸå
åœ¨åŸŸåæ³¨å†Œå•†è´­ä¹°åŸŸåï¼ˆå¦‚ï¼šmingsheng.comï¼‰

### 2. é…ç½®DNSè§£æ
åœ¨åŸŸåç®¡ç†é¢æ¿æ·»åŠ Aè®°å½•ï¼š
```
ç±»å‹: A
ä¸»æœºè®°å½•: @
è®°å½•å€¼: ä½ çš„æœåŠ¡å™¨IP
TTL: 600
```

æ·»åŠ wwwå­åŸŸåï¼š
```
ç±»å‹: CNAME
ä¸»æœºè®°å½•: www
è®°å½•å€¼: mingsheng.com
TTL: 600
```

### 3. é…ç½®SSLè¯ä¹¦ï¼ˆHTTPSï¼‰

#### æ–¹æ³•1: ä½¿ç”¨ Let's Encryptï¼ˆå…è´¹ï¼‰
```bash
# å®‰è£… Certbot
apt-get install certbot python3-certbot-nginx

# è·å–è¯ä¹¦
certbot --nginx -d mingsheng.com -d www.mingsheng.com

# è‡ªåŠ¨ç»­æœŸ
certbot renew --dry-run
```

#### æ–¹æ³•2: ä½¿ç”¨è…¾è®¯äº‘å…è´¹SSL
1. ç™»å½•è…¾è®¯äº‘æ§åˆ¶å°
2. è¿›å…¥SSLè¯ä¹¦ç®¡ç†
3. ç”³è¯·å…è´¹è¯ä¹¦
4. ä¸‹è½½Nginxè¯ä¹¦
5. ä¸Šä¼ åˆ°æœåŠ¡å™¨é…ç½®

### 4. Nginxé…ç½®HTTPS
```nginx
server {
    listen 443 ssl http2;
    server_name mingsheng.com www.mingsheng.com;
    
    ssl_certificate /etc/nginx/ssl/mingsheng.com.crt;
    ssl_certificate_key /etc/nginx/ssl/mingsheng.com.key;
    
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    
    root /usr/share/nginx/html;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
}

# HTTPè‡ªåŠ¨è·³è½¬HTTPS
server {
    listen 80;
    server_name mingsheng.com www.mingsheng.com;
    return 301 https://$server_name$request_uri;
}
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. å¼€å¯CDNåŠ é€Ÿ
- ä½¿ç”¨è…¾è®¯äº‘CDNæˆ–é˜¿é‡Œäº‘CDN
- é…ç½®é™æ€èµ„æºç¼“å­˜
- å¼€å¯GZIPå‹ç¼©

### 2. å›¾ç‰‡ä¼˜åŒ–
```bash
# ä½¿ç”¨CDNæ‰˜ç®¡å›¾ç‰‡
# æ¨èæœåŠ¡ï¼š
- è…¾è®¯äº‘COS + CDN
- ä¸ƒç‰›äº‘
- åˆæ‹äº‘
```

### 3. ä»£ç ä¼˜åŒ–
```bash
# ç”Ÿäº§æ„å»º
npm run build

# å¯ç”¨Tree Shaking
# ä»£ç åˆ†å‰²
# æ‡’åŠ è½½
```

---

## ğŸ” å®‰å…¨é…ç½®

### 1. æœåŠ¡å™¨å®‰å…¨
```bash
# ä¿®æ”¹SSHç«¯å£
vim /etc/ssh/sshd_config
# Port 22 æ”¹ä¸º Port 2222
systemctl restart sshd

# ç¦ç”¨rootå¯†ç ç™»å½•
PasswordAuthentication no

# åªå…è®¸å¯†é’¥ç™»å½•
PubkeyAuthentication yes
```

### 2. åº”ç”¨å®‰å…¨
- è®¾ç½®å¼ºå¯†ç 
- å¯ç”¨HTTPS
- é…ç½®CORS
- é˜²æ­¢SQLæ³¨å…¥
- XSSé˜²æŠ¤

### 3. å¤‡ä»½ç­–ç•¥
```bash
# å®šæ—¶å¤‡ä»½è„šæœ¬
#!/bin/bash
backup_dir="/backup/$(date +%Y%m%d)"
mkdir -p $backup_dir
cp -r /opt/AIWEB1 $backup_dir/
tar -czf $backup_dir.tar.gz $backup_dir
```

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q1: éƒ¨ç½²åè®¿é—®ä¸äº†ï¼Ÿ
**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. é˜²ç«å¢™æ˜¯å¦å¼€æ”¾ç«¯å£
2. æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼ˆ`docker-compose ps`ï¼‰
3. äº‘æœåŠ¡å™¨å®‰å…¨ç»„æ˜¯å¦æ”¾è¡Œ
4. DNSè§£ææ˜¯å¦ç”Ÿæ•ˆ

### Q2: å¦‚ä½•æŸ¥çœ‹è¿è¡Œæ—¥å¿—ï¼Ÿ
**A**: 
```bash
# Dockeræ–¹å¼
docker-compose logs -f

# PM2æ–¹å¼
pm2 logs
```

### Q3: å¦‚ä½•æ›´æ–°ç½‘ç«™ï¼Ÿ
**A**: 
```bash
# ä½¿ç”¨éƒ¨ç½²è„šæœ¬
./deploy.sh

# æˆ–æ‰‹åŠ¨æ›´æ–°
git pull
docker-compose down
docker-compose up -d --build
```

### Q4: åŸŸåè§£æéœ€è¦å¤šä¹…ï¼Ÿ
**A**: 
- DNSè§£æé€šå¸¸éœ€è¦10åˆ†é’Ÿåˆ°24å°æ—¶
- å¯ä½¿ç”¨ `ping åŸŸå` æµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆ

### Q5: å¦‚ä½•é…ç½®å¤šä¸ªåŸŸåï¼Ÿ
**A**: åœ¨Nginxé…ç½®ä¸­æ·»åŠ ï¼š
```nginx
server_name mingsheng.com www.mingsheng.com mingsheng.cn;
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- Dockerå®˜æ–¹æ–‡æ¡£: https://docs.docker.com/
- Nginxé…ç½®æŒ‡å—: https://nginx.org/en/docs/
- Let's Encrypt: https://letsencrypt.org/
- è…¾è®¯äº‘æ–‡æ¡£: https://cloud.tencent.com/document

---

## ğŸ¯ æ¨èéƒ¨ç½²æµç¨‹

### åˆæ¬¡éƒ¨ç½²ï¼ˆæµ‹è¯•ï¼‰
1. ä½¿ç”¨ Vercel å¿«é€Ÿé¢„è§ˆ
2. éªŒè¯åŠŸèƒ½æ˜¯å¦æ­£å¸¸
3. æµ‹è¯•å‰ç«¯é¡µé¢å±•ç¤º

### æ­£å¼ä¸Šçº¿ï¼ˆç”Ÿäº§ï¼‰
1. è´­ä¹°è…¾è®¯äº‘è½»é‡æœåŠ¡å™¨
2. ä½¿ç”¨AIä¸€é”®éƒ¨ç½²åˆ°æœåŠ¡å™¨
3. é…ç½®åŸŸåå’ŒSSLè¯ä¹¦
4. å¼€å¯CDNåŠ é€Ÿ

### æŒç»­ç»´æŠ¤
1. å®šæœŸå¤‡ä»½æ•°æ®
2. ç›‘æ§æœåŠ¡å™¨çŠ¶æ€
3. åŠæ—¶æ›´æ–°å®‰å…¨è¡¥ä¸
4. ä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

---

**éœ€è¦å¸®åŠ©ï¼Ÿ**

å‘Šè¯‰AIåŠ©æ‰‹æ‚¨æƒ³ä½¿ç”¨å“ªç§éƒ¨ç½²æ–¹æ¡ˆï¼Œä¾‹å¦‚ï¼š
- "è¯·å¸®æˆ‘éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡æœåŠ¡å™¨"
- "æˆ‘æƒ³ç”¨Vercelå¿«é€Ÿé¢„è§ˆ"
- "å¦‚ä½•é…ç½®HTTPSè¯ä¹¦ï¼Ÿ"

AIä¼šä¸€æ­¥æ­¥å¼•å¯¼æ‚¨å®Œæˆéƒ¨ç½²ï¼

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¶é—´**: 2025-12-10  
**çŠ¶æ€**: âœ… å·²å®Œæˆ
