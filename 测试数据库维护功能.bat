@echo off
chcp 65001 >nul
color 0B
echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                                                            â•‘
echo â•‘          ðŸ› ï¸ æ•°æ®åº“ç»´æŠ¤åŠŸèƒ½æµ‹è¯•å·¥å…·                          â•‘
echo â•‘                                                            â•‘
echo â•‘             ToolsNet Database Jobs                         â•‘
echo â•‘                                                            â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: æ£€æŸ¥æœåŠ¡çŠ¶æ€
echo [1/4] æ£€æŸ¥æœåŠ¡çŠ¶æ€...
netstat -ano | findstr ":3001" >nul 2>&1
if %errorlevel% neq 0 (
    echo âš ï¸  åŽç«¯æœåŠ¡æœªè¿è¡Œï¼Œæ­£åœ¨å¯åŠ¨...
    start "Backend" cmd /k "cd /d %~dp0 && node server/index.js"
    timeout /t 3 /nobreak >nul
) else (
    echo âœ… åŽç«¯æœåŠ¡è¿è¡Œä¸­
)

netstat -ano | findstr ":5173" >nul 2>&1
if %errorlevel% neq 0 (
    echo âš ï¸  å‰ç«¯æœåŠ¡æœªè¿è¡Œï¼Œæ­£åœ¨å¯åŠ¨...
    start "Frontend" cmd /k "cd /d %~dp0 && npm run dev"
    timeout /t 5 /nobreak >nul
) else (
    echo âœ… å‰ç«¯æœåŠ¡è¿è¡Œä¸­
)

echo.
echo [2/4] æµ‹è¯•APIæŽ¥å£...
timeout /t 2 /nobreak >nul

:: æµ‹è¯•ç»´æŠ¤ä»»åŠ¡é…ç½®API
echo.
echo æµ‹è¯• 1: èŽ·å–ç»´æŠ¤ä»»åŠ¡é…ç½®
curl -s http://localhost:3001/api/tightening/maintenance/jobs > nul 2>&1
if %errorlevel% equ 0 (
    echo âœ… APIå“åº”æ­£å¸¸: /api/tightening/maintenance/jobs
) else (
    echo âŒ APIå“åº”å¤±è´¥: /api/tightening/maintenance/jobs
)

:: æµ‹è¯•ç»Ÿè®¡ä¿¡æ¯API
echo.
echo æµ‹è¯• 2: èŽ·å–ç»´æŠ¤ç»Ÿè®¡ä¿¡æ¯
curl -s http://localhost:3001/api/tightening/maintenance/statistics > nul 2>&1
if %errorlevel% equ 0 (
    echo âœ… APIå“åº”æ­£å¸¸: /api/tightening/maintenance/statistics
) else (
    echo âŒ APIå“åº”å¤±è´¥: /api/tightening/maintenance/statistics
)

echo.
echo [3/4] ç”Ÿæˆæµ‹è¯•æ•°æ®...
curl -s http://localhost:3001/api/tightening/mock-data?count=50 > nul 2>&1
if %errorlevel% equ 0 (
    echo âœ… å·²ç”Ÿæˆ50æ¡æ¨¡æ‹Ÿæ•°æ®
) else (
    echo âš ï¸  ç”Ÿæˆæµ‹è¯•æ•°æ®å¤±è´¥
)

echo.
echo [4/4] æ‰“å¼€æµ‹è¯•ç•Œé¢...
timeout /t 2 /nobreak >nul
start http://localhost:5173/#/admin/tightening-data

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ðŸŽ¯ æµ‹è¯•æŒ‡å—
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo   æ­¥éª¤ 1: ç™»å½•ç³»ç»Ÿ
echo           è´¦å·: admin
echo           å¯†ç : admin123
echo.
echo   æ­¥éª¤ 2: ç‚¹å‡»ã€Œæ‹§ç´§æ•°æ®é‡‡é›†ã€èœå•
echo.
echo   æ­¥éª¤ 3: åˆ‡æ¢åˆ°ã€Œæ•°æ®åº“ç»´æŠ¤ã€æ ‡ç­¾é¡µ
echo.
echo   æ­¥éª¤ 4: æµ‹è¯•ä»¥ä¸‹åŠŸèƒ½
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ðŸ§ª åŠŸèƒ½æµ‹è¯•æ¸…å•
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo   [ ] 1. æŸ¥çœ‹ç»´æŠ¤ä»»åŠ¡å¡ç‰‡ï¼ˆ5ä¸ªä»»åŠ¡ï¼‰
echo   [ ] 2. æŸ¥çœ‹é¡¶éƒ¨ç»Ÿè®¡ä¿¡æ¯
echo   [ ] 3. å¯ç”¨/ç¦ç”¨ä»»åŠ¡å¼€å…³
echo   [ ] 4. ä¿®æ”¹ã€Œä¿ç•™å¤©æ•°ã€é…ç½®
echo   [ ] 5. æ‰§è¡Œå•ä¸ªç»´æŠ¤ä»»åŠ¡
echo   [ ] 6. æŸ¥çœ‹æ‰§è¡Œç»“æžœé€šçŸ¥
echo   [ ] 7. æŸ¥çœ‹ä»»åŠ¡æ‰§è¡ŒåŽ†å²
echo   [ ] 8. æ‰¹é‡æ‰§è¡Œæ‰€æœ‰ä»»åŠ¡
echo   [ ] 9. æŸ¥çœ‹åº•éƒ¨ç»´æŠ¤åŽ†å²
echo   [ ] 10. éªŒè¯ç»Ÿè®¡æ•°æ®æ›´æ–°
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ðŸ“‹ 5ä¸ªæ•°æ®åº“ç»´æŠ¤ä»»åŠ¡
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo   1ï¸âƒ£  ToolsNet_DeleteMaintenance
echo       åˆ é™¤è¿‡æœŸçš„ç»“æžœã€æ›²çº¿ã€ç¨‹åºä¿¡æ¯
echo       é»˜è®¤çŠ¶æ€: ç¦ç”¨
echo       ä¿ç•™å¤©æ•°: 100å¤©
echo       è°ƒåº¦: æ¯æ—¥
echo.
echo   2ï¸âƒ£  ToolsNet_DeleteUnboundGraphs
echo       åˆ é™¤æœªå…³è”çš„æ›²çº¿æ•°æ®ï¼ˆPowerMACSï¼‰
echo       é»˜è®¤çŠ¶æ€: å¯ç”¨
echo       è°ƒåº¦: æ¯æ—¥
echo.
echo   3ï¸âƒ£  ToolsNet_IndexReorganize
echo       é‡ç»„æ•°æ®åº“ç´¢å¼•ä»¥æé«˜æ€§èƒ½
echo       é»˜è®¤çŠ¶æ€: å¯ç”¨
echo       è°ƒåº¦: æ¯æ—¥ï¼ˆå‘¨æ—¥é™¤å¤–ï¼‰
echo       ä»…SQL Server
echo.
echo   4ï¸âƒ£  ToolsNet_IndexRebuild
echo       é‡å»ºæ•°æ®åº“ç´¢å¼•ï¼ˆæ·±åº¦ä¼˜åŒ–ï¼‰
echo       é»˜è®¤çŠ¶æ€: å¯ç”¨
echo       è°ƒåº¦: æ¯å‘¨æ—¥
echo       ä»…SQL Server
echo.
echo   5ï¸âƒ£  ToolsNet_Archive
echo       å½’æ¡£æ•°æ®åˆ°å½’æ¡£æ•°æ®åº“
echo       é»˜è®¤çŠ¶æ€: ç¦ç”¨
echo       è°ƒåº¦: æ‰‹åŠ¨
echo       å½’æ¡£åº“: ToolsNet_Archive
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ðŸ”¬ é«˜çº§æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo   â€¢ APIæµ‹è¯•å·¥å…·: Postman / Insomnia
echo   â€¢ æŽ¥å£åœ°å€: http://localhost:3001/api/tightening/maintenance
echo   â€¢ æŸ¥çœ‹ç½‘ç»œè¯·æ±‚: F12 â†’ Network
echo   â€¢ æŸ¥çœ‹æŽ§åˆ¶å°æ—¥å¿—: F12 â†’ Console
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ðŸ“š ç›¸å…³æ–‡æ¡£
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo   â€¢ åŠŸèƒ½æ›´æ–°_æ•°æ®åº“ç»´æŠ¤ä»»åŠ¡_2025-12-14_v1.0.0.md
echo   â€¢ å¿«é€Ÿå…¥é—¨_æ•°æ®åº“ç»´æŠ¤ä»»åŠ¡_2025-12-14.md
echo   â€¢ åŠŸèƒ½æ–‡æ¡£_æ‹§ç´§æ•°æ®é‡‡é›†ç³»ç»Ÿ_ToolsNet8æž¶æž„_2025-12-14_v3.0.0.md
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo âœ¨ æµè§ˆå™¨å·²æ‰“å¼€ï¼Œå¼€å§‹æµ‹è¯•å§ï¼
echo.
echo æŒ‰ä»»æ„é”®å…³é—­æ­¤çª—å£...
pause >nul
