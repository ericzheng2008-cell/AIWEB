# 📖 后台视频上传使用指南

**版本**: v2.6.3  
**日期**: 2025-12-21

---

## 📋 目录

1. [明星产品视频上传](#明星产品视频上传)
2. [产品服务视频上传](#产品服务视频上传)
3. [常见问题解答](#常见问题解答)
4. [最佳实践](#最佳实践)

---

## 明星产品视频上传

### 🎯 访问路径
```
http://localhost:3002/admin
→ 点击"明星产品"标签
→ 点击"添加明星产品"按钮
```

### 📝 操作步骤

#### 方式一：本地视频上传（推荐）✅

**1. 选择媒体类型**
```
媒体类型选择区域：
✅ 视频文件 (MP4) 🏆 推荐  ← 点击这个
□ 图片文件 (JPG/PNG) 🏆
□ 动画文件 (GIF/动图) 🏆
□ 视频链接 (YouTube/Vimeo)
□ 网页链接
□ 图片链接
□ 动态图片链接
```

**2. 上传视频文件**

**方法A：拖拽上传**
```
┌────────────────────────────────┐
│  📤                            │
│  将视频拖到此处，或点击上传     │
│                                │
│  支持MP4、AVI、MOV格式          │
│  推荐1920x1080                 │
│  建议<50MB（最大100MB）         │
└────────────────────────────────┘
```
- 直接拖拽视频文件到上传区域
- 系统自动验证格式和大小
- 上传成功显示"✅ 文件已上传"

**方法B：点击选择**
- 点击上传区域
- 在文件选择器中选择视频
- 系统自动处理上传

**3. 查看预览**
```
上传成功后显示：
┌────────────────────────────────┐
│ ✅ 文件已上传    [🗑️ 删除文件]  │
└────────────────────────────────┘
```

**4. 上传缩略图**
```
拖拽缩略图到此处：
┌────────────────────────────────┐
│  📷                            │
│  将图片拖到此处，或点击上传     │
│                                │
│  建议800x500px，<2MB           │
└────────────────────────────────┘
```

**5. 保存产品**
- 点击底部"💾 保存产品"按钮
- 等待"✅ 添加成功"提示
- 前台自动显示视频

---

#### 方式二：YouTube链接（可选）

**1. 选择媒体类型**
```
媒体类型选择区域：
□ 视频文件 (MP4) 🏆
□ 图片文件 (JPG/PNG) 🏆
□ 动画文件 (GIF/动图) 🏆
✅ 视频链接 (YouTube/Vimeo)  ← 点击这个
□ 网页链接
□ 图片链接
□ 动态图片链接
```

**2. 输入视频链接**
```
┌─────────────────────────────────────────┐
│ 🔗 URL │ [输入链接地址]    [清除]      │
└─────────────────────────────────────────┘

ℹ️ 示例: https://www.youtube.com/embed/dQw4w9WgXcQ
```

**支持的链接格式：**
- YouTube: `https://www.youtube.com/embed/VIDEO_ID`
- Vimeo: `https://player.vimeo.com/video/VIDEO_ID`
- 腾讯视频: `https://v.qq.com/txp/iframe/player.html?vid=VIDEO_ID`

**3. 查看帮助信息**
```
点击"ℹ️ 如何填写视频链接URL？"展开帮助：

🎥 YouTube视频:
  https://www.youtube.com/embed/VIDEO_ID
  示例: https://www.youtube.com/embed/dQw4w9WgXcQ

🎥 Vimeo视频:
  https://player.vimeo.com/video/VIDEO_ID

🎥 腾讯视频:
  https://v.qq.com/txp/iframe/player.html?vid=VIDEO_ID
```

**4. 预览视频**
- 输入链接后自动显示预览
- 嵌入式播放器展示
- 确认视频可正常播放

**5. 保存产品**
- 完成其他信息填写
- 点击"💾 保存产品"
- 前台显示嵌入视频

---

## 产品服务视频上传

### 🎯 访问路径
```
http://localhost:3002/admin/products-services
→ 点击"产品详情"标签
→ 点击"添加产品"按钮
```

### 📝 操作步骤

#### 1. 基本信息填写
```
所属分类：
  一级分类: [选择一级分类] ▼
  二级分类: [选择二级分类] ▼
  三级分类: [选择三级分类] ▼

产品名称：
  中文名称: [输入产品名称]
  英文名称: [Product Name]

产品描述：
  中文描述: [产品详细描述]
  英文描述: [Product Description]
```

#### 2. 上传产品图片
```
┌────────────────────────────────┐
│  📷                            │
│  将图片拖到此处，或点击上传     │
│                                │
│  支持JPG、PNG、GIF、WebP        │
│  大小<2MB，支持多张             │
└────────────────────────────────┘

上传后显示图片网格：
[图1] [图2] [图3] [图4]
```

#### 3. 添加产品视频（新功能）✨

**选择上传方式：**
```
┌─────────────────────────────────────┐
│ 📤 本地上传  |  🔗 链接地址        │
└─────────────────────────────────────┘
```

**方式A：本地上传（默认）**
```
┌────────────────────────────────┐
│  🎥                            │
│  将视频拖到此处，或点击上传     │
│                                │
│  支持MP4、AVI、MOV              │
│  建议<50MB（最大100MB）         │
└────────────────────────────────┘
```

**操作：**
1. 拖拽视频文件到上传区域
2. 或点击区域选择文件
3. 等待"✅ 视频上传成功!"提示

**方式B：链接地址**
```
┌─────────────────────────────────────────┐
│ 🔗 URL │ [输入YouTube链接]    [清除]   │
└─────────────────────────────────────────┘

ℹ️ 示例: https://www.youtube.com/embed/dQw4w9WgXcQ
```

**操作：**
1. 点击"🔗 链接地址"标签
2. 粘贴YouTube/Vimeo链接
3. 自动显示预览

#### 4. 预览视频
```
上传成功后显示：
┌────────────────────────────────────────┐
│ ✅ 视频已设置        [🗑️ 删除视频]    │
├────────────────────────────────────────┤
│                                        │
│        [视频播放器预览]                 │
│                                        │
└────────────────────────────────────────┘
```

#### 5. 保存产品
```
规格参数: [可选填写产品规格]

[取消]  [💾 保存]
```

---

## 常见问题解答

### Q1: 支持哪些视频格式？
```
✅ MP4  - 推荐，兼容性最好
✅ AVI  - Windows原生支持
✅ MOV  - Apple QuickTime格式
```

### Q2: 视频文件太大怎么办？
```
问题: 视频大小超过100MB
解决方案:
  1. 使用视频压缩工具（HandBrake、格式工厂）
  2. 降低视频分辨率（1920x1080 → 1280x720）
  3. 降低码率（5Mbps → 2Mbps）
  4. 使用YouTube链接（推荐大文件）
```

### Q3: 上传失败怎么办？
```
错误提示: "文件读取失败，请重试"
检查项:
  ✅ 文件格式是否正确（MP4/AVI/MOV）
  ✅ 文件大小是否<100MB
  ✅ 文件是否损坏
  ✅ 浏览器是否支持（建议Chrome/Edge）
  ✅ localStorage是否已满（清理缓存）
```

### Q4: 本地上传和链接地址如何选择？
```
本地上传（推荐场景）:
  ✅ 企业内网环境
  ✅ 视频文件<50MB
  ✅ 不依赖外部服务
  ✅ 加载速度快

链接地址（推荐场景）:
  ✅ 大文件视频（>50MB）
  ✅ 已有YouTube/Vimeo账号
  ✅ 需要CDN加速
  ✅ 节省本地存储空间
```

### Q5: 为什么视频链接不是必填了？
```
原因: 
  根据用户反馈，本地上传是主要需求
  
改进:
  • 本地上传模式 → 不需要填写链接
  • 链接地址模式 → 必须填写链接
  • 更符合实际使用场景
```

### Q6: 如何删除已上传的视频？
```
明星产品:
  点击"🗑️ 删除文件"按钮

产品服务:
  点击"🗑️ 删除视频"按钮
  
注意: 删除后需重新上传
```

### Q7: 前台如何显示视频？
```
本地上传视频:
  使用<video>标签播放
  支持暂停、进度条、音量控制
  
链接地址视频:
  使用<iframe>嵌入
  保留原视频平台功能
  
自动判断: 系统根据URL格式自动选择
```

---

## 最佳实践

### 📹 视频准备建议

#### 视频规格
```
分辨率:
  ✅ 推荐: 1920x1080 (Full HD)
  ⚠️ 备选: 1280x720 (HD)
  ❌ 避免: 4K及以上（文件过大）

码率:
  ✅ 推荐: 2-5 Mbps
  ⚠️ 最大: 8 Mbps

时长:
  ✅ 推荐: 15-60秒（产品展示）
  ⚠️ 最大: 5分钟

格式:
  ✅ 首选: MP4 (H.264编码)
  ⚠️ 备选: AVI, MOV
```

#### 文件大小优化
```
压缩工具推荐:
  • HandBrake (免费，专业)
  • 格式工厂 (免费，中文)
  • Adobe Media Encoder (专业)
  • FFmpeg (命令行)

压缩参数:
  分辨率: 1280x720
  码率: 2000-3000 kbps
  帧率: 24-30 fps
  编码: H.264
```

### 🖼️ 缩略图设计

```
尺寸: 800x500px 或 1200x800px
格式: JPG (小文件) 或 PNG (高质量)
大小: <500KB
内容: 视频关键帧或产品主图
```

### 🔗 YouTube链接获取

```
步骤:
1. 在YouTube打开视频
2. 点击"分享" → "嵌入"
3. 复制src地址
   
示例:
  原始链接: https://www.youtube.com/watch?v=dQw4w9WgXcQ
  嵌入链接: https://www.youtube.com/embed/dQw4w9WgXcQ
            ↑ 复制这个链接
```

### 📊 性能优化建议

```
本地上传限制:
  • 单个视频 < 50MB（推荐）
  • 总视频数 < 10个
  • localStorage总量 < 500MB

超出限制建议:
  1. 使用YouTube托管
  2. 集成云存储服务（未来）
  3. 视频压缩优化
```

### ✅ 上传前检查清单

```
□ 视频格式正确（MP4/AVI/MOV）
□ 文件大小合适（<50MB推荐）
□ 视频内容清晰
□ 无版权问题
□ 缩略图已准备
□ 产品信息完整
□ 浏览器兼容（Chrome/Edge）
```

---

## 🎯 快速操作指南

### 30秒快速上传

```
明星产品:
1. 后台 → 明星产品 → 添加
2. 选择"视频文件" ✅
3. 拖拽视频到上传区
4. 上传缩略图
5. 保存 → 完成 ✅

产品服务:
1. 后台 → 产品服务 → 产品详情 → 添加
2. 填写分类和名称
3. 产品视频 → 本地上传
4. 拖拽视频文件
5. 保存 → 完成 ✅
```

### 链接模式快速配置

```
1. 获取YouTube嵌入链接
2. 选择"视频链接"
3. 粘贴链接
4. 查看预览
5. 保存 → 完成 ✅
```

---

## 📞 技术支持

### 遇到问题？

1. **检查浏览器控制台**
   - 按F12打开开发者工具
   - 查看Console标签错误信息

2. **清理缓存**
   - Chrome: Ctrl+Shift+Delete
   - Edge: Ctrl+Shift+Delete
   - 选择"缓存的图像和文件"

3. **查看文档**
   - 📖 本使用指南
   - 📊 功能对比报告
   - ✅ 完成报告

---

**文档版本**: v2.6.3  
**更新日期**: 2025-12-21  
**适用范围**: 明星产品 + 产品服务管理

---

## 🔄 版本历史

### v2.6.3 (2025-12-21)
- ✅ 新增本地视频上传功能
- ✅ 视频链接改为可选
- ✅ 产品服务支持视频
- ✅ 拖拽上传支持
- ✅ 实时预览功能

### v2.6.2 及之前
- 仅支持URL链接输入
- 视频链接必填
- 无本地上传功能
