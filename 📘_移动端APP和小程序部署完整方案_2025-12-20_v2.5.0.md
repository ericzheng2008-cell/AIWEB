# ğŸ“˜ ç§»åŠ¨ç«¯APPå’Œå°ç¨‹åºéƒ¨ç½²å®Œæ•´æ–¹æ¡ˆ

**ç‰ˆæœ¬ï¼š** v2.5.0  
**æ—¥æœŸï¼š** 2025-12-20  
**æ–‡æ¡£ç±»å‹ï¼š** ç§»åŠ¨ç«¯éƒ¨ç½²æŠ€æœ¯æŒ‡å—

---

## ğŸ“‹ ç›®å½•

1. [ç§»åŠ¨ç«¯æ–¹æ¡ˆæ¦‚è¿°](#ç§»åŠ¨ç«¯æ–¹æ¡ˆæ¦‚è¿°)
2. [å¾®ä¿¡å°ç¨‹åºéƒ¨ç½²](#å¾®ä¿¡å°ç¨‹åºéƒ¨ç½²)
3. [åŸç”ŸAPPå¼€å‘](#åŸç”Ÿappå¼€å‘)
4. [æ··åˆAPPæ–¹æ¡ˆ](#æ··åˆappæ–¹æ¡ˆ)
5. [å¿«åº”ç”¨éƒ¨ç½²](#å¿«åº”ç”¨éƒ¨ç½²)
6. [è´¹ç”¨å¯¹æ¯”](#è´¹ç”¨å¯¹æ¯”)

---

## 1. ç§»åŠ¨ç«¯æ–¹æ¡ˆæ¦‚è¿°

### 1.1 æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | å¼€å‘æˆæœ¬ | ç”¨æˆ·ä½“éªŒ | ç»´æŠ¤æˆæœ¬ | æ¨èåº¦ | é€‚ç”¨åœºæ™¯ |
|-----|---------|---------|---------|--------|---------|
| **å¾®ä¿¡å°ç¨‹åº** | â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | ä¼ä¸šå®¢æˆ·ä¸ºä¸» |
| **åŸç”ŸAPP** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | å¤§å‹ä¼ä¸š |
| **æ··åˆAPP** | â­â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­â­ | ä¸­å°ä¼ä¸š |
| **H5ç½‘é¡µ** | â­â­ | â­â­â­ | â­â­ | â­â­â­ | å¿«é€Ÿä¸Šçº¿ |
| **å¿«åº”ç”¨** | â­â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­ | å®‰å“ç”¨æˆ· |

### 1.2 æŠ€æœ¯æ ˆé€‰æ‹©

#### æ–¹æ¡ˆä¸€ï¼šå¾®ä¿¡å°ç¨‹åºï¼ˆæ¨èï¼‰
```
æŠ€æœ¯æ ˆï¼š
- å‰ç«¯ï¼šåŸç”ŸWXML/WXSS/JS
- æ¡†æ¶ï¼šuni-app / Taroï¼ˆå¯é€‰ï¼‰
- åç«¯ï¼šå¤ç”¨ç°æœ‰Node.js API
- æ•°æ®åº“ï¼šå¤ç”¨ç°æœ‰SQLite/MySQL

ä¼˜åŠ¿ï¼š
âœ… æ— éœ€ä¸‹è½½ï¼Œæ‰«ç å³ç”¨
âœ… å¾®ä¿¡ç”Ÿæ€ï¼Œä¼ æ’­å¿«
âœ… å¼€å‘æˆæœ¬ä½
âœ… å®¡æ ¸å¿«é€Ÿï¼ˆ3-7å¤©ï¼‰

åŠ£åŠ¿ï¼š
âŒ å—å¾®ä¿¡é™åˆ¶
âŒ åŒ…å¤§å°é™åˆ¶ï¼ˆä¸»åŒ…2MBï¼‰
âŒ åŠŸèƒ½å—é™
```

#### æ–¹æ¡ˆäºŒï¼šæ··åˆAPPï¼ˆuni-appï¼‰
```
æŠ€æœ¯æ ˆï¼š
- æ¡†æ¶ï¼šuni-app
- è¯­è¨€ï¼šVue 3
- æ‰“åŒ…ï¼šHBuilderX / CLI
- æ”¯æŒå¹³å°ï¼šiOS + Android + å°ç¨‹åº

ä¼˜åŠ¿ï¼š
âœ… ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œ
âœ… å¤ç”¨ç°æœ‰Vueä»£ç 
âœ… åŸç”Ÿæ€§èƒ½æ¥è¿‘
âœ… æ’ä»¶ç”Ÿæ€ä¸°å¯Œ

åŠ£åŠ¿ï¼š
âŒ éœ€è¦åŸç”Ÿæ‰“åŒ…
âŒ æŸäº›åŸç”ŸåŠŸèƒ½å—é™
```

#### æ–¹æ¡ˆä¸‰ï¼šåŸç”ŸAPP
```
æŠ€æœ¯æ ˆï¼š
- iOSï¼šSwift / SwiftUI
- Androidï¼šKotlin / Jetpack Compose
- åç«¯ï¼šå¤ç”¨ç°æœ‰API

ä¼˜åŠ¿ï¼š
âœ… æ€§èƒ½æœ€ä½³
âœ… åŠŸèƒ½å®Œæ•´
âœ… ç”¨æˆ·ä½“éªŒæœ€å¥½

åŠ£åŠ¿ï¼š
âŒ å¼€å‘æˆæœ¬é«˜
âŒ ç»´æŠ¤æˆæœ¬é«˜
âŒ éœ€è¦ä¸¤å¥—ä»£ç 
```

---

## 2. å¾®ä¿¡å°ç¨‹åºéƒ¨ç½²

### 2.1 å‰æœŸå‡†å¤‡

#### æ³¨å†Œå°ç¨‹åºè´¦å·
```
æ­¥éª¤1ï¼šè®¿é—®å¾®ä¿¡å…¬ä¼—å¹³å°
https://mp.weixin.qq.com

æ­¥éª¤2ï¼šæ³¨å†Œå°ç¨‹åº
- é€‰æ‹©"å°ç¨‹åº"ç±»å‹
- ä¼ä¸šä¸»ä½“éœ€è¦ï¼š
  âœ“ è¥ä¸šæ‰§ç…§
  âœ“ å¯¹å…¬è´¦æˆ·
  âœ“ ç®¡ç†å‘˜èº«ä»½è¯
  âœ“ å¯¹å…¬è´¦æˆ·æ‰“æ¬¾éªŒè¯ï¼ˆ1-3å¤©ï¼‰

è´¹ç”¨ï¼š
- ä¸ªäººï¼šå…è´¹
- ä¼ä¸šï¼šÂ¥300/å¹´ï¼ˆè®¤è¯è´¹ï¼‰
```

#### è·å–AppID
```
ç™»å½•å°ç¨‹åºåå°
è®¾ç½® â†’ å¼€å‘è®¾ç½® â†’ AppID
å¤åˆ¶ä¿å­˜ï¼šwx1234567890abcdef
```

### 2.2 å¼€å‘ç¯å¢ƒæ­å»º

#### å®‰è£…å¾®ä¿¡å¼€å‘è€…å·¥å…·
```bash
# ä¸‹è½½åœ°å€
https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html

# é€‰æ‹©ç¨³å®šç‰ˆ
Windows 64ä½
macOS
Linux
```

#### åˆ›å»ºuni-appé¡¹ç›®ï¼ˆæ¨èï¼‰
```bash
# å…¨å±€å®‰è£…Vue CLI
npm install -g @vue/cli

# åˆ›å»ºuni-appé¡¹ç›®
npx degit dcloudio/uni-preset-vue#vite-ts aiweb-miniapp
cd aiweb-miniapp

# å®‰è£…ä¾èµ–
npm install

# å®‰è£…uni-appæ’ä»¶
npm install @dcloudio/vite-plugin-uni

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev:mp-weixin
```

### 2.3 ä»£ç æ”¹é€ 

#### é¡¹ç›®ç»“æ„
```
aiweb-miniapp/
â”œâ”€â”€ pages/                  # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ index/             # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ index.vue
â”‚   â”‚   â””â”€â”€ index.scss
â”‚   â”œâ”€â”€ agents/            # æ™ºèƒ½ä½“åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ index.vue
â”‚   â”œâ”€â”€ aicrm/             # AICRMæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ customer360.vue
â”‚   â”‚   â”œâ”€â”€ sandbox.vue
â”‚   â”‚   â””â”€â”€ contacts.vue
â”‚   â”œâ”€â”€ aimes/             # AIMESæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ production.vue
â”‚   â”‚   â”œâ”€â”€ quality.vue
â”‚   â”‚   â””â”€â”€ workorder.vue
â”‚   â”œâ”€â”€ equipment/         # è®¾å¤‡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ lifecycle.vue
â”‚   â”‚   â”œâ”€â”€ maintenance.vue
â”‚   â”‚   â””â”€â”€ calculator.vue
â”‚   â””â”€â”€ selector/          # äº§å“é€‰å‹
â”‚       â””â”€â”€ index.vue
â”œâ”€â”€ components/            # ç»„ä»¶
â”‚   â”œâ”€â”€ AgentCard.vue
â”‚   â”œâ”€â”€ ProductCard.vue
â”‚   â””â”€â”€ ChartWrapper.vue
â”œâ”€â”€ utils/                 # å·¥å…·
â”‚   â”œâ”€â”€ request.js        # è¯·æ±‚å°è£…
â”‚   â””â”€â”€ auth.js           # è®¤è¯
â”œâ”€â”€ static/               # é™æ€èµ„æº
â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”œâ”€â”€ main.js              # å…¥å£æ–‡ä»¶
â”œâ”€â”€ manifest.json        # åº”ç”¨é…ç½®
â””â”€â”€ pages.json           # é¡µé¢é…ç½®
```

#### é…ç½®manifest.json
```json
{
  "name": "æ˜å‡AIWEB",
  "appid": "wx1234567890abcdef",
  "description": "æ™ºèƒ½åˆ¶é€ ä¸å·¥ä¸šè‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆ",
  "versionName": "2.5.0",
  "versionCode": 250,
  "transformPx": false,
  "mp-weixin": {
    "appid": "wx1234567890abcdef",
    "setting": {
      "urlCheck": false,
      "es6": true,
      "postcss": true,
      "minified": true
    },
    "permission": {
      "scope.userLocation": {
        "desc": "ç”¨äºæ˜¾ç¤ºè®¾å¤‡ä½ç½®"
      }
    }
  },
  "h5": {
    "router": {
      "mode": "hash",
      "base": "/h5/"
    }
  }
}
```

#### é…ç½®pages.json
```json
{
  "pages": [
    {
      "path": "pages/index/index",
      "style": {
        "navigationBarTitleText": "æ˜å‡AIWEB",
        "enablePullDownRefresh": true
      }
    },
    {
      "path": "pages/agents/index",
      "style": {
        "navigationBarTitleText": "å®‰å½¤æ™ºèƒ½ä½“"
      }
    },
    {
      "path": "pages/aicrm/customer360",
      "style": {
        "navigationBarTitleText": "å®¢æˆ·360Â°ç”»åƒ"
      }
    },
    {
      "path": "pages/equipment/lifecycle",
      "style": {
        "navigationBarTitleText": "è®¾å¤‡å…¨ç”Ÿå‘½å‘¨æœŸ"
      }
    }
  ],
  "globalStyle": {
    "navigationBarTextStyle": "black",
    "navigationBarTitleText": "æ˜å‡AIWEB",
    "navigationBarBackgroundColor": "#FFFFFF",
    "backgroundColor": "#F8F8F8"
  },
  "tabBar": {
    "color": "#7A7E83",
    "selectedColor": "#1890FF",
    "borderStyle": "black",
    "backgroundColor": "#FFFFFF",
    "list": [
      {
        "pagePath": "pages/index/index",
        "iconPath": "static/tabbar/home.png",
        "selectedIconPath": "static/tabbar/home-active.png",
        "text": "é¦–é¡µ"
      },
      {
        "pagePath": "pages/agents/index",
        "iconPath": "static/tabbar/agents.png",
        "selectedIconPath": "static/tabbar/agents-active.png",
        "text": "æ™ºèƒ½ä½“"
      },
      {
        "pagePath": "pages/aicrm/index",
        "iconPath": "static/tabbar/aicrm.png",
        "selectedIconPath": "static/tabbar/aicrm-active.png",
        "text": "AICRM"
      },
      {
        "pagePath": "pages/equipment/index",
        "iconPath": "static/tabbar/equipment.png",
        "selectedIconPath": "static/tabbar/equipment-active.png",
        "text": "è®¾å¤‡"
      }
    ]
  }
}
```

#### å°è£…APIè¯·æ±‚
```javascript
// utils/request.js
const BASE_URL = 'https://your-domain.com/api'

export function request(options) {
  return new Promise((resolve, reject) => {
    uni.request({
      url: BASE_URL + options.url,
      method: options.method || 'GET',
      data: options.data || {},
      header: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer ' + uni.getStorageSync('token')
      },
      success: (res) => {
        if (res.statusCode === 200) {
          resolve(res.data)
        } else {
          reject(res.data)
        }
      },
      fail: (err) => {
        reject(err)
      }
    })
  })
}

// å…·ä½“API
export function getCustomerList() {
  return request({
    url: '/customers',
    method: 'GET'
  })
}

export function getEquipmentList() {
  return request({
    url: '/equipment',
    method: 'GET'
  })
}
```

#### ç¤ºä¾‹é¡µé¢ï¼šå®¢æˆ·360Â°
```vue
<!-- pages/aicrm/customer360.vue -->
<template>
  <view class="customer360">
    <view class="header">
      <text class="title">å®¢æˆ·360Â°ç”»åƒ</text>
    </view>
    
    <!-- å®¢æˆ·åˆ—è¡¨ -->
    <scroll-view scroll-y class="customer-list">
      <view 
        v-for="customer in customers" 
        :key="customer.id"
        class="customer-item"
        @click="selectCustomer(customer)"
      >
        <text class="name">{{ customer.name }}</text>
        <text class="industry">{{ customer.industry }}</text>
      </view>
    </scroll-view>
    
    <!-- å®¢æˆ·è¯¦æƒ… -->
    <view v-if="selectedCustomer" class="customer-detail">
      <view class="info-card">
        <text class="label">å…¬å¸åç§°</text>
        <text class="value">{{ selectedCustomer.name }}</text>
      </view>
      
      <!-- é›·è¾¾å›¾ -->
      <view class="radar-chart">
        <canvas 
          canvas-id="radarCanvas" 
          class="canvas"
          @touchstart="touchHandler"
        ></canvas>
      </view>
      
      <button @click="openSandbox">è¿›å…¥å®¢æˆ·æ²™ç›˜</button>
    </view>
  </view>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { getCustomerList } from '@/utils/request'

const customers = ref([])
const selectedCustomer = ref(null)

onMounted(async () => {
  const res = await getCustomerList()
  customers.value = res.data
})

function selectCustomer(customer) {
  selectedCustomer.value = customer
  // ç»˜åˆ¶é›·è¾¾å›¾
  drawRadarChart()
}

function drawRadarChart() {
  const ctx = uni.createCanvasContext('radarCanvas')
  // ç»˜åˆ¶é›·è¾¾å›¾é€»è¾‘
  // ...
  ctx.draw()
}

function openSandbox() {
  uni.navigateTo({
    url: '/pages/aicrm/sandbox?id=' + selectedCustomer.value.id
  })
}
</script>

<style lang="scss" scoped>
.customer360 {
  padding: 20rpx;
  
  .header {
    margin-bottom: 20rpx;
    
    .title {
      font-size: 36rpx;
      font-weight: bold;
    }
  }
  
  .customer-list {
    height: 400rpx;
    
    .customer-item {
      padding: 20rpx;
      background: #fff;
      margin-bottom: 10rpx;
      border-radius: 8rpx;
      
      .name {
        font-size: 28rpx;
        font-weight: bold;
      }
      
      .industry {
        font-size: 24rpx;
        color: #666;
        margin-left: 20rpx;
      }
    }
  }
  
  .customer-detail {
    margin-top: 20rpx;
    
    .info-card {
      padding: 20rpx;
      background: #fff;
      border-radius: 8rpx;
      margin-bottom: 10rpx;
      
      .label {
        font-size: 24rpx;
        color: #999;
      }
      
      .value {
        font-size: 28rpx;
        font-weight: bold;
        margin-left: 20rpx;
      }
    }
    
    .radar-chart {
      height: 400rpx;
      background: #fff;
      border-radius: 8rpx;
      
      .canvas {
        width: 100%;
        height: 100%;
      }
    }
  }
}
</style>
```

### 2.4 ç¼–è¯‘ä¸ä¸Šä¼ 

#### ç¼–è¯‘å°ç¨‹åº
```bash
# å¼€å‘ç¯å¢ƒ
npm run dev:mp-weixin

# ç”Ÿäº§ç¯å¢ƒ
npm run build:mp-weixin

# è¾“å‡ºç›®å½•
dist/dev/mp-weixin/
dist/build/mp-weixin/
```

#### å¾®ä¿¡å¼€å‘è€…å·¥å…·å¯¼å…¥
```
1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. é€‰æ‹©"å°ç¨‹åº"
3. ç‚¹å‡»"å¯¼å…¥é¡¹ç›®"
4. é€‰æ‹© dist/build/mp-weixin ç›®å½•
5. å¡«å†™ AppID
6. ç‚¹å‡»"å¯¼å…¥"
```

#### ä¸Šä¼ å®¡æ ¸
```
æ­¥éª¤1ï¼šå¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»"ä¸Šä¼ "
- è¾“å…¥ç‰ˆæœ¬å·ï¼š2.5.0
- è¾“å…¥é¡¹ç›®å¤‡æ³¨ï¼šæ–°å¢AICRMåŠŸèƒ½

æ­¥éª¤2ï¼šç™»å½•å°ç¨‹åºåå°
https://mp.weixin.qq.com
- ç‰ˆæœ¬ç®¡ç† â†’ å¼€å‘ç‰ˆæœ¬
- é€‰æ‹©åˆšä¸Šä¼ çš„ç‰ˆæœ¬
- ç‚¹å‡»"æäº¤å®¡æ ¸"

æ­¥éª¤3ï¼šå¡«å†™å®¡æ ¸ä¿¡æ¯
- åŠŸèƒ½é¡µé¢ï¼šé€‰æ‹©æ ¸å¿ƒé¡µé¢æˆªå›¾
- æµ‹è¯•è´¦å·ï¼šæä¾›æµ‹è¯•è´¦å·å¯†ç 
- å¤‡æ³¨è¯´æ˜ï¼šåŠŸèƒ½è¯´æ˜

å®¡æ ¸æ—¶é—´ï¼š3-7ä¸ªå·¥ä½œæ—¥

æ­¥éª¤4ï¼šå®¡æ ¸é€šè¿‡åå‘å¸ƒ
- ç‚¹å‡»"å‘å¸ƒ"
- å…¨é‡å‘å¸ƒæˆ–ç°åº¦å‘å¸ƒ
```

### 2.5 å°ç¨‹åºä¼˜åŒ–

#### æ€§èƒ½ä¼˜åŒ–
```javascript
// 1. åˆ†åŒ…åŠ è½½
// pages.json
{
  "subPackages": [
    {
      "root": "packages/aicrm",
      "pages": [
        "customer360/index",
        "sandbox/index"
      ]
    },
    {
      "root": "packages/equipment",
      "pages": [
        "lifecycle/index",
        "maintenance/index"
      ]
    }
  ],
  "preloadRule": {
    "pages/index/index": {
      "network": "all",
      "packages": ["packages/aicrm"]
    }
  }
}

// 2. å›¾ç‰‡æ‡’åŠ è½½
<image 
  src="{{item.image}}" 
  lazy-load
  mode="aspectFill"
/>

// 3. æ•°æ®é¢„åŠ è½½
onLoad() {
  // é¢„åŠ è½½ä¸‹ä¸€é¡µæ•°æ®
  this.preloadNextPage()
}

// 4. ä½¿ç”¨computedç¼“å­˜
computed: {
  filteredList() {
    return this.list.filter(item => item.status === 'active')
  }
}
```

#### ä½“éªŒä¼˜åŒ–
```javascript
// 1. éª¨æ¶å±
<view v-if="loading" class="skeleton">
  <view class="skeleton-item"></view>
  <view class="skeleton-item"></view>
</view>

// 2. ä¸‹æ‹‰åˆ·æ–°
onPullDownRefresh() {
  this.loadData().then(() => {
    uni.stopPullDownRefresh()
  })
}

// 3. è§¦åº•åŠ è½½
onReachBottom() {
  if (this.hasMore) {
    this.loadMore()
  }
}

// 4. åˆ†äº«åŠŸèƒ½
onShareAppMessage() {
  return {
    title: 'æ˜å‡AIWEB - æ™ºèƒ½åˆ¶é€ è§£å†³æ–¹æ¡ˆ',
    path: '/pages/index/index',
    imageUrl: '/static/share.png'
  }
}
```

---

## 3. åŸç”ŸAPPå¼€å‘

### 3.1 iOSåº”ç”¨å¼€å‘

#### å¼€å‘ç¯å¢ƒ
```
ç¡¬ä»¶è¦æ±‚ï¼š
- Macç”µè„‘ï¼ˆMacbook / iMac / Mac Miniï¼‰
- è‡³å°‘8GBå†…å­˜ï¼Œæ¨è16GB

è½¯ä»¶è¦æ±‚ï¼š
- macOS 13.0+
- Xcode 15.0+
- CocoaPods

è´¹ç”¨ï¼š
- ä¸ªäººå¼€å‘è€…ï¼š$99/å¹´
- ä¼ä¸šå¼€å‘è€…ï¼š$299/å¹´
```

#### åˆ›å»ºé¡¹ç›®
```swift
// 1. æ‰“å¼€Xcode
// 2. Create a new Xcode project
// 3. é€‰æ‹© iOS â†’ App
// 4. å¡«å†™é¡¹ç›®ä¿¡æ¯
//    - Product Name: AIWEB
//    - Team: é€‰æ‹©å¼€å‘è€…è´¦å·
//    - Organization Identifier: com.mingsheng
//    - Interface: SwiftUI
//    - Language: Swift

// 5. é¡¹ç›®ç»“æ„
AIWEB/
â”œâ”€â”€ AIWEBApp.swift          // å…¥å£æ–‡ä»¶
â”œâ”€â”€ ContentView.swift       // ä¸»è§†å›¾
â”œâ”€â”€ Views/                  // è§†å›¾
â”‚   â”œâ”€â”€ HomeView.swift
â”‚   â”œâ”€â”€ AgentsView.swift
â”‚   â”œâ”€â”€ AICRMView.swift
â”‚   â””â”€â”€ EquipmentView.swift
â”œâ”€â”€ Models/                 // æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ Customer.swift
â”‚   â”œâ”€â”€ Equipment.swift
â”‚   â””â”€â”€ Agent.swift
â”œâ”€â”€ Services/               // æœåŠ¡
â”‚   â”œâ”€â”€ APIService.swift
â”‚   â””â”€â”€ AuthService.swift
â”œâ”€â”€ Utils/                  // å·¥å…·
â”‚   â””â”€â”€ Extensions.swift
â””â”€â”€ Assets.xcassets        // èµ„æº
```

#### ç¤ºä¾‹ä»£ç ï¼šå®¢æˆ·360Â°
```swift
// Models/Customer.swift
import Foundation

struct Customer: Identifiable, Codable {
    let id: String
    let name: String
    let industry: String
    let scale: String
    let radarData: RadarData
    
    struct RadarData: Codable {
        let demand: Double
        let budget: Double
        let authority: Double
        let urgency: Double
    }
}

// Services/APIService.swift
import Foundation

class APIService {
    static let shared = APIService()
    private let baseURL = "https://your-domain.com/api"
    
    func fetchCustomers() async throws -> [Customer] {
        guard let url = URL(string: "\(baseURL)/customers") else {
            throw URLError(.badURL)
        }
        
        var request = URLRequest(url: url)
        request.setValue("Bearer \(getToken())", forHTTPHeaderField: "Authorization")
        
        let (data, _) = try await URLSession.shared.data(for: request)
        let customers = try JSONDecoder().decode([Customer].self, from: data)
        return customers
    }
    
    private func getToken() -> String {
        // ä»Keychainè·å–token
        return UserDefaults.standard.string(forKey: "authToken") ?? ""
    }
}

// Views/Customer360View.swift
import SwiftUI

struct Customer360View: View {
    @State private var customers: [Customer] = []
    @State private var selectedCustomer: Customer?
    @State private var isLoading = true
    
    var body: some View {
        NavigationView {
            VStack {
                if isLoading {
                    ProgressView("åŠ è½½ä¸­...")
                } else {
                    List(customers) { customer in
                        CustomerRow(customer: customer)
                            .onTapGesture {
                                selectedCustomer = customer
                            }
                    }
                }
            }
            .navigationTitle("å®¢æˆ·360Â°")
            .task {
                await loadCustomers()
            }
            .sheet(item: $selectedCustomer) { customer in
                CustomerDetailView(customer: customer)
            }
        }
    }
    
    func loadCustomers() async {
        do {
            customers = try await APIService.shared.fetchCustomers()
            isLoading = false
        } catch {
            print("Error loading customers: \(error)")
        }
    }
}

struct CustomerRow: View {
    let customer: Customer
    
    var body: some View {
        HStack {
            VStack(alignment: .leading) {
                Text(customer.name)
                    .font(.headline)
                Text(customer.industry)
                    .font(.subheadline)
                    .foregroundColor(.secondary)
            }
            Spacer()
            Image(systemName: "chevron.right")
                .foregroundColor(.secondary)
        }
        .padding(.vertical, 8)
    }
}

// é›·è¾¾å›¾
struct RadarChartView: View {
    let data: Customer.RadarData
    
    var body: some View {
        Canvas { context, size in
            let center = CGPoint(x: size.width / 2, y: size.height / 2)
            let radius = min(size.width, size.height) / 2 - 20
            
            // ç»˜åˆ¶èƒŒæ™¯ç½‘æ ¼
            drawGrid(context: context, center: center, radius: radius)
            
            // ç»˜åˆ¶æ•°æ®
            drawData(context: context, center: center, radius: radius)
        }
        .frame(height: 300)
    }
    
    func drawGrid(context: GraphicsContext, center: CGPoint, radius: CGFloat) {
        // ç»˜åˆ¶5ä¸ªåŒå¿ƒåœ†
        for i in 1...5 {
            let r = radius * CGFloat(i) / 5
            context.stroke(
                Circle().path(in: CGRect(x: center.x - r, y: center.y - r, width: r * 2, height: r * 2)),
                with: .color(.gray.opacity(0.3))
            )
        }
        
        // ç»˜åˆ¶4æ¡è½´çº¿
        let angles: [CGFloat] = [0, .pi/2, .pi, .pi*3/2]
        for angle in angles {
            let endX = center.x + radius * cos(angle)
            let endY = center.y + radius * sin(angle)
            context.stroke(
                Path { path in
                    path.move(to: center)
                    path.addLine(to: CGPoint(x: endX, y: endY))
                },
                with: .color(.gray.opacity(0.3))
            )
        }
    }
    
    func drawData(context: GraphicsContext, center: CGPoint, radius: CGFloat) {
        let values = [data.demand, data.budget, data.authority, data.urgency]
        let angles: [CGFloat] = [0, .pi/2, .pi, .pi*3/2]
        
        var path = Path()
        for (index, value) in values.enumerated() {
            let r = radius * value
            let x = center.x + r * cos(angles[index])
            let y = center.y + r * sin(angles[index])
            
            if index == 0 {
                path.move(to: CGPoint(x: x, y: y))
            } else {
                path.addLine(to: CGPoint(x: x, y: y))
            }
        }
        path.closeSubpath()
        
        context.fill(path, with: .color(.blue.opacity(0.3)))
        context.stroke(path, with: .color(.blue), lineWidth: 2)
    }
}
```

#### æ‰“åŒ…å‘å¸ƒ
```bash
# 1. è®¾ç½®ç‰ˆæœ¬å·
# Xcode â†’ Target â†’ General
# Version: 2.5.0
# Build: 1

# 2. é…ç½®ç­¾å
# Signing & Capabilities
# Team: é€‰æ‹©å¼€å‘è€…å›¢é˜Ÿ
# Bundle Identifier: com.mingsheng.aiweb

# 3. Archive
# Product â†’ Archive

# 4. ä¸Šä¼ App Store
# Organizer â†’ Upload to App Store

# 5. App Store Connectå®¡æ ¸
# https://appstoreconnect.apple.com
# å¡«å†™åº”ç”¨ä¿¡æ¯ã€æˆªå›¾ã€æè¿°
# æäº¤å®¡æ ¸ï¼ˆ1-3å¤©ï¼‰
```

### 3.2 Androidåº”ç”¨å¼€å‘

#### å¼€å‘ç¯å¢ƒ
```
è½¯ä»¶è¦æ±‚ï¼š
- Android Studio 2023.1.1+
- JDK 17+
- Android SDK 34+

è´¹ç”¨ï¼š
- Google Playå¼€å‘è€…ï¼š$25ï¼ˆä¸€æ¬¡æ€§ï¼‰
```

#### åˆ›å»ºé¡¹ç›®
```kotlin
// 1. æ‰“å¼€Android Studio
// 2. New Project â†’ Empty Activity
// 3. å¡«å†™é¡¹ç›®ä¿¡æ¯
//    - Name: AIWEB
//    - Package name: com.mingsheng.aiweb
//    - Language: Kotlin
//    - Minimum SDK: API 24 (Android 7.0)

// é¡¹ç›®ç»“æ„
app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/mingsheng/aiweb/
â”‚   â”‚   â”‚   â”œâ”€â”€ MainActivity.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ aicrm/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ equipment/
â”‚   â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ repository/
â”‚   â”‚   â”‚   â””â”€â”€ network/
â”‚   â”‚   â”‚       â””â”€â”€ ApiService.kt
â”‚   â”‚   â”œâ”€â”€ res/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ drawable/
â”‚   â”‚   â”‚   â””â”€â”€ values/
â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â””â”€â”€ build.gradle
â””â”€â”€ build.gradle
```

#### ç¤ºä¾‹ä»£ç 
```kotlin
// data/model/Customer.kt
data class Customer(
    val id: String,
    val name: String,
    val industry: String,
    val scale: String,
    val radarData: RadarData
) {
    data class RadarData(
        val demand: Double,
        val budget: Double,
        val authority: Double,
        val urgency: Double
    )
}

// network/ApiService.kt
import retrofit2.Retrofit
import retrofit2.converter.gson.GsonConverterFactory
import retrofit2.http.GET
import retrofit2.http.Header

interface ApiService {
    @GET("customers")
    suspend fun getCustomers(
        @Header("Authorization") token: String
    ): List<Customer>
    
    companion object {
        private const val BASE_URL = "https://your-domain.com/api/"
        
        fun create(): ApiService {
            val retrofit = Retrofit.Builder()
                .baseURL(BASE_URL)
                .addConverterFactory(GsonConverterFactory.create())
                .build()
            return retrofit.create(ApiService::class.java)
        }
    }
}

// ui/aicrm/Customer360ViewModel.kt
import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.StateFlow
import kotlinx.coroutines.launch

class Customer360ViewModel : ViewModel() {
    private val _customers = MutableStateFlow<List<Customer>>(emptyList())
    val customers: StateFlow<List<Customer>> = _customers
    
    private val _isLoading = MutableStateFlow(true)
    val isLoading: StateFlow<Boolean> = _isLoading
    
    private val apiService = ApiService.create()
    
    fun loadCustomers() {
        viewModelScope.launch {
            try {
                val token = getToken()
                _customers.value = apiService.getCustomers("Bearer $token")
                _isLoading.value = false
            } catch (e: Exception) {
                // Handle error
                _isLoading.value = false
            }
        }
    }
    
    private fun getToken(): String {
        // ä»SharedPreferencesè·å–token
        return ""
    }
}

// ui/aicrm/Customer360Activity.kt
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.foundation.lazy.items
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp

class Customer360Activity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            AIWEBTheme {
                Customer360Screen()
            }
        }
    }
}

@Composable
fun Customer360Screen(
    viewModel: Customer360ViewModel = viewModel()
) {
    val customers by viewModel.customers.collectAsState()
    val isLoading by viewModel.isLoading.collectAsState()
    
    LaunchedEffect(Unit) {
        viewModel.loadCustomers()
    }
    
    Scaffold(
        topBar = {
            TopAppBar(title = { Text("å®¢æˆ·360Â°") })
        }
    ) { padding ->
        if (isLoading) {
            Box(
                modifier = Modifier.fillMaxSize(),
                contentAlignment = Alignment.Center
            ) {
                CircularProgressIndicator()
            }
        } else {
            LazyColumn(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(padding)
            ) {
                items(customers) { customer ->
                    CustomerCard(customer = customer)
                }
            }
        }
    }
}

@Composable
fun CustomerCard(customer: Customer) {
    Card(
        modifier = Modifier
            .fillMaxWidth()
            .padding(8.dp)
    ) {
        Column(modifier = Modifier.padding(16.dp)) {
            Text(
                text = customer.name,
                style = MaterialTheme.typography.titleMedium
            )
            Text(
                text = customer.industry,
                style = MaterialTheme.typography.bodyMedium,
                color = MaterialTheme.colorScheme.secondary
            )
        }
    }
}
```

#### æ‰“åŒ…å‘å¸ƒ
```bash
# 1. ç”Ÿæˆç­¾åå¯†é’¥
keytool -genkey -v -keystore aiweb-release.keystore \
  -alias aiweb -keyalg RSA -keysize 2048 -validity 10000

# 2. é…ç½®ç­¾åï¼ˆapp/build.gradleï¼‰
android {
    signingConfigs {
        release {
            storeFile file("../aiweb-release.keystore")
            storePassword "your-password"
            keyAlias "aiweb"
            keyPassword "your-password"
        }
    }
    buildTypes {
        release {
            signingConfig signingConfigs.release
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

# 3. æ„å»ºRelease APK
./gradlew assembleRelease

# è¾“å‡ºï¼šapp/build/outputs/apk/release/app-release.apk

# 4. ä¸Šä¼ Google Play
# https://play.google.com/console
# åˆ›å»ºåº”ç”¨ â†’ ä¸Šä¼ APK â†’ å¡«å†™å•†åº—è¯¦æƒ… â†’ æäº¤å®¡æ ¸
```

---

## 4. æ··åˆAPPæ–¹æ¡ˆï¼ˆuni-appï¼‰

### 4.1 ä¸€é”®æ‰“åŒ…

#### HBuilderXäº‘æ‰“åŒ…
```
æ­¥éª¤1ï¼šæ‰“å¼€HBuilderX
æ­¥éª¤2ï¼šæ‰“å¼€é¡¹ç›®
æ­¥éª¤3ï¼šå‘è¡Œ â†’ åŸç”ŸApp-äº‘æ‰“åŒ…

iOSé…ç½®ï¼š
- AppID: è‹¹æœå¼€å‘è€…è´¦å·
- è¯ä¹¦: .p12æ–‡ä»¶
- æè¿°æ–‡ä»¶: .mobileprovision

Androidé…ç½®ï¼š
- åŒ…å: com.mingsheng.aiweb
- è¯ä¹¦åˆ«å: aiweb
- è¯ä¹¦ç§é’¥å¯†ç : ****
- è¯ä¹¦æ–‡ä»¶: .keystore

æ‰“åŒ…ç±»å‹ï¼š
[âˆš] æ­£å¼ç‰ˆ
[ ] æµ‹è¯•ç‰ˆ

æäº¤æ‰“åŒ…...
```

#### ç¦»çº¿æ‰“åŒ…
```bash
# ä¸‹è½½ç¦»çº¿SDK
https://nativesupport.dcloud.net.cn/AppDocs/download/android
https://nativesupport.dcloud.net.cn/AppDocs/download/ios

# Androidç¦»çº¿æ‰“åŒ…
1. è§£å‹SDK
2. ç”¨Android Studioæ‰“å¼€
3. æ›¿æ¢HBuilder-Hello/src/main/assets/apps/__UNI__xxx
4. ä¿®æ”¹åº”ç”¨ä¿¡æ¯
5. Build â†’ Generate Signed Bundle / APK

# iOSç¦»çº¿æ‰“åŒ…
1. è§£å‹SDK
2. ç”¨Xcodeæ‰“å¼€
3. æ›¿æ¢HBuilder-Hello/Pandora/apps/__UNI__xxx
4. ä¿®æ”¹åº”ç”¨ä¿¡æ¯
5. Product â†’ Archive
```

### 4.2 åŸç”Ÿæ’ä»¶

#### å®‰è£…åŸç”Ÿæ’ä»¶
```bash
# å¸‚åœºåœ°å€
https://ext.dcloud.net.cn

# å¸¸ç”¨æ’ä»¶
- uni-im: å³æ—¶é€šè®¯
- uni-push: æ¶ˆæ¯æ¨é€
- uni-pay: æ”¯ä»˜SDK
- uni-map: åœ°å›¾å®šä½

# ä½¿ç”¨æ’ä»¶
{
  "nativePlugins": [
    {
      "type": "module",
      "name": "uni-push",
      "class": "io.dcloud.push.PushModule"
    }
  ]
}
```

---

## 5. å¿«åº”ç”¨éƒ¨ç½²

### 5.1 å¿«åº”ç”¨ç®€ä»‹
```
å¿«åº”ç”¨æ˜¯ä¸€ç§åŸºäºæ‰‹æœºç¡¬ä»¶å¹³å°çš„æ–°å‹åº”ç”¨å½¢æ€
ç‰¹ç‚¹ï¼š
- æ— éœ€å®‰è£…
- å³ç‚¹å³ç”¨
- è¦†ç›–10+æ‰‹æœºå‚å•†
- 12äº¿+è®¾å¤‡

æ”¯æŒå‚å•†ï¼š
åä¸ºã€å°ç±³ã€OPPOã€vivoã€é­…æ—ã€è”æƒ³ã€é‡‘ç«‹ã€
åŠªæ¯”äºšã€ä¸€åŠ ã€æµ·ä¿¡ã€ä¸­å…´ç­‰
```

### 5.2 å¼€å‘å¿«åº”ç”¨
```bash
# å®‰è£…è„šæ‰‹æ¶
npm install -g hap-toolkit

# åˆ›å»ºé¡¹ç›®
hap init aiweb-quickapp
cd aiweb-quickapp

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘
npm run watch

# æ„å»º
npm run build

# é¢„è§ˆ
npm run server
```

---

## 6. è´¹ç”¨å¯¹æ¯”

### 6.1 å¼€å‘æˆæœ¬

| æ–¹æ¡ˆ | äººå‘˜ | å·¥æœŸ | äººåŠ›æˆæœ¬ | å·¥å…·æˆæœ¬ | æ€»æˆæœ¬ |
|-----|------|------|---------|---------|--------|
| **å¾®ä¿¡å°ç¨‹åº** | 1å‰ç«¯ | 2å‘¨ | Â¥20,000 | Â¥300 | Â¥20,300 |
| **uni-appå¤šç«¯** | 1å‰ç«¯ | 3å‘¨ | Â¥30,000 | Â¥0 | Â¥30,000 |
| **åŸç”ŸiOS** | 1iOSå·¥ç¨‹å¸ˆ | 4å‘¨ | Â¥40,000 | Â¥99 | Â¥40,099 |
| **åŸç”ŸAndroid** | 1Androidå·¥ç¨‹å¸ˆ | 4å‘¨ | Â¥35,000 | Â¥25 | Â¥35,025 |
| **iOS+Android** | 2äºº | 5å‘¨ | Â¥75,000 | Â¥124 | Â¥75,124 |

### 6.2 å¹´åº¦è¿è¥æˆæœ¬

| é¡¹ç›® | å°ç¨‹åº | uni-app | åŸç”ŸiOS | åŸç”ŸAndroid | åˆè®¡ |
|-----|-------|---------|---------|------------|------|
| **è´¦å·è´¹ç”¨** | Â¥300 | - | Â¥688 | Â¥172 | Â¥1,160 |
| **æœåŠ¡å™¨** | Â¥3,000 | Â¥3,000 | Â¥3,000 | Â¥3,000 | Â¥3,000 |
| **CDNæµé‡** | Â¥1,200 | Â¥1,200 | Â¥1,200 | Â¥1,200 | Â¥1,200 |
| **æ¨é€æœåŠ¡** | Â¥0 | Â¥600 | Â¥600 | Â¥600 | Â¥600 |
| **ç»´æŠ¤æˆæœ¬** | Â¥12,000 | Â¥18,000 | Â¥24,000 | Â¥24,000 | Â¥24,000 |
| **æ€»è®¡** | **Â¥16,500** | **Â¥22,800** | **Â¥29,488** | **Â¥28,972** | **Â¥29,960** |

---

## ğŸ“‹ æ¨èæ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šå¿«é€Ÿä¸Šçº¿ï¼ˆæ¨èåˆåˆ›ä¼ä¸šï¼‰
```
é˜¶æ®µ1ï¼šå¾®ä¿¡å°ç¨‹åºï¼ˆ2å‘¨ï¼‰
- å¼€å‘æˆæœ¬ï¼šÂ¥20,300
- å¹´è¿è¥æˆæœ¬ï¼šÂ¥16,500
- ä¼˜åŠ¿ï¼šå¿«é€ŸéªŒè¯å¸‚åœº

é˜¶æ®µ2ï¼šH5ç½‘é¡µï¼ˆ1å‘¨ï¼‰
- å¼€å‘æˆæœ¬ï¼šÂ¥8,000
- å¹´è¿è¥æˆæœ¬ï¼šÂ¥0
- ä¼˜åŠ¿ï¼šåˆ†äº«ä¼ æ’­

æ€»æŠ•å…¥ï¼šÂ¥44,800/å¹´
```

### æ–¹æ¡ˆäºŒï¼šå…¨å¹³å°è¦†ç›–ï¼ˆæ¨èä¸­å‹ä¼ä¸šï¼‰
```
uni-appä¸€é”®å¤šç«¯
- å¼€å‘æˆæœ¬ï¼šÂ¥30,000
- æ”¯æŒå¹³å°ï¼šå°ç¨‹åº + iOS + Android + H5
- å¹´è¿è¥æˆæœ¬ï¼šÂ¥22,800

æ€»æŠ•å…¥ï¼šÂ¥52,800/å¹´
```

### æ–¹æ¡ˆä¸‰ï¼šæè‡´ä½“éªŒï¼ˆæ¨èå¤§å‹ä¼ä¸šï¼‰
```
åŸç”ŸiOS + åŸç”ŸAndroid
- å¼€å‘æˆæœ¬ï¼šÂ¥75,124
- å¹´è¿è¥æˆæœ¬ï¼šÂ¥29,960
- ä¼˜åŠ¿ï¼šæ€§èƒ½æœ€ä½³ï¼Œä½“éªŒæœ€ä¼˜

æ€»æŠ•å…¥ï¼šÂ¥105,084/å¹´
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv2.5.0  
**æœ€åæ›´æ–°**ï¼š2025-12-20  
**æŠ€æœ¯æ”¯æŒ**ï¼šsupport@mingsheng.com
