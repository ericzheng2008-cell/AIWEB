<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>ç›‘æ§é¡µé¢æ ‡ç­¾è¯Šæ–­</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .diagnostic-box {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h2 { color: #409eff; margin-top: 0; }
    code {
      background: #f0f0f0;
      padding: 2px 8px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
    }
    button {
      background: #409eff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover { background: #66b1ff; }
    .result {
      background: #f0f9ff;
      border-left: 4px solid #409eff;
      padding: 10px;
      margin-top: 10px;
      white-space: pre-wrap;
      font-family: 'Courier New', monospace;
    }
    .error { border-left-color: #f56c6c; background: #fef0f0; }
    .success { border-left-color: #67c23a; background: #f0f9ff; }
  </style>
</head>
<body>
  <div class="diagnostic-box">
    <h2>ğŸ” ç›‘æ§é¡µé¢æ ‡ç­¾åˆ‡æ¢è¯Šæ–­å·¥å…·</h2>
    <p><strong>ä½¿ç”¨æ–¹æ³•:</strong></p>
    <ol>
      <li>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ç›‘æ§é¡µé¢: <code>http://localhost:3002/admin/monitoring-dashboard</code></li>
      <li>æŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
      <li>åˆ‡æ¢åˆ° <strong>Console</strong> æ ‡ç­¾é¡µ</li>
      <li>å¤åˆ¶ä¸‹é¢çš„ä»£ç ,ç²˜è´´åˆ°æ§åˆ¶å°å¹¶æŒ‰å›è½¦</li>
    </ol>
  </div>

  <div class="diagnostic-box">
    <h2>ğŸ“‹ è¯Šæ–­è„šæœ¬ 1: æ£€æŸ¥æ ‡ç­¾é¡µå…ƒç´ </h2>
    <button onclick="copyScript1()">å¤åˆ¶è„šæœ¬</button>
    <div class="result">
// ==================== è„šæœ¬ 1: æ£€æŸ¥æ ‡ç­¾é¡µå…ƒç´  ====================
console.log('=== æ ‡ç­¾é¡µå…ƒç´ æ£€æŸ¥ ===')

// 1. æŸ¥æ‰¾æ‰€æœ‰æ ‡ç­¾é¡µå…ƒç´ 
const tabItems = document.querySelectorAll('.el-tabs__item')
console.log('æ‰¾åˆ°æ ‡ç­¾é¡µæ•°é‡:', tabItems.length)

if (tabItems.length === 0) {
  console.error('âŒ æœªæ‰¾åˆ°æ ‡ç­¾é¡µå…ƒç´ ! Element Plus å¯èƒ½æœªæ­£ç¡®åŠ è½½')
} else {
  // 2. æ£€æŸ¥æ¯ä¸ªæ ‡ç­¾é¡µ
  tabItems.forEach((tab, index) => {
    console.log(`æ ‡ç­¾ ${index}:`, {
      æ–‡æœ¬: tab.textContent.trim(),
      æ˜¯å¦ç¦ç”¨: tab.classList.contains('is-disabled'),
      æ˜¯å¦æ¿€æ´»: tab.classList.contains('is-active'),
      æŒ‡é’ˆäº‹ä»¶: window.getComputedStyle(tab).pointerEvents,
      æ˜¾ç¤ºçŠ¶æ€: window.getComputedStyle(tab).display,
      é€æ˜åº¦: window.getComputedStyle(tab).opacity,
      zè½´å±‚çº§: window.getComputedStyle(tab).zIndex
    })
  })
  
  // 3. æµ‹è¯•ç‚¹å‡»ç¬¬ä¸€ä¸ªæ ‡ç­¾
  console.log('\nå°è¯•æ¨¡æ‹Ÿç‚¹å‡»ç¬¬ä¸€ä¸ªæ ‡ç­¾...')
  tabItems[0].click()
  console.log('âœ… ç‚¹å‡»å·²è§¦å‘')
}

console.log('\n=== æ£€æŸ¥å®Œæˆ ===\n')
    </div>
  </div>

  <div class="diagnostic-box">
    <h2>ğŸ“‹ è¯Šæ–­è„šæœ¬ 2: æ£€æŸ¥ Vue å“åº”æ€§</h2>
    <button onclick="copyScript2()">å¤åˆ¶è„šæœ¬</button>
    <div class="result">
// ==================== è„šæœ¬ 2: æ£€æŸ¥ Vue å“åº”æ€§ ====================
console.log('=== Vue å“åº”æ€§æ£€æŸ¥ ===')

// å°è¯•è®¿é—® Vue å®ä¾‹
const app = document.querySelector('#app').__vue__

if (!app) {
  console.error('âŒ æ— æ³•è®¿é—® Vue å®ä¾‹')
} else {
  console.log('âœ… Vue å®ä¾‹å­˜åœ¨')
  
  // æ£€æŸ¥ activeTab
  try {
    console.log('å½“å‰ activeTab:', app.$data?.activeTab || 'æ— æ³•è®¿é—®')
  } catch (error) {
    console.error('è®¿é—® activeTab å¤±è´¥:', error.message)
  }
}

console.log('\n=== æ£€æŸ¥å®Œæˆ ===\n')
    </div>
  </div>

  <div class="diagnostic-box">
    <h2>ğŸ“‹ è¯Šæ–­è„šæœ¬ 3: æ‰‹åŠ¨ä¿®æ”¹ activeTab</h2>
    <button onclick="copyScript3()">å¤åˆ¶è„šæœ¬</button>
    <div class="result">
// ==================== è„šæœ¬ 3: æ‰‹åŠ¨ä¿®æ”¹ activeTab ====================
console.log('=== æ‰‹åŠ¨ä¿®æ”¹ activeTab æµ‹è¯• ===')

// æŸ¥æ‰¾ el-tabs ç»„ä»¶å®ä¾‹
const tabsEl = document.querySelector('.el-tabs')

if (!tabsEl) {
  console.error('âŒ æœªæ‰¾åˆ° el-tabs å…ƒç´ ')
} else {
  console.log('âœ… æ‰¾åˆ° el-tabs å…ƒç´ ')
  
  // å°è¯•è§¦å‘è‡ªå®šä¹‰äº‹ä»¶
  const changeEvent = new CustomEvent('tab-click', {
    detail: { name: 'alerts' }
  })
  
  tabsEl.dispatchEvent(changeEvent)
  console.log('âœ… å·²è§¦å‘æ ‡ç­¾åˆ‡æ¢äº‹ä»¶åˆ° alerts')
  
  // ç­‰å¾… 1 ç§’åæ£€æŸ¥ç»“æœ
  setTimeout(() => {
    const activeTab = document.querySelector('.el-tabs__item.is-active')
    console.log('å½“å‰æ¿€æ´»çš„æ ‡ç­¾:', activeTab?.textContent.trim())
  }, 1000)
}

console.log('\n=== æµ‹è¯•å®Œæˆ,è¯·ç­‰å¾… 1 ç§’æŸ¥çœ‹ç»“æœ ===\n')
    </div>
  </div>

  <div class="diagnostic-box">
    <h2>ğŸ“‹ è¯Šæ–­è„šæœ¬ 4: æ£€æŸ¥äº‹ä»¶ç›‘å¬å™¨</h2>
    <button onclick="copyScript4()">å¤åˆ¶è„šæœ¬</button>
    <div class="result">
// ==================== è„šæœ¬ 4: æ£€æŸ¥äº‹ä»¶ç›‘å¬å™¨ ====================
console.log('=== äº‹ä»¶ç›‘å¬å™¨æ£€æŸ¥ ===')

const tabItems = document.querySelectorAll('.el-tabs__item')

tabItems.forEach((tab, index) => {
  // è·å–æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨ (éœ€è¦ Chrome DevTools)
  const listeners = getEventListeners ? getEventListeners(tab) : null
  
  if (listeners) {
    console.log(`æ ‡ç­¾ ${index} çš„äº‹ä»¶ç›‘å¬å™¨:`, listeners)
  } else {
    console.log(`æ ‡ç­¾ ${index}: æ— æ³•è·å–ç›‘å¬å™¨ (éœ€è¦åœ¨ Chrome DevTools çš„ Console ä¸­è¿è¡Œ)`)
  }
  
  // æ‰‹åŠ¨æ·»åŠ ç‚¹å‡»ç›‘å¬å™¨æµ‹è¯•
  tab.addEventListener('click', function testClick(e) {
    console.log(`âœ… æ ‡ç­¾ ${index} è¢«ç‚¹å‡»äº†!`, e)
    tab.removeEventListener('click', testClick)
  }, { once: true })
})

console.log('\nâœ… å·²ä¸ºæ‰€æœ‰æ ‡ç­¾æ·»åŠ æµ‹è¯•ç›‘å¬å™¨')
console.log('è¯·å°è¯•ç‚¹å‡»ä»»æ„æ ‡ç­¾,æ§åˆ¶å°ä¼šæ˜¾ç¤ºç‚¹å‡»äº‹ä»¶\n')

console.log('=== æ£€æŸ¥å®Œæˆ ===\n')
    </div>
  </div>

  <div class="diagnostic-box">
    <h2>ğŸ“‹ å®Œæ•´è¯Šæ–­è„šæœ¬ (å…¨éƒ¨è¿è¡Œ)</h2>
    <button onclick="copyAllScripts()">å¤åˆ¶å®Œæ•´è„šæœ¬</button>
    <div class="result">
// ==================== å®Œæ•´è¯Šæ–­è„šæœ¬ ====================
console.log('ğŸ” å¼€å§‹å®Œæ•´è¯Šæ–­...\n')

// 1. æ£€æŸ¥æ ‡ç­¾é¡µå…ƒç´ 
console.log('=== 1. æ ‡ç­¾é¡µå…ƒç´ æ£€æŸ¥ ===')
const tabItems = document.querySelectorAll('.el-tabs__item')
console.log('æ‰¾åˆ°æ ‡ç­¾é¡µæ•°é‡:', tabItems.length)

if (tabItems.length > 0) {
  tabItems.forEach((tab, i) => {
    const style = window.getComputedStyle(tab)
    console.log(`æ ‡ç­¾ ${i}: ${tab.textContent.trim()}`, {
      æ¿€æ´»: tab.classList.contains('is-active'),
      ç¦ç”¨: tab.classList.contains('is-disabled'),
      æŒ‡é’ˆ: style.pointerEvents,
      é€æ˜åº¦: style.opacity
    })
  })
  
  // 2. æ‰‹åŠ¨æ·»åŠ ç‚¹å‡»ç›‘å¬å™¨
  console.log('\n=== 2. æ·»åŠ ç‚¹å‡»ç›‘å¬å™¨æµ‹è¯• ===')
  tabItems.forEach((tab, i) => {
    tab.addEventListener('click', function testClick(e) {
      console.log(`âœ… æ ‡ç­¾ ${i} è¢«ç‚¹å‡»!`, {
        ç›®æ ‡: e.target,
        å½“å‰ç›®æ ‡: e.currentTarget,
        æ˜¯å¦å†’æ³¡: !e.cancelBubble,
        é»˜è®¤è¡Œä¸º: !e.defaultPrevented
      })
    }, { once: true })
  })
  console.log('âœ… ç›‘å¬å™¨å·²æ·»åŠ ,è¯·ç‚¹å‡»æ ‡ç­¾æµ‹è¯•\n')
  
  // 3. æ£€æŸ¥è¦†ç›–å…ƒç´ 
  console.log('=== 3. æ£€æŸ¥æ˜¯å¦æœ‰å…ƒç´ è¦†ç›–æ ‡ç­¾ ===')
  const firstTab = tabItems[0]
  const rect = firstTab.getBoundingClientRect()
  const elementAtPoint = document.elementFromPoint(
    rect.left + rect.width / 2,
    rect.top + rect.height / 2
  )
  
  if (elementAtPoint === firstTab || firstTab.contains(elementAtPoint)) {
    console.log('âœ… æ ‡ç­¾é¡µæœªè¢«å…¶ä»–å…ƒç´ è¦†ç›–')
  } else {
    console.error('âŒ æ ‡ç­¾é¡µè¢«å…¶ä»–å…ƒç´ è¦†ç›–:', elementAtPoint)
    console.log('è¦†ç›–å…ƒç´ çš„æ ·å¼:', window.getComputedStyle(elementAtPoint))
  }
}

console.log('\nğŸ¯ è¯Šæ–­å®Œæˆ! è¯·å°è¯•ç‚¹å‡»æ ‡ç­¾å¹¶è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º\n')
    </div>
  </div>

  <script>
    function copyScript1() {
      const script = document.querySelectorAll('.result')[0].textContent
      navigator.clipboard.writeText(script).then(() => {
        alert('âœ… è„šæœ¬ 1 å·²å¤åˆ¶åˆ°å‰ªè´´æ¿!\n\nè¯·åœ¨ç›‘æ§é¡µé¢çš„æ§åˆ¶å°ä¸­ç²˜è´´å¹¶è¿è¡Œã€‚')
      })
    }

    function copyScript2() {
      const script = document.querySelectorAll('.result')[1].textContent
      navigator.clipboard.writeText(script).then(() => {
        alert('âœ… è„šæœ¬ 2 å·²å¤åˆ¶åˆ°å‰ªè´´æ¿!')
      })
    }

    function copyScript3() {
      const script = document.querySelectorAll('.result')[2].textContent
      navigator.clipboard.writeText(script).then(() => {
        alert('âœ… è„šæœ¬ 3 å·²å¤åˆ¶åˆ°å‰ªè´´æ¿!')
      })
    }

    function copyScript4() {
      const script = document.querySelectorAll('.result')[3].textContent
      navigator.clipboard.writeText(script).then(() => {
        alert('âœ… è„šæœ¬ 4 å·²å¤åˆ¶åˆ°å‰ªè´´æ¿!')
      })
    }

    function copyAllScripts() {
      const script = document.querySelectorAll('.result')[4].textContent
      navigator.clipboard.writeText(script).then(() => {
        alert('âœ… å®Œæ•´è¯Šæ–­è„šæœ¬å·²å¤åˆ¶!\n\nè¿™å°†è¿è¡Œæ‰€æœ‰æ£€æŸ¥å¹¶æ·»åŠ ç‚¹å‡»ç›‘å¬å™¨ã€‚')
      })
    }
  </script>

  <div class="diagnostic-box">
    <h2>â“ å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</h2>
    <h3>é—®é¢˜ 1: æ ‡ç­¾é¡µè¢«å…¶ä»–å…ƒç´ è¦†ç›–</h3>
    <p><strong>ç—‡çŠ¶:</strong> ç‚¹å‡»æ— ååº”,æ§åˆ¶å°æ— é”™è¯¯</p>
    <p><strong>è§£å†³:</strong> æ£€æŸ¥æ˜¯å¦æœ‰ <code>position: absolute</code> æˆ– <code>z-index</code> è¾ƒé«˜çš„å…ƒç´ è¦†ç›–äº†æ ‡ç­¾é¡µ</p>

    <h3>é—®é¢˜ 2: Element Plus æœªæ­£ç¡®åŠ è½½</h3>
    <p><strong>ç—‡çŠ¶:</strong> æ‰¾ä¸åˆ° <code>.el-tabs__item</code> å…ƒç´ </p>
    <p><strong>è§£å†³:</strong> æ£€æŸ¥ Element Plus æ˜¯å¦æ­£ç¡®å¼•å…¥</p>

    <h3>é—®é¢˜ 3: Vue å“åº”æ€§å¤±æ•ˆ</h3>
    <p><strong>ç—‡çŠ¶:</strong> ç‚¹å‡»æœ‰å“åº”,ä½†å†…å®¹ä¸åˆ‡æ¢</p>
    <p><strong>è§£å†³:</strong> æ£€æŸ¥ <code>v-model</code> ç»‘å®šæ˜¯å¦æ­£ç¡®</p>

    <h3>é—®é¢˜ 4: CSS pointer-events è¢«ç¦ç”¨</h3>
    <p><strong>ç—‡çŠ¶:</strong> ç‚¹å‡»ç©¿é€åˆ°ä¸‹å±‚å…ƒç´ </p>
    <p><strong>è§£å†³:</strong> æ£€æŸ¥å…¨å±€ CSS æ˜¯å¦æœ‰ <code>pointer-events: none</code></p>
  </div>
</body>
</html>
