// ==================== ç›‘æ§é¡µé¢æ ‡ç­¾åˆ‡æ¢è¯Šæ–­è„šæœ¬ ====================
// è¯·åœ¨ç›‘æ§é¡µé¢ (http://localhost:3002/admin/monitoring-dashboard)
// æŒ‰ F12 æ‰“å¼€æ§åˆ¶å°,å¤åˆ¶ç²˜è´´è¿™æ®µä»£ç å¹¶æŒ‰å›è½¦

console.clear()
console.log('%cğŸ” å¼€å§‹è¯Šæ–­ç›‘æ§é¡µé¢æ ‡ç­¾åˆ‡æ¢é—®é¢˜...', 'color: #409eff; font-size: 16px; font-weight: bold')
console.log('')

// ==================== 1. æ£€æŸ¥æ ‡ç­¾é¡µå…ƒç´  ====================
console.log('%c=== 1. æ£€æŸ¥æ ‡ç­¾é¡µå…ƒç´  ===', 'color: #67c23a; font-weight: bold')

const tabsContainer = document.querySelector('.el-tabs')
const tabItems = document.querySelectorAll('.el-tabs__item')
const tabPanes = document.querySelectorAll('.el-tab-pane')

console.log('æ ‡ç­¾é¡µå®¹å™¨:', tabsContainer ? 'âœ… æ‰¾åˆ°' : 'âŒ æœªæ‰¾åˆ°')
console.log('æ ‡ç­¾é¡µæ ‡é¢˜æ•°é‡:', tabItems.length)
console.log('æ ‡ç­¾é¡µå†…å®¹æ•°é‡:', tabPanes.length)

if (tabItems.length === 0) {
  console.error('âŒ è‡´å‘½é”™è¯¯: æœªæ‰¾åˆ°æ ‡ç­¾é¡µå…ƒç´ ! Element Plus å¯èƒ½æœªæ­£ç¡®æ¸²æŸ“')
  console.log('è¯·æ£€æŸ¥:')
  console.log('  1. Element Plus æ˜¯å¦æ­£ç¡®å¼•å…¥')
  console.log('  2. Vue ç»„ä»¶æ˜¯å¦æ­£ç¡®æŒ‚è½½')
  console.log('  3. æ˜¯å¦æœ‰ JavaScript é”™è¯¯é˜»æ­¢äº†æ¸²æŸ“')
} else {
  console.log('âœ… æ ‡ç­¾é¡µå…ƒç´ å­˜åœ¨')
  
  tabItems.forEach((tab, index) => {
    const computedStyle = window.getComputedStyle(tab)
    const isActive = tab.classList.contains('is-active')
    const isDisabled = tab.classList.contains('is-disabled')
    
    console.log(`\næ ‡ç­¾ ${index + 1}: "${tab.textContent.trim()}"`, {
      'âœ… æ¿€æ´»': isActive,
      'âŒ ç¦ç”¨': isDisabled,
      'æŒ‡é’ˆäº‹ä»¶': computedStyle.pointerEvents,
      'æ˜¾ç¤ºçŠ¶æ€': computedStyle.display,
      'å¯è§æ€§': computedStyle.visibility,
      'é€æ˜åº¦': computedStyle.opacity,
      'zè½´å±‚çº§': computedStyle.zIndex,
      'ä½ç½®': computedStyle.position
    })
  })
}

console.log('')

// ==================== 2. æ£€æŸ¥å…ƒç´ è¦†ç›– ====================
console.log('%c=== 2. æ£€æŸ¥æ˜¯å¦æœ‰å…ƒç´ è¦†ç›–æ ‡ç­¾é¡µ ===', 'color: #67c23a; font-weight: bold')

if (tabItems.length > 0) {
  const firstTab = tabItems[0]
  const rect = firstTab.getBoundingClientRect()
  const centerX = rect.left + rect.width / 2
  const centerY = rect.top + rect.height / 2
  
  const elementAtCenter = document.elementFromPoint(centerX, centerY)
  
  console.log('ç¬¬ä¸€ä¸ªæ ‡ç­¾çš„ä½ç½®:', {
    left: rect.left,
    top: rect.top,
    width: rect.width,
    height: rect.height
  })
  
  console.log('ä¸­å¿ƒç‚¹åæ ‡:', { x: centerX, y: centerY })
  console.log('ä¸­å¿ƒç‚¹çš„å…ƒç´ :', elementAtCenter)
  
  if (elementAtCenter === firstTab || firstTab.contains(elementAtCenter)) {
    console.log('âœ… æ ‡ç­¾é¡µæœªè¢«è¦†ç›–,å¯ä»¥æ­£å¸¸ç‚¹å‡»')
  } else {
    console.error('âŒ æ ‡ç­¾é¡µè¢«å…¶ä»–å…ƒç´ è¦†ç›–!')
    console.log('è¦†ç›–å…ƒç´ :', elementAtCenter)
    console.log('è¦†ç›–å…ƒç´ çš„æ ·å¼:', window.getComputedStyle(elementAtCenter))
    console.log('')
    console.log('ğŸ’¡ è§£å†³æ–¹æ¡ˆ: éœ€è¦è°ƒæ•´è¦†ç›–å…ƒç´ çš„ z-index æˆ– position')
  }
}

console.log('')

// ==================== 3. æ£€æŸ¥äº‹ä»¶ç›‘å¬å™¨ ====================
console.log('%c=== 3. æ£€æŸ¥äº‹ä»¶ç›‘å¬å™¨ ===', 'color: #67c23a; font-weight: bold')

if (typeof getEventListeners === 'function') {
  tabItems.forEach((tab, index) => {
    const listeners = getEventListeners(tab)
    console.log(`æ ‡ç­¾ ${index + 1} çš„äº‹ä»¶ç›‘å¬å™¨:`, listeners)
  })
} else {
  console.log('âš ï¸ æ­¤åŠŸèƒ½ä»…åœ¨ Chrome DevTools ä¸­å¯ç”¨')
  console.log('åœ¨ Chrome ä¸­æ‰“å¼€æ­¤é¡µé¢ä»¥æŸ¥çœ‹äº‹ä»¶ç›‘å¬å™¨è¯¦æƒ…')
}

// æ‰‹åŠ¨æ·»åŠ æµ‹è¯•ç›‘å¬å™¨
let clickDetected = false
tabItems.forEach((tab, index) => {
  tab.addEventListener('click', function testListener(e) {
    clickDetected = true
    console.log(`%câœ… æ ‡ç­¾ ${index + 1} è¢«ç‚¹å‡»äº†!`, 'color: #67c23a; font-weight: bold')
    console.log('äº‹ä»¶è¯¦æƒ…:', {
      ç›®æ ‡: e.target,
      å½“å‰ç›®æ ‡: e.currentTarget,
      äº‹ä»¶é˜¶æ®µ: e.eventPhase,
      æ˜¯å¦å†’æ³¡: !e.cancelBubble,
      é»˜è®¤è¡Œä¸º: !e.defaultPrevented
    })
  }, { once: true, capture: true })
})

console.log('âœ… å·²ä¸ºæ‰€æœ‰æ ‡ç­¾æ·»åŠ ç‚¹å‡»ç›‘å¬å™¨')
console.log('ğŸ’¡ è¯·å°è¯•ç‚¹å‡»ä»»æ„æ ‡ç­¾,æ§åˆ¶å°ä¼šæ˜¾ç¤ºç‚¹å‡»äº‹ä»¶')

console.log('')

// ==================== 4. æµ‹è¯•æ‰‹åŠ¨åˆ‡æ¢ ====================
console.log('%c=== 4. æµ‹è¯•æ‰‹åŠ¨ç‚¹å‡» ===', 'color: #67c23a; font-weight: bold')

if (tabItems.length >= 2) {
  console.log('å°è¯•æ¨¡æ‹Ÿç‚¹å‡»ç¬¬2ä¸ªæ ‡ç­¾...')
  
  const secondTab = tabItems[1]
  secondTab.click()
  
  setTimeout(() => {
    const activeTab = document.querySelector('.el-tabs__item.is-active')
    const activeTabText = activeTab ? activeTab.textContent.trim() : 'æ— '
    
    console.log('ç‚¹å‡»åçš„ç»“æœ:')
    console.log('  å½“å‰æ¿€æ´»çš„æ ‡ç­¾:', activeTabText)
    
    if (clickDetected) {
      console.log('  âœ… ç‚¹å‡»äº‹ä»¶è¢«è§¦å‘')
    } else {
      console.error('  âŒ ç‚¹å‡»äº‹ä»¶æœªè¢«è§¦å‘!')
      console.log('  ğŸ’¡ è¿™è¯´æ˜ç‚¹å‡»è¢«é˜»æ­¢æˆ–äº‹ä»¶æœªç»‘å®š')
    }
    
    if (activeTabText === secondTab.textContent.trim()) {
      console.log('%câœ… æˆåŠŸ! æ ‡ç­¾åˆ‡æ¢æ­£å¸¸å·¥ä½œ!', 'color: #67c23a; font-size: 14px; font-weight: bold')
    } else {
      console.error('%câŒ å¤±è´¥! æ ‡ç­¾æœªåˆ‡æ¢!', 'color: #f56c6c; font-size: 14px; font-weight: bold')
      console.log('')
      console.log('%cå¯èƒ½çš„åŸå› :', 'font-weight: bold')
      console.log('  1. v-model ç»‘å®šçš„å˜é‡æœªæ›´æ–°')
      console.log('  2. Vue å“åº”å¼ç³»ç»Ÿå¤±æ•ˆ')
      console.log('  3. Element Plus å†…éƒ¨é”™è¯¯')
      console.log('  4. æœ‰å…¶ä»–ä»£ç é˜»æ­¢äº†æ ‡ç­¾åˆ‡æ¢')
    }
  }, 500)
}

console.log('')

// ==================== 5. æ£€æŸ¥ Vue å®ä¾‹ ====================
console.log('%c=== 5. æ£€æŸ¥ Vue å®ä¾‹ ===', 'color: #67c23a; font-weight: bold')

const app = document.querySelector('#app')
if (app && app.__vue_app__) {
  console.log('âœ… Vue åº”ç”¨å®ä¾‹å­˜åœ¨')
} else {
  console.error('âŒ æ— æ³•è®¿é—® Vue åº”ç”¨å®ä¾‹')
}

console.log('')
console.log('%cğŸ¯ è¯Šæ–­å®Œæˆ!', 'color: #409eff; font-size: 16px; font-weight: bold')
console.log('')
console.log('è¯·ç­‰å¾… 0.5 ç§’æŸ¥çœ‹æ‰‹åŠ¨ç‚¹å‡»æµ‹è¯•çš„ç»“æœ')
console.log('ç„¶åå°è¯•æ‰‹åŠ¨ç‚¹å‡»æ ‡ç­¾,è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º')
console.log('')
console.log('========================')
