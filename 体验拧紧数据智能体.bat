@echo off
chcp 65001 >nul
color 0A
echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                                                            â•‘
echo â•‘          ðŸŽ¯ æ‹§ç´§æ•°æ®é‡‡é›†æ™ºèƒ½ä½“ - ä½“éªŒå…¥å£                   â•‘
echo â•‘                                                            â•‘
echo â•‘               åŸºäºŽ ToolsNet 8 æž¶æž„                         â•‘
echo â•‘                                                            â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ
echo [æ£€æŸ¥] æ­£åœ¨æ£€æŸ¥æœåŠ¡çŠ¶æ€...
netstat -ano | findstr ":3001" >nul 2>&1
if %errorlevel% neq 0 (
    echo.
    echo âš ï¸  åŽç«¯æœåŠ¡æœªè¿è¡Œ
    echo.
    echo [å¯åŠ¨] æ­£åœ¨å¯åŠ¨åŽç«¯æœåŠ¡...
    start "ToolsNet Backend" cmd /k "cd /d %~dp0 && node server/index.js"
    timeout /t 3 /nobreak >nul
) else (
    echo âœ… åŽç«¯æœåŠ¡å·²è¿è¡Œ
)

netstat -ano | findstr ":5173" >nul 2>&1
if %errorlevel% neq 0 (
    echo.
    echo âš ï¸  å‰ç«¯æœåŠ¡æœªè¿è¡Œ
    echo.
    echo [å¯åŠ¨] æ­£åœ¨å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨...
    start "ToolsNet Frontend" cmd /k "cd /d %~dp0 && npm run dev"
    timeout /t 5 /nobreak >nul
) else (
    echo âœ… å‰ç«¯æœåŠ¡å·²è¿è¡Œ
)

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo ðŸŽ‰ å‡†å¤‡å°±ç»ªï¼
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ä½“éªŒåŠŸèƒ½æ¸…å•
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo   1. æŽ§åˆ¶å™¨è¿žæŽ¥ (PIM - Protocol Interface Module)
echo   2. å®žæ—¶æ•°æ®é‡‡é›† (DCS - Data Collection Service)
echo   3. æ‹§ç´§æ›²çº¿ç›‘æŽ§ (å®žæ—¶æ‰­çŸ©/è§’åº¦æ›²çº¿)
echo   4. åŽ†å²æ•°æ®æŸ¥è¯¢ (æ”¯æŒæ—¶é—´èŒƒå›´ã€ç»“æžœç­›é€‰)
echo   5. æ›²çº¿å¯¹æ¯”åˆ†æž (å¤šæ¡æ›²çº¿å¯¹æ¯”)
echo   6. æ•°æ®ç»Ÿè®¡æŠ¥è¡¨ (åˆæ ¼çŽ‡ã€CPKç­‰)
echo   7. æ•°æ®å¯¼å‡º (Excel/CSV/PDF/JSON)
echo   8. å­˜æ¡£æœåŠ¡ (Archive Service)
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   å¿«é€Ÿå¼€å§‹
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo   æ­¥éª¤ 1: ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•
echo           è´¦å·: admin
echo           å¯†ç : admin123
echo.
echo   æ­¥éª¤ 2: è¿›å…¥ã€Œæ‹§ç´§æ•°æ®é‡‡é›†ã€æ¨¡å—
echo.
echo   æ­¥éª¤ 3: ç‚¹å‡»ã€Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ã€å¿«é€Ÿä½“éªŒ
echo           æˆ–
echo           å¡«å†™çœŸå®žæŽ§åˆ¶å™¨ä¿¡æ¯è¿›è¡Œè¿žæŽ¥
echo.
echo   æ­¥éª¤ 4: ç‚¹å‡»ã€Œå¯åŠ¨æ•°æ®é‡‡é›†æœåŠ¡ã€
echo.
echo   æ­¥éª¤ 5: å®žæ—¶æŸ¥çœ‹æ‹§ç´§æ›²çº¿å’Œæ•°æ®
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ToolsNet 8 æŠ€æœ¯æž¶æž„
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo   â€¢ PIM (Protocol Interface Module) - 32-bit Delphi
echo   â€¢ DCS (Data Collection Service) - 64-bit .NET + MSMQ
echo   â€¢ CDC (Common Data Collection) - 64-bit .NET + MSMQ
echo   â€¢ Archive Service - 64-bit .NET
echo   â€¢ Web Application - Vue 3 + Node.js
echo   â€¢ Database - SQL Server / Oracle
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

timeout /t 2 /nobreak >nul
echo [å¯åŠ¨] æ­£åœ¨æ‰“å¼€æµè§ˆå™¨...
start http://localhost:5173/#/admin/tightening-data

echo.
echo âœ¨ æµè§ˆå™¨å·²æ‰“å¼€ï¼Œå¼€å§‹ä½“éªŒå§ï¼
echo.
echo ðŸ“š æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹:
echo    â€¢ å¿«é€Ÿå…¥é—¨_æ‹§ç´§æ•°æ®é‡‡é›†åˆ†æž_2025-12-14.md
echo    â€¢ åŠŸèƒ½æ–‡æ¡£_æ‹§ç´§æ•°æ®é‡‡é›†ç³»ç»Ÿ_ToolsNet8æž¶æž„_2025-12-14_v3.0.0.md
echo.
echo æŒ‰ä»»æ„é”®å…³é—­æ­¤çª—å£...
pause >nul
