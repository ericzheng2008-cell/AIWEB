# 工单管理系统 - 快速入门指南

## 📋 系统概述

工单管理系统是一套完整的故障设备追踪和维修管理解决方案，提供从工单创建、分配、追踪到完成的全流程数字化管理。

---

## 🚀 访问入口

### 方式一：通过顶部导航
1. 访问网站首页
2. 点击顶部导航栏 **"AI智能体"**
3. 在下拉菜单中选择 **"工单管理"**

### 方式二：通过AI智能体汇总页
1. 访问网站首页
2. 点击顶部导航栏 **"AI智能体"**（主菜单项）
3. 进入AI智能体汇总页面
4. 点击 **"故障工单管理"** 卡片

### 方式三：直接URL访问
- **工单管理**: `http://localhost:3007/fault-tracking`
- **维修历史**: `http://localhost:3007/maintenance-history`
- **故障统计**: `http://localhost:3007/fault-statistics`

### 方式四：通过AI客服
在AI客服中输入以下关键词：
- "工单"、"维修工单"、"故障工单"
- "维修追踪"、"维修记录"
- "工单查询"、"报修"

---

## 🎯 核心功能

### 1. 工单管理主页面 (`/fault-tracking`)

#### 功能列表
- ✅ **创建工单**: 填写设备信息、故障描述、优先级等
- ✅ **工单筛选**: 按状态、优先级、设备筛选
- ✅ **搜索工单**: 搜索工单编号、设备名称
- ✅ **查看详情**: 查看工单完整信息和操作历史
- ✅ **分配工单**: 将工单分配给维修人员
- ✅ **更新进度**: 更新工单状态和添加操作日志
- ✅ **关闭工单**: 完成维修后关闭工单

#### 工单状态流转
```
pending（待处理）
    ↓
assigned（已分配）
    ↓
in_progress（维修中）
    ↓
resolved（已解决）
    ↓
closed（已关闭）
```

#### 操作步骤

##### 创建新工单
1. 点击右上角 **"创建工单"** 按钮
2. 填写工单信息：
   - 设备名称（必填）
   - 故障描述（必填）
   - 优先级（低/中/高/紧急）
   - 故障类型（电气/机械/软件/其他）
   - 联系人和联系方式
3. 点击 **"提交"** 创建工单

##### 分配工单
1. 在工单列表中找到待处理工单
2. 点击 **"查看"** 按钮
3. 在右侧详情面板点击 **"分配工单"**
4. 选择维修人员（会显示技能和当前工作量）
5. 确认分配

##### 更新工单状态
1. 打开工单详情
2. 点击对应的状态按钮：
   - **"开始维修"**: pending/assigned → in_progress
   - **"标记已解决"**: in_progress → resolved
   - **"关闭工单"**: resolved → closed
3. 填写操作备注（可选）
4. 确认操作

##### 添加备件记录
1. 打开工单详情
2. 在 **"备件使用"** 区域点击 **"添加备件"**
3. 填写备件信息：
   - 备件名称
   - 规格型号
   - 数量
   - 单价
4. 系统自动计算总成本

---

### 2. 维修历史记录 (`/maintenance-history`)

#### 功能特点
- 📊 **历史查询**: 查询所有历史维修工单
- 🔍 **多维筛选**: 按时间、状态、设备筛选
- 📈 **趋势分析**: 可视化维修趋势图表
- 📥 **数据导出**: 导出Excel格式报表

#### 使用方法

##### 查询历史工单
1. 设置时间范围（默认最近30天）
2. 选择筛选条件：
   - 工单状态
   - 设备名称
   - 维修人员
3. 点击 **"查询"** 查看结果

##### 查看趋势分析
1. 切换到 **"趋势分析"** 标签页
2. 查看以下图表：
   - 工单数量趋势（按月统计）
   - 平均维修时长趋势
   - 维修成本趋势
   - 故障类型分布

##### 导出数据
1. 完成筛选后
2. 点击右上角 **"导出Excel"** 按钮
3. 文件自动下载到本地

---

### 3. 故障率统计分析 (`/fault-statistics`)

#### 关键指标（KPI）
1. **总工单数**: 历史累计工单数量
2. **平均响应时间**: 从创建到分配的平均时长
3. **平均维修时长**: 从分配到完成的平均时长
4. **设备故障率**: 设备故障频率
5. **按时完成率**: 按预期时间完成的比例
6. **平均维修成本**: 单次维修平均成本

#### 专业图表
1. **故障趋势分析**: 面积折线图，展示故障随时间变化
2. **故障等级分布**: 环形饼图，优先级分布
3. **设备故障率TOP10**: 横向柱状图，找出故障高发设备
4. **维修人员工作量**: 堆叠柱状图，评估人员效率
5. **故障类型占比**: 饼图，故障类型分析
6. **维修时效性**: 环形饼图，按时/延期统计
7. **成本结构**: 饼图，人工与备件成本占比

#### 预警功能
- 🔴 **高频故障预警**: 自动识别故障率>15%的设备
- 🟡 **响应超时预警**: 响应时间>4小时的工单
- 🟢 **保养到期提醒**: 自动提醒设备保养

---

## 💡 最佳实践

### 工单创建
1. **准确描述故障**: 详细描述故障现象，便于快速定位问题
2. **正确设置优先级**: 
   - 🔴 紧急：影响生产线停机
   - 🟠 高：影响设备正常运行
   - 🟡 中：影响使用但可继续运行
   - 🟢 低：不影响正常使用
3. **附加联系方式**: 方便维修人员联系

### 工单分配
1. **匹配技能**: 选择具备对应技能的维修人员
2. **平衡工作量**: 考虑维修人员当前工作量
3. **及时分配**: 尽快分配工单，减少响应时间

### 进度更新
1. **及时记录**: 每次操作后及时更新状态
2. **详细日志**: 在操作日志中记录关键信息
3. **备件记录**: 使用备件后立即记录，确保成本准确

### 数据分析
1. **定期查看**: 每周查看故障统计分析
2. **关注预警**: 及时处理预警设备
3. **优化流程**: 根据数据分析优化维修流程

---

## 📊 数据看板

### 实时监控
在工单管理主页面顶部，实时显示：
- 待处理工单数量
- 处理中工单数量
- 今日新增工单
- 平均响应时间

### 维修效率
在故障统计页面查看：
- 维修人员效率排名
- 按时完成率趋势
- 维修成本趋势

---

## 🔔 AI客服集成

### 智能查询
通过AI客服可以：
1. **查询工单**: "帮我查询工单WO-2024-001"
2. **创建工单**: "我要报修XX设备"
3. **查看进度**: "XX工单的维修进度"
4. **统计分析**: "本月故障率统计"

### 快速跳转
AI客服会自动识别意图并提供跳转链接：
- 工单管理页面
- 维修历史页面
- 故障统计页面

---

## ⚙️ 系统配置

### 默认设置
- **响应时间阈值**: 4小时
- **故障率预警**: 15%
- **数据保存周期**: 永久
- **导出格式**: Excel (XLSX)

### 自定义设置
当前版本支持在代码级别自定义：
- 优先级定义
- 故障类型
- 维修人员技能
- 预警阈值

---

## 🎓 培训建议

### 管理员培训
1. 系统整体功能介绍
2. 工单创建和分配流程
3. 数据分析和报表使用
4. 预警处理流程

### 维修人员培训
1. 工单接收和查看
2. 状态更新操作
3. 备件记录方法
4. 移动端使用（如适用）

### 操作员培训
1. 故障报修流程
2. 工单创建方法
3. 进度查询方式

---

## 📞 技术支持

### 常见问题
**Q: 工单状态无法更新？**
A: 检查工单当前状态，确保符合状态流转规则。

**Q: 导出数据为空？**
A: 确认筛选条件下有数据记录。

**Q: 图表不显示？**
A: 刷新页面或检查数据是否充足。

### 联系方式
- 技术支持邮箱: support@mingsheng.com
- 服务热线: 400-123-4567

---

## 🔄 版本更新

### v1.0.0 (2025-12-13)
- ✅ 工单管理核心功能
- ✅ 维修历史查询
- ✅ 故障率统计分析
- ✅ AI客服集成
- ✅ 数据导出功能

### 未来规划
- 📱 移动端适配
- 🔔 微信/邮件通知
- 📸 图片附件上传
- 🤖 智能诊断建议
- 📊 更多数据分析维度

---

## 🎉 开始使用

现在您已经了解了工单管理系统的完整功能，开始使用吧！

1. 访问 `http://localhost:3007`
2. 点击顶部导航 **"AI智能体"** → **"工单管理"**
3. 创建第一个工单
4. 体验完整的工单管理流程

祝您使用愉快！✨
