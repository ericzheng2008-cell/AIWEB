<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯Šæ–­æ˜æ˜Ÿäº§å“æ¨¡å—é—®é¢˜</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        .diagnostic-section {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        .diagnostic-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .step {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 6px;
        }
        .step-title {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 8px;
        }
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            margin: 10px 0;
        }
        .button-group {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        .btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        .btn-success {
            background: #28a745;
            color: white;
        }
        .btn-info {
            background: #17a2b8;
            color: white;
        }
        .checklist {
            list-style: none;
            padding: 0;
        }
        .checklist li {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .checklist li:before {
            content: "â˜";
            font-size: 20px;
            color: #999;
        }
        .checklist li.checked:before {
            content: "âœ…";
        }
        .error-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        .success-box {
            background: #d4edda;
            border: 1px solid #28a745;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” æ˜æ˜Ÿäº§å“æ¨¡å—è¯Šæ–­å·¥å…·</h1>
        <p class="subtitle">ç³»ç»Ÿæ€§è¯Šæ–­åå°æ˜æ˜Ÿäº§å“æ¨¡å—æ˜¾ç¤ºé—®é¢˜</p>

        <div class="diagnostic-section">
            <div class="diagnostic-title">
                ğŸ“‹ ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥è·¯ç”±é…ç½®
            </div>
            <div class="step">
                <div class="step-title">æ£€æŸ¥é¡¹ï¼š</div>
                <ul class="checklist">
                    <li>è·¯ç”±æ˜¯å¦æŒ‡å‘ ContentManage.vue</li>
                    <li>è·¯ç”±è·¯å¾„æ˜¯å¦ä¸º /admin/cms</li>
                    <li>ç»„ä»¶æ˜¯å¦æ­£ç¡®å¯¼å…¥</li>
                </ul>
                <div class="code-block">
// æ­£ç¡®é…ç½®åº”è¯¥æ˜¯ï¼š
{
  path: 'cms',
  name: 'AdminCms',
  component: () => import('../views/admin/ContentManage.vue')
}
                </div>
            </div>
        </div>

        <div class="diagnostic-section">
            <div class="diagnostic-title">
                ğŸ”§ ç¬¬äºŒæ­¥ï¼šæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°
            </div>
            <div class="step">
                <div class="step-title">æ“ä½œæ­¥éª¤ï¼š</div>
                <ol>
                    <li>è®¿é—® <a href="http://localhost:3003/admin/cms" target="_blank">http://localhost:3003/admin/cms</a></li>
                    <li>æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
                    <li>åˆ‡æ¢åˆ° Console (æ§åˆ¶å°) æ ‡ç­¾</li>
                    <li>æŸ¥çœ‹æ˜¯å¦æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯</li>
                </ol>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="openAdminCms()">ğŸš€ æ‰“å¼€åå°CMS</button>
                    <button class="btn btn-info" onclick="copyConsoleCommand()">ğŸ“‹ å¤åˆ¶æ§åˆ¶å°æ£€æŸ¥å‘½ä»¤</button>
                </div>
            </div>
        </div>

        <div class="diagnostic-section">
            <div class="diagnostic-title">
                ğŸ§ª ç¬¬ä¸‰æ­¥ï¼šéªŒè¯æ•°æ®æº
            </div>
            <div class="step">
                <div class="step-title">åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</div>
                <div class="code-block" id="checkDataCommand">
// æ£€æŸ¥ featuredProducts æ•°æ®
console.log('Featured Products:', JSON.parse(localStorage.getItem('featuredProducts')))

// æ£€æŸ¥ homeBanners æ•°æ®
console.log('Home Banners:', JSON.parse(localStorage.getItem('homeBanners')))

// æ£€æŸ¥å½“å‰é¡µé¢ç»„ä»¶
console.log('Current Component:', document.querySelector('.content-manage'))
                </div>
                <button class="btn btn-success" onclick="copyCheckDataCommand()">ğŸ“‹ å¤åˆ¶æ£€æŸ¥å‘½ä»¤</button>
            </div>
        </div>

        <div class="diagnostic-section">
            <div class="diagnostic-title">
                âš™ï¸ ç¬¬å››æ­¥ï¼šå¸¸è§é—®é¢˜æ’æŸ¥
            </div>
            <div class="step">
                <ul class="checklist">
                    <li>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ (Ctrl+Shift+Del)</li>
                    <li>ç¡¬åˆ·æ–°é¡µé¢ (Ctrl+F5)</li>
                    <li>æ£€æŸ¥æ˜¯å¦ç™»å½•åå°</li>
                    <li>ç¡®è®¤æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ (ç«¯å£3003)</li>
                    <li>æ£€æŸ¥æ˜¯å¦æœ‰JavaScripté”™è¯¯</li>
                    <li>éªŒè¯ Element Plus ç»„ä»¶åº“æ˜¯å¦æ­£å¸¸åŠ è½½</li>
                </ul>
            </div>
        </div>

        <div class="diagnostic-section">
            <div class="diagnostic-title">
                ğŸ¯ ç¬¬äº”æ­¥ï¼šæ‰‹åŠ¨éªŒè¯é¡µé¢å…ƒç´ 
            </div>
            <div class="step">
                <div class="step-title">åœ¨æ§åˆ¶å°æ‰§è¡Œæ£€æŸ¥ï¼š</div>
                <div class="code-block" id="checkElementCommand">
// æ£€æŸ¥æ˜æ˜Ÿäº§å“æ ‡ç­¾é¡µæ˜¯å¦å­˜åœ¨
const featuredTab = document.querySelector('[name="featured"]')
console.log('æ˜æ˜Ÿäº§å“æ ‡ç­¾é¡µ:', featuredTab)

// æ£€æŸ¥æ˜¯å¦æœ‰æ˜æ˜Ÿäº§å“æ•°æ®
const featuredItems = document.querySelectorAll('.featured-item')
console.log('æ˜æ˜Ÿäº§å“æ•°é‡:', featuredItems.length)

// æ£€æŸ¥æ·»åŠ æŒ‰é’®
const addButton = document.querySelector('[name="featured"] .el-button--primary')
console.log('æ·»åŠ æŒ‰é’®:', addButton)
                </div>
                <button class="btn btn-success" onclick="copyCheckElementCommand()">ğŸ“‹ å¤åˆ¶å…ƒç´ æ£€æŸ¥å‘½ä»¤</button>
            </div>
        </div>

        <div class="error-box">
            <strong>âš ï¸ å¦‚æœé¡µé¢å®Œå…¨ç©ºç™½ï¼š</strong>
            <ol>
                <li>å¯èƒ½æ˜¯ç»„ä»¶æ¸²æŸ“é”™è¯¯ï¼Œæ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯</li>
                <li>å¯èƒ½æ˜¯ import è·¯å¾„é”™è¯¯</li>
                <li>å¯èƒ½æ˜¯ç¼ºå°‘å¿…è¦çš„ä¾èµ–</li>
            </ol>
        </div>

        <div class="success-box">
            <strong>âœ… å¦‚æœçœ‹åˆ°Banneræ ‡ç­¾ä½†æ²¡æœ‰æ˜æ˜Ÿäº§å“æ ‡ç­¾ï¼š</strong>
            <ol>
                <li>æ£€æŸ¥ el-tab-pane æ˜¯å¦æ­£ç¡®æ¸²æŸ“</li>
                <li>æŸ¥çœ‹æ˜¯å¦æœ‰ v-if æ¡ä»¶éšè—äº†æ ‡ç­¾</li>
                <li>éªŒè¯ activeTab çš„åˆå§‹å€¼</li>
            </ol>
        </div>

        <div class="button-group">
            <button class="btn btn-primary" onclick="openAdminCms()">ğŸš€ æ‰“å¼€åå°CMSæµ‹è¯•</button>
            <button class="btn btn-success" onclick="clearCacheAndReload()">ğŸ”„ æ¸…é™¤ç¼“å­˜å¹¶åˆ·æ–°</button>
            <button class="btn btn-info" onclick="viewDocumentation()">ğŸ“– æŸ¥çœ‹ä¿®å¤æ–‡æ¡£</button>
        </div>

        <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #eee; color: #666; text-align: center;">
            <p>ğŸ’¡ æç¤ºï¼šè¯·æŒ‰ç…§æ­¥éª¤é€ä¸€æ£€æŸ¥ï¼Œå¹¶å°†æ§åˆ¶å°é”™è¯¯ä¿¡æ¯åé¦ˆ</p>
        </div>
    </div>

    <script>
        function openAdminCms() {
            window.open('http://localhost:3003/admin/cms', '_blank');
            setTimeout(() => {
                alert('è¯·æ£€æŸ¥ï¼š\n\n1. é¡µé¢æ˜¯å¦æ­£å¸¸åŠ è½½\n2. æ˜¯å¦çœ‹åˆ°"é¦–é¡µBanner"å’Œ"æ˜æ˜Ÿäº§å“"ä¸¤ä¸ªæ ‡ç­¾\n3. æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯ï¼ˆçº¢è‰²ï¼‰');
            }, 1000);
        }

        function copyConsoleCommand() {
            const command = `
// æ‰“å¼€æ§åˆ¶å° (F12)ï¼Œç„¶åæ‰§è¡Œï¼š
console.log('=== é¡µé¢æ£€æŸ¥ ===');
console.log('å½“å‰URL:', window.location.href);
console.log('é¡µé¢æ ‡é¢˜:', document.title);
console.log('é”™è¯¯æ•°é‡:', document.querySelectorAll('.error, .warning').length);
            `.trim();
            
            navigator.clipboard.writeText(command).then(() => {
                alert('âœ… å·²å¤åˆ¶æ£€æŸ¥å‘½ä»¤ï¼\n\nè¯·åœ¨æµè§ˆå™¨æ§åˆ¶å° (F12) ç²˜è´´æ‰§è¡Œ');
            });
        }

        function copyCheckDataCommand() {
            const command = document.getElementById('checkDataCommand').textContent.trim();
            navigator.clipboard.writeText(command).then(() => {
                alert('âœ… å·²å¤åˆ¶æ•°æ®æ£€æŸ¥å‘½ä»¤ï¼\n\nè¯·åœ¨æµè§ˆå™¨æ§åˆ¶å°ç²˜è´´æ‰§è¡Œ');
            });
        }

        function copyCheckElementCommand() {
            const command = document.getElementById('checkElementCommand').textContent.trim();
            navigator.clipboard.writeText(command).then(() => {
                alert('âœ… å·²å¤åˆ¶å…ƒç´ æ£€æŸ¥å‘½ä»¤ï¼\n\nè¯·åœ¨æµè§ˆå™¨æ§åˆ¶å°ç²˜è´´æ‰§è¡Œ');
            });
        }

        function clearCacheAndReload() {
            if (confirm('ç¡®å®šè¦æ¸…é™¤ç¼“å­˜å¹¶åˆ·æ–°é¡µé¢å—ï¼Ÿ\n\nè¿™å°†ï¼š\n1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜\n2. é‡æ–°åŠ è½½æ‰€æœ‰èµ„æº\n3. å¯èƒ½éœ€è¦é‡æ–°ç™»å½•')) {
                localStorage.setItem('clearCache', 'true');
                window.open('http://localhost:3003/admin/cms?clearCache=true', '_blank');
            }
        }

        function viewDocumentation() {
            alert('æŸ¥çœ‹ä»¥ä¸‹æ–‡æ¡£äº†è§£è¯¦æƒ…ï¼š\n\n1. âœ…_åå°æ˜æ˜Ÿäº§å“æ¨¡å—å·²ä¿®å¤_2025-12-16.md\n2. ğŸ“˜_æ˜æ˜Ÿäº§å“ç®¡ç†ä½¿ç”¨æ‰‹å†Œ_2025-12-16.md');
        }
    </script>
</body>
</html>
