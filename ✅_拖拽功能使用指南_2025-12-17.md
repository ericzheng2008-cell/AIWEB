# ✅ 首页产品服务拖拽功能使用指南

## 📋 功能概述

首页"产品与服务"模块的卡片支持**拖拽排序**功能，管理员可以自由调整卡片显示顺序。

---

## 🎯 两种使用方式

### 方式一：前台直接拖拽（推荐，更直观）

#### 步骤：
1. **登录后台管理系统**
   - 访问：http://localhost:5173/admin/login
   - 输入管理员账号密码

2. **访问前台首页**
   - 访问：http://localhost:5173/
   - 滚动到"我们的产品和服务"板块

3. **查看拖拽手柄**
   - 每个卡片右上角有**紫色圆形按钮**
   - 按钮带有脉冲发光动画
   - 提示文字："拖拽调整顺序"

4. **拖拽卡片**
   - 按住紫色按钮不放
   - 拖动到目标位置
   - 释放鼠标完成调整

5. **自动保存**
   - 拖拽完成后自动保存到本地
   - 刷新页面即可看到新的顺序

---

### 方式二：后台管理页面（专业，更全面）

#### 步骤：
1. **访问后台管理**
   - URL：http://localhost:5173/admin/home-layout
   - 或通过后台左侧菜单："首页布局管理"

2. **查看卡片预览**
   - 所有产品服务卡片以网格形式展示
   - 每个卡片右上角有拖拽手柄图标

3. **拖拽调整**
   - 拖动手柄调整卡片位置
   - 实时显示调整效果

4. **保存顺序**
   - 点击右上角"保存顺序"按钮
   - 系统提示保存成功

5. **恢复默认**
   - 如需恢复原始顺序
   - 点击"恢复默认顺序"按钮

---

## 🎨 视觉效果说明

### 拖拽手柄样式
- **颜色**：紫色渐变（#667eea → #764ba2）
- **形状**：36x36px 圆形按钮
- **图标**：三条横线
- **动画**：2秒脉冲发光效果
- **位置**：卡片右上角

### 拖拽过程效果
- **选中状态**：蓝色边框 + 阴影
- **拖动中**：旋转3度 + 放大1.05倍
- **占位区域**：半透明 + 虚线边框
- **释放后**：平滑归位动画

---

## 👥 权限说明

### 管理员（已登录）
✅ 可以看到紫色拖拽按钮  
✅ 可以拖拽调整卡片顺序  
✅ 可以保存和恢复顺序  

### 访客（未登录）
❌ 看不到拖拽按钮  
❌ 无法拖拽卡片  
✅ 可以正常浏览和点击  

---

## 📊 卡片包含内容

当前首页产品服务模块包含以下卡片：

### 产品分类（6个）
1. 拧紧工具系统
2. 拧紧数据采集系统
3. 套筒工具系统
4. 设备全生命周期管理系统
5. 工艺改进与验证系统
6. 其他分类...

### 服务智能体（2个）
1. 拧紧工具选型
2. 故障工单管理

---

## 💾 数据存储

- **存储位置**：浏览器 localStorage
- **存储键名**：`homeProductSeriesOrder`
- **数据格式**：JSON 数组（卡片ID列表）
- **示例**：
```json
[
  "tool-selector",
  "tightening-tools",
  "fault-tracking",
  "tightening-data",
  ...
]
```

---

## 🔧 技术实现

### 核心技术
- **拖拽库**：Sortable.js
- **框架**：Vue 3
- **UI组件**：Element Plus
- **数据持久化**：LocalStorage

### 配置参数
```javascript
{
  animation: 200,           // 动画时长
  handle: '.drag-handle',   // 拖拽手柄选择器
  forceFallback: true,      // 强制使用拖拽逻辑
  fallbackTolerance: 3      // 拖拽容差
}
```

---

## 📱 响应式支持

### 桌面端（>1200px）
- 3列网格布局
- 完整拖拽功能

### 平板端（768px-1200px）
- 2列网格布局
- 完整拖拽功能

### 移动端（<768px）
- 1列布局
- 支持触摸拖拽

---

## 🧪 测试建议

### 功能测试
1. ✅ 登录后能看到紫色按钮
2. ✅ 拖拽流畅无卡顿
3. ✅ 保存后刷新页面顺序不变
4. ✅ 退出登录后按钮消失
5. ✅ 点击卡片内容区域正常跳转

### 兼容性测试
- Chrome ✅
- Firefox ✅
- Safari ✅
- Edge ✅

---

## 🎯 常见问题

### Q1: 拖拽后刷新页面顺序又变了？
**A**: 请确保拖拽后有看到"保存成功"提示，或在后台管理页面点击"保存顺序"按钮。

### Q2: 看不到紫色拖拽按钮？
**A**: 请确认：
1. 已登录后台管理系统
2. localStorage 中有 `adminToken`
3. 浏览器控制台无报错

### Q3: 拖拽时卡片跳动不流畅？
**A**: 建议使用后台管理页面进行调整，体验更稳定。

### Q4: 如何恢复默认顺序？
**A**: 访问后台"首页布局管理"页面，点击"恢复默认顺序"按钮。

---

## 📞 技术支持

如遇到问题，请检查：
1. 浏览器控制台错误信息
2. Network 请求是否正常
3. localStorage 数据是否完整

---

## 🎉 更新日志

### v1.0.0 (2025-12-17)
- ✅ 首次发布拖拽功能
- ✅ 支持前台直接拖拽
- ✅ 支持后台管理页面
- ✅ 管理员权限控制
- ✅ 自动保存功能
- ✅ 视觉反馈动画

---

**祝您使用愉快！** 🚀
