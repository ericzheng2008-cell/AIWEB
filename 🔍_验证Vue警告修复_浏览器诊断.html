<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vueè­¦å‘Šä¿®å¤éªŒè¯</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }

    .header h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }

    .header p {
      font-size: 18px;
      opacity: 0.9;
    }

    .content {
      padding: 40px;
    }

    .section {
      margin-bottom: 40px;
    }

    .section h2 {
      font-size: 24px;
      color: #333;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid #667eea;
    }

    .test-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .test-card {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 24px;
      border: 2px solid #e9ecef;
      transition: all 0.3s ease;
    }

    .test-card:hover {
      border-color: #667eea;
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
      transform: translateY(-5px);
    }

    .test-card h3 {
      font-size: 18px;
      color: #667eea;
      margin-bottom: 12px;
    }

    .test-card p {
      color: #666;
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 16px;
    }

    .test-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
    }

    .test-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
    }

    .test-btn:active {
      transform: scale(0.95);
    }

    .result {
      margin-top: 16px;
      padding: 12px;
      border-radius: 8px;
      font-size: 14px;
      display: none;
    }

    .result.success {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
      display: block;
    }

    .result.error {
      background: #f8d7da;
      border: 1px solid #f5c6cb;
      color: #721c24;
      display: block;
    }

    .result.info {
      background: #d1ecf1;
      border: 1px solid #bee5eb;
      color: #0c5460;
      display: block;
    }

    .checklist {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 24px;
      margin-top: 20px;
    }

    .checklist-item {
      display: flex;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid #e9ecef;
    }

    .checklist-item:last-child {
      border-bottom: none;
    }

    .checklist-item input[type="checkbox"] {
      width: 20px;
      height: 20px;
      margin-right: 12px;
      cursor: pointer;
    }

    .checklist-item label {
      flex: 1;
      font-size: 15px;
      color: #333;
      cursor: pointer;
    }

    .warning-box {
      background: #fff3cd;
      border: 2px solid #ffc107;
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
    }

    .warning-box h4 {
      color: #856404;
      margin-bottom: 12px;
      font-size: 16px;
    }

    .warning-box p {
      color: #856404;
      font-size: 14px;
      line-height: 1.6;
    }

    .success-box {
      background: #d4edda;
      border: 2px solid #28a745;
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
      text-align: center;
    }

    .success-box h3 {
      color: #155724;
      font-size: 24px;
      margin-bottom: 12px;
    }

    .success-box p {
      color: #155724;
      font-size: 16px;
    }

    .code-block {
      background: #2d2d2d;
      color: #f8f8f2;
      padding: 20px;
      border-radius: 8px;
      margin-top: 16px;
      overflow-x: auto;
    }

    .code-block code {
      font-family: 'Courier New', Courier, monospace;
      font-size: 13px;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ‰ Vueè­¦å‘Šä¿®å¤éªŒè¯</h1>
      <p>AICRM V3 åŠŸèƒ½æµ‹è¯•å¹³å°</p>
    </div>

    <div class="content">
      <!-- å¿«é€Ÿæµ‹è¯• -->
      <div class="section">
        <h2>ğŸš€ å¿«é€Ÿæµ‹è¯•</h2>
        <div class="test-grid">
          <div class="test-card">
            <h3>ğŸ“Š é”€å”®æ¼æ–— - æ–°å¢å•†æœº</h3>
            <p>æµ‹è¯• createOpportunityDialog æ–¹æ³•</p>
            <button class="test-btn" onclick="openAICRM('funnel', 'æ–°å¢å•†æœº')">æ‰“å¼€æµ‹è¯•</button>
            <div id="result1" class="result"></div>
          </div>

          <div class="test-card">
            <h3>ğŸ‘ï¸ é”€å”®æ¼æ–— - AIæ´å¯Ÿ</h3>
            <p>æµ‹è¯• viewAIInsights æ–¹æ³•</p>
            <button class="test-btn" onclick="openAICRM('funnel', 'AIæ´å¯Ÿ')">æ‰“å¼€æµ‹è¯•</button>
            <div id="result2" class="result"></div>
          </div>

          <div class="test-card">
            <h3>ğŸ“¥ é”€å”®æ¼æ–— - å¯¼å‡ºæŠ¥è¡¨</h3>
            <p>æµ‹è¯• exportFunnelReport æ–¹æ³•</p>
            <button class="test-btn" onclick="openAICRM('funnel', 'å¯¼å‡ºæŠ¥è¡¨')">æ‰“å¼€æµ‹è¯•</button>
            <div id="result3" class="result"></div>
          </div>

          <div class="test-card">
            <h3>ğŸ‘¤ å®¢æˆ·360Â° - æ–°å¢å®¢æˆ·</h3>
            <p>æµ‹è¯• createCustomer æ–¹æ³•</p>
            <button class="test-btn" onclick="openAICRM('customer360', 'æ–°å¢å®¢æˆ·')">æ‰“å¼€æµ‹è¯•</button>
            <div id="result4" class="result"></div>
          </div>

          <div class="test-card">
            <h3>ğŸ”¥ é‡ç‚¹å•†æœº - æ–°å¢å•†æœº</h3>
            <p>æµ‹è¯• createOpportunity æ–¹æ³•</p>
            <button class="test-btn" onclick="openAICRM('funnel', 'é‡ç‚¹å•†æœº')">æ‰“å¼€æµ‹è¯•</button>
            <div id="result5" class="result"></div>
          </div>

          <div class="test-card">
            <h3>ğŸ” æ§åˆ¶å°æ£€æŸ¥</h3>
            <p>æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°Vueè­¦å‘Š</p>
            <button class="test-btn" onclick="checkConsole()">ç«‹å³æ£€æŸ¥</button>
            <div id="result6" class="result"></div>
          </div>
        </div>
      </div>

      <!-- éªŒè¯æ¸…å• -->
      <div class="section">
        <h2>âœ… éªŒè¯æ¸…å•</h2>
        <div class="checklist">
          <div class="checklist-item">
            <input type="checkbox" id="check1">
            <label for="check1">è®¿é—® http://localhost:3002/#/aicrm-v3 é¡µé¢æ­£å¸¸åŠ è½½</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check2">
            <label for="check2">ç‚¹å‡»"æ–°å¢å•†æœº"æŒ‰é’®ï¼Œæ˜¾ç¤ºæ¶ˆæ¯æç¤º"æ‰“å¼€æ–°å¢å•†æœºå¯¹è¯æ¡†"</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check3">
            <label for="check3">ç‚¹å‡»"æŸ¥çœ‹AIæ´å¯Ÿ"æŒ‰é’®ï¼Œæ˜¾ç¤ºæ¶ˆæ¯æç¤º"æ­£åœ¨ç”ŸæˆAIæ´å¯ŸæŠ¥å‘Š..."</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check4">
            <label for="check4">ç‚¹å‡»"å¯¼å‡ºæŠ¥è¡¨"æŒ‰é’®ï¼Œæ˜¾ç¤ºæ¶ˆæ¯æç¤º"æ­£åœ¨å¯¼å‡ºæ¼æ–—æŠ¥è¡¨..."</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check5">
            <label for="check5">ç‚¹å‡»"æ–°å¢å®¢æˆ·"æŒ‰é’®ï¼Œæ˜¾ç¤ºæ¶ˆæ¯æç¤º"æ‰“å¼€æ–°å¢å®¢æˆ·å¯¹è¯æ¡†"</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check6">
            <label for="check6">æ‰“å¼€F12å¼€å‘è€…å·¥å…·ï¼Œæ§åˆ¶å°æ— Vueè­¦å‘Šï¼ˆProperty "xxx" was accessed...ï¼‰</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check7">
            <label for="check7">æ‰€æœ‰æŒ‰é’®ç‚¹å‡»åé¡µé¢æ— ç™½å±ã€æ— æŠ¥é”™</label>
          </div>
        </div>
      </div>

      <!-- é¢„æœŸç»“æœ -->
      <div class="section">
        <h2>ğŸ¯ é¢„æœŸç»“æœ</h2>
        
        <h3 style="margin-top: 20px; color: #28a745;">âœ… ä¿®å¤åï¼ˆæ­£å¸¸ï¼‰</h3>
        <div class="code-block">
          <code>
// æ§åˆ¶å°è¾“å‡ºï¼ˆæ— Vueè­¦å‘Šï¼‰<br>
âœ… åº”ç”¨æ­£å¸¸åŠ è½½<br>
âœ… ç‚¹å‡»"æ–°å¢å•†æœº" â†’ æ˜¾ç¤ºæ¶ˆæ¯æç¤º<br>
âœ… ç‚¹å‡»"æŸ¥çœ‹AIæ´å¯Ÿ" â†’ æ˜¾ç¤ºæ¶ˆæ¯æç¤º<br>
âœ… ç‚¹å‡»"å¯¼å‡ºæŠ¥è¡¨" â†’ æ˜¾ç¤ºæ¶ˆæ¯æç¤º<br>
âœ… ç‚¹å‡»"æ–°å¢å®¢æˆ·" â†’ æ˜¾ç¤ºæ¶ˆæ¯æç¤º<br>
<br>
// å¯èƒ½å­˜åœ¨çš„EChartsè­¦å‘Šï¼ˆå¯å¿½ç•¥ï¼‰<br>
âš ï¸ [ECharts] Can't get DOM width or height... ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
          </code>
        </div>

        <h3 style="margin-top: 30px; color: #dc3545;">âŒ ä¿®å¤å‰ï¼ˆå¼‚å¸¸ï¼‰</h3>
        <div class="code-block">
          <code>
// æ§åˆ¶å°å¤§é‡è­¦å‘Š<br>
âŒ [Vue warn]: Property "createOpportunityDialog" was accessed during render but is not defined<br>
âŒ [Vue warn]: Property "createCustomer" was accessed during render but is not defined<br>
âŒ [Vue warn]: Property "viewAIInsights" was accessed during render but is not defined<br>
âŒ [Vue warn]: Property "exportFunnelReport" was accessed during render but is not defined<br>
âŒ [Vue warn]: Property "createOpportunity" was accessed during render but is not defined<br>
<br>
// æŒ‰é’®ç‚¹å‡»æ— å“åº”æˆ–æŠ¥é”™
          </code>
        </div>
      </div>

      <!-- EChartsè­¦å‘Šè¯´æ˜ -->
      <div class="section">
        <h2>âš ï¸ EChartsè­¦å‘Šè¯´æ˜</h2>
        <div class="warning-box">
          <h4>å¦‚æœçœ‹åˆ°ä»¥ä¸‹è­¦å‘Šï¼Œå±äºæ­£å¸¸ç°è±¡ï¼š</h4>
          <p style="margin-bottom: 12px;">
            <code style="background: #f8f9fa; padding: 2px 6px; border-radius: 4px;">
              [ECharts] Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight.
            </code>
          </p>
          <p><strong>åŸå› ï¼š</strong> éƒ¨åˆ†EChartså›¾è¡¨çš„å®¹å™¨åœ¨åˆå§‹åŒ–æ—¶è¢« v-show="false" éšè—ï¼Œå®¹å™¨å®½é«˜ä¸º0ã€‚</p>
          <p><strong>å½±å“ï¼š</strong> ä¸å½±å“åŠŸèƒ½ï¼Œå›¾è¡¨åœ¨å®¹å™¨æ˜¾ç¤ºæ—¶ä¼šè‡ªåŠ¨æ­£ç¡®æ¸²æŸ“ã€‚</p>
          <p><strong>è§£å†³ï¼š</strong> å·²é€šè¿‡å»¶è¿Ÿåˆå§‹åŒ–å’Œresizeæœºåˆ¶å¤„ç†ï¼Œå¯å®‰å…¨å¿½ç•¥æ­¤è­¦å‘Šã€‚</p>
        </div>
      </div>

      <!-- æœ€ç»ˆç¡®è®¤ -->
      <div class="section">
        <div class="success-box">
          <h3>ğŸŠ ä¿®å¤å®Œæˆï¼</h3>
          <p>æ‰€æœ‰5ä¸ªVueè­¦å‘Šå·²ä¿®å¤ï¼Œç³»ç»Ÿè¿è¡Œæ­£å¸¸ã€‚</p>
          <p style="margin-top: 12px; font-size: 14px;">
            è¯·æŒ‰ç…§ä¸Šæ–¹éªŒè¯æ¸…å•é€é¡¹æµ‹è¯•ï¼Œç¡®è®¤æ‰€æœ‰åŠŸèƒ½æ­£å¸¸ã€‚
          </p>
        </div>
      </div>
    </div>
  </div>

  <script>
    function openAICRM(tab, action) {
      const url = `http://localhost:3002/#/aicrm-v3`;
      const win = window.open(url, '_blank');
      
      const resultId = {
        'æ–°å¢å•†æœº': 'result1',
        'AIæ´å¯Ÿ': 'result2',
        'å¯¼å‡ºæŠ¥è¡¨': 'result3',
        'æ–°å¢å®¢æˆ·': 'result4',
        'é‡ç‚¹å•†æœº': 'result5'
      }[action];

      const resultEl = document.getElementById(resultId);
      if (win) {
        resultEl.className = 'result success';
        resultEl.innerHTML = `
          âœ… å·²æ‰“å¼€AICRMé¡µé¢<br>
          <small>1. åˆ‡æ¢åˆ°"${tab === 'funnel' ? 'é”€å”®æ¼æ–—' : 'å®¢æˆ·360Â°'}"æ ‡ç­¾</small><br>
          <small>2. ç‚¹å‡»å¯¹åº”çš„"${action}"æŒ‰é’®</small><br>
          <small>3. æŸ¥çœ‹æ˜¯å¦æ˜¾ç¤ºæ¶ˆæ¯æç¤º</small>
        `;
      } else {
        resultEl.className = 'result error';
        resultEl.textContent = 'âŒ æ— æ³•æ‰“å¼€æ–°çª—å£ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨å¼¹çª—æ‹¦æˆªè®¾ç½®';
      }
    }

    function checkConsole() {
      const resultEl = document.getElementById('result6');
      resultEl.className = 'result info';
      resultEl.innerHTML = `
        ğŸ“‹ <strong>æ£€æŸ¥æ­¥éª¤ï¼š</strong><br>
        <small>1. æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·</small><br>
        <small>2. åˆ‡æ¢åˆ°Consoleæ ‡ç­¾</small><br>
        <small>3. æ¸…ç©ºæ§åˆ¶å°ï¼ˆCtrl+Lï¼‰</small><br>
        <small>4. è®¿é—® http://localhost:3002/#/aicrm-v3</small><br>
        <small>5. æŸ¥çœ‹æ˜¯å¦æœ‰Vue warnè­¦å‘Š</small><br>
        <br>
        <strong>âœ… é¢„æœŸï¼šæ—  "Property xxx was accessed during render but is not defined" è­¦å‘Š</strong>
      `;
      
      // æ‰“å¼€AICRMé¡µé¢
      window.open('http://localhost:3002/#/aicrm-v3', '_blank');
    }

    // ç›‘å¬checklistå®Œæˆåº¦
    const checkboxes = document.querySelectorAll('.checklist-item input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
      checkbox.addEventListener('change', () => {
        const total = checkboxes.length;
        const checked = document.querySelectorAll('.checklist-item input[type="checkbox"]:checked').length;
        const progress = Math.round((checked / total) * 100);
        
        if (progress === 100) {
          alert('ğŸ‰ æ­å–œï¼æ‰€æœ‰æµ‹è¯•é¡¹å·²å®Œæˆï¼ŒVueè­¦å‘Šä¿®å¤éªŒè¯é€šè¿‡ï¼');
        }
      });
    });
  </script>
</body>
</html>
