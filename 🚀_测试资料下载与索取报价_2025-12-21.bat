@echo off
chcp 65001 >nul
echo ========================================
echo    ðŸ“¥ èµ„æ–™ä¸‹è½½ä¸Žç´¢å–æŠ¥ä»·åŠŸèƒ½æµ‹è¯•
echo ========================================
echo.
echo ðŸŽ¯ æµ‹è¯•é¡¹ç›®ï¼š
echo.
echo ã€å‰å°åŠŸèƒ½ã€‘
echo 1. èµ„æ–™ä¸‹è½½å¡ç‰‡æ˜¾ç¤ºï¼ˆ6å¤§äº§å“åˆ†ç±»ï¼‰
echo 2. æœç´¢ä¸Žç­›é€‰åŠŸèƒ½
echo 3. ç”¨æˆ·æ³¨å†Œå¼¹çª—ï¼ˆå§“åã€å…¬å¸ã€ç”µè¯ã€é‚®ç®±ï¼‰
echo 4. CanvasäººæœºéªŒè¯ç 
echo 5. èµ„æ–™ä¸‹è½½æƒé™æŽ§åˆ¶
echo 6. é¡¶éƒ¨å¯¼èˆª"ç´¢å–æŠ¥ä»·"æŒ‰é’®
echo.
echo ã€åŽå°åŠŸèƒ½ã€‘
echo 1. èµ„æ–™CRUDæ“ä½œ
echo 2. PDF/Excelæ–‡ä»¶ä¸Šä¼ 
echo 3. æŒ‰äº§å“åˆ†ç±»ç®¡ç†
echo 4. ä¸‹è½½ç»Ÿè®¡æŠ¥è¡¨
echo 5. æŠ¥ä»·è¯·æ±‚ç®¡ç†
echo.
echo ========================================
echo ðŸš€ å¯åŠ¨å¼€å‘æœåŠ¡å™¨...
echo ========================================
echo.

cd /d "%~dp0"

:: æ£€æŸ¥ç«¯å£
netstat -ano | findstr :3002 >nul
if %errorlevel% equ 0 (
    echo âœ… å‰ç«¯æœåŠ¡å™¨å·²åœ¨è¿è¡Œï¼ˆç«¯å£3002ï¼‰
) else (
    echo âš ï¸  å‰ç«¯æœåŠ¡å™¨æœªè¿è¡Œï¼Œæ­£åœ¨å¯åŠ¨...
    start /min cmd /c "npm run dev"
    timeout /t 5 /nobreak >nul
)

netstat -ano | findstr :5000 >nul
if %errorlevel% equ 0 (
    echo âœ… åŽç«¯æœåŠ¡å™¨å·²åœ¨è¿è¡Œï¼ˆç«¯å£5000ï¼‰
) else (
    echo âš ï¸  åŽç«¯æœåŠ¡å™¨æœªè¿è¡Œï¼Œæ­£åœ¨å¯åŠ¨...
    cd server
    start /min cmd /c "node index.js"
    cd ..
    timeout /t 3 /nobreak >nul
)

echo.
echo ========================================
echo ðŸ“± æµ‹è¯•æ­¥éª¤
echo ========================================
echo.
echo ã€å‰å°æµ‹è¯•ã€‘
echo 1. è®¿é—®é¦–é¡µï¼šhttp://localhost:3002
echo 2. æ‰¾åˆ°"èµ„æ–™ä¸‹è½½"æ¨¡å—ï¼ˆä½äºŽæ˜Žæ˜Ÿäº§å“å’ŒæœåŠ¡ç½‘ç»œä¹‹é—´ï¼‰
echo 3. æµ‹è¯•äº§å“åˆ†ç±»åˆ‡æ¢
echo 4. æµ‹è¯•æœç´¢æ¡†è¾“å…¥
echo 5. ç‚¹å‡»"ä¸‹è½½èµ„æ–™"æŒ‰é’®
echo 6. å¡«å†™æ³¨å†Œè¡¨å•ï¼ˆéªŒè¯ç éœ€æ­£ç¡®è¾“å…¥ï¼‰
echo 7. æäº¤åŽä¸‹è½½èµ„æ–™
echo.
echo ã€é¡¶éƒ¨ç´¢å–æŠ¥ä»·æµ‹è¯•ã€‘
echo 1. ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ "ç´¢å–æŠ¥ä»·"æŒ‰é’®
echo 2. å¡«å†™æŠ¥ä»·è¡¨å•ï¼ˆäº§å“é€‰æ‹©ã€éœ€æ±‚æè¿°ï¼‰
echo 3. è¾“å…¥éªŒè¯ç æäº¤
echo.
echo ã€åŽå°æµ‹è¯•ã€‘
echo 1. ç™»å½•åŽå°ï¼šhttp://localhost:3002/admin/login
echo 2. è¿›å…¥"èµ„æ–™ä¸‹è½½ç®¡ç†"èœå•
echo 3. æµ‹è¯•æ·»åŠ èµ„æ–™ï¼ˆä¸Šä¼ PDF/Excelï¼‰
echo 4. æµ‹è¯•ç¼–è¾‘ã€åˆ é™¤èµ„æ–™
echo 5. æŸ¥çœ‹ä¸‹è½½ç»Ÿè®¡
echo 6. æŸ¥çœ‹æŠ¥ä»·è¯·æ±‚åˆ—è¡¨
echo.
echo ========================================
echo ðŸŒ æ­£åœ¨æ‰“å¼€æµè§ˆå™¨...
echo ========================================
echo.

timeout /t 3 /nobreak >nul
start http://localhost:3002

echo.
echo ========================================
echo âœ… æµ‹è¯•å‡†å¤‡å®Œæˆï¼
echo ========================================
echo.
echo ðŸ’¡ æµ‹è¯•æç¤ºï¼š
echo   - éªŒè¯ç åŒºåˆ†å¤§å°å†™ï¼Œç‚¹å‡»å¯åˆ·æ–°
echo   - æ³¨å†Œä¿¡æ¯ä¼šä¿å­˜åˆ°localStorage
echo   - ä¸‹è½½è®°å½•å¯åœ¨åŽå°æŸ¥çœ‹ç»Ÿè®¡
echo   - æ‰‹æœºå·éœ€ç¬¦åˆ11ä½æ ¼å¼
echo   - é‚®ç®±éœ€ç¬¦åˆæ ‡å‡†æ ¼å¼
echo.
echo æŒ‰ä»»æ„é”®è¿”å›ž...
pause >nul
