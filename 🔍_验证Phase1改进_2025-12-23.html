<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phase 1 æ”¹è¿›éªŒè¯æ¸…å•</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    
    h1 {
      color: #667eea;
      font-size: 2.5em;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .subtitle {
      color: #666;
      font-size: 1.2em;
      margin-bottom: 30px;
      padding-left: 60px;
    }
    
    .phase {
      margin: 30px 0;
      padding: 25px;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 15px;
      border-left: 5px solid #667eea;
    }
    
    .phase h2 {
      color: #333;
      font-size: 1.8em;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .checklist {
      background: white;
      padding: 20px;
      border-radius: 10px;
      margin-top: 15px;
    }
    
    .check-item {
      padding: 15px;
      margin: 10px 0;
      background: #f8f9fa;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 15px;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .check-item:hover {
      background: #e9ecef;
      transform: translateX(5px);
    }
    
    .check-item.completed {
      background: #d4edda;
      border-left: 4px solid #28a745;
    }
    
    .check-item input[type="checkbox"] {
      width: 24px;
      height: 24px;
      cursor: pointer;
    }
    
    .check-item label {
      flex: 1;
      cursor: pointer;
      font-size: 1.1em;
      color: #333;
    }
    
    .check-item.completed label {
      color: #155724;
      font-weight: 500;
    }
    
    .status {
      display: inline-block;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.9em;
      font-weight: 600;
    }
    
    .status.done {
      background: #28a745;
      color: white;
    }
    
    .status.pending {
      background: #ffc107;
      color: #333;
    }
    
    .progress-bar {
      width: 100%;
      height: 30px;
      background: #e9ecef;
      border-radius: 15px;
      overflow: hidden;
      margin: 20px 0;
      position: relative;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #28a745 0%, #20c997 100%);
      transition: width 0.5s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
    }
    
    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    
    .stat-card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .stat-value {
      font-size: 2.5em;
      font-weight: 700;
      color: #667eea;
      margin: 10px 0;
    }
    
    .stat-label {
      color: #666;
      font-size: 1em;
    }
    
    .action-buttons {
      display: flex;
      gap: 15px;
      margin-top: 30px;
      flex-wrap: wrap;
    }
    
    .btn {
      padding: 15px 30px;
      border: none;
      border-radius: 10px;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    
    .btn-success {
      background: #28a745;
      color: white;
    }
    
    .btn-info {
      background: #17a2b8;
      color: white;
    }
    
    .note {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px 20px;
      margin: 20px 0;
      border-radius: 5px;
    }
    
    .note strong {
      color: #856404;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>
      <span>ğŸ”</span>
      Phase 1-2-3 æ”¹è¿›éªŒè¯æ¸…å•
    </h1>
    <div class="subtitle">åŸºäº Claude Code è¯„ä¼°æŠ¥å‘Š | 2025-12-23</div>
    
    <div class="stats">
      <div class="stat-card">
        <div class="stat-label">æ€»ä½“è¯„åˆ†</div>
        <div class="stat-value" id="overallScore">2.6</div>
        <div class="stat-label">ç›®æ ‡ï¼š4.2/5</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">å®Œæˆè¿›åº¦</div>
        <div class="stat-value" id="progressPercent">17%</div>
        <div class="stat-label" id="completedTasks">1/6 ä»»åŠ¡</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">é¢„æœŸæ”¶ç›Š</div>
        <div class="stat-value">70%</div>
        <div class="stat-label">æ€§èƒ½æå‡</div>
      </div>
    </div>
    
    <div class="progress-bar">
      <div class="progress-fill" id="progressBar" style="width: 17%">17%</div>
    </div>
    
    <!-- Phase 1 -->
    <div class="phase">
      <h2>
        <span>âš¡</span>
        Phase 1ï¼šç´§æ€¥ä¿®å¤ï¼ˆP0ä¼˜å…ˆçº§ï¼‰
        <span class="status pending">è¿›è¡Œä¸­</span>
      </h2>
      
      <div class="checklist">
        <div class="check-item completed">
          <input type="checkbox" id="p1-1" checked onchange="updateProgress()">
          <label for="p1-1">
            <strong>1.1 æ•°æ®æŒä¹…åŒ–</strong> - é›†æˆ SQLite æ•°æ®åº“
            <br><small>âœ… å·²å®Œæˆï¼š17å¼ æ ¸å¿ƒè¡¨ã€CRUDæ¨¡å‹ã€è‡ªåŠ¨å¤‡ä»½</small>
          </label>
        </div>
        
        <div class="check-item">
          <input type="checkbox" id="p1-2" onchange="updateProgress()">
          <label for="p1-2">
            <strong>1.2 æ–‡ä»¶ä¸Šä¼ å®‰å…¨</strong> - ä¿®å¤6ä¸ªå®‰å…¨æ¼æ´
            <br><small>â³ è¿›è¡Œä¸­ï¼šMIMEéªŒè¯ã€æ–‡ä»¶å¤§å°é™åˆ¶ã€æƒé™æ§åˆ¶</small>
          </label>
        </div>
        
        <div class="check-item">
          <input type="checkbox" id="p1-3" onchange="updateProgress()">
          <label for="p1-3">
            <strong>1.3 æ‹†åˆ†è¶…å¤§ç»„ä»¶</strong> - Home.vue 3000è¡Œ â†’ 15ä¸ªå­ç»„ä»¶
            <br><small>ğŸ“‹ å¾…å¼€å§‹ï¼šå•ä¸€èŒè´£ã€ç»„ä»¶å¤ç”¨ã€Props/Eventsè§„èŒƒ</small>
          </label>
        </div>
      </div>
    </div>
    
    <!-- Phase 2 -->
    <div class="phase">
      <h2>
        <span>ğŸ”§</span>
        Phase 2ï¼šé‡è¦ä¼˜åŒ–ï¼ˆP1ä¼˜å…ˆçº§ï¼‰
        <span class="status pending">å¾…å¼€å§‹</span>
      </h2>
      
      <div class="checklist">
        <div class="check-item">
          <input type="checkbox" id="p2-1" onchange="updateProgress()">
          <label for="p2-1">
            <strong>2.1 å»ºç«‹æµ‹è¯•ä½“ç³»</strong> - æµ‹è¯•è¦†ç›–ç‡ 1% â†’ 60%
            <br><small>ğŸ“‹ å¾…å¼€å§‹ï¼šVitest + Vue Test Utils + Playwright</small>
          </label>
        </div>
        
        <div class="check-item">
          <input type="checkbox" id="p2-2" onchange="updateProgress()">
          <label for="p2-2">
            <strong>2.2 ç»Ÿä¸€é”™è¯¯å¤„ç†</strong> - å‰åç«¯é”™è¯¯æ‹¦æˆªå™¨
            <br><small>ğŸ“‹ å¾…å¼€å§‹ï¼šå…¨å±€é”™è¯¯å¤„ç†ã€å‹å¥½æç¤ºã€æ—¥å¿—è®°å½•</small>
          </label>
        </div>
        
        <div class="check-item">
          <input type="checkbox" id="p2-3" onchange="updateProgress()">
          <label for="p2-3">
            <strong>2.3 æ€§èƒ½ä¼˜åŒ–</strong> - é¦–å±åŠ è½½æ—¶é—´ 8ç§’ â†’ 3ç§’
            <br><small>ğŸ“‹ å¾…å¼€å§‹ï¼šè·¯ç”±æ‡’åŠ è½½ã€è™šæ‹Ÿæ»šåŠ¨ã€å›¾ç‰‡æ‡’åŠ è½½</small>
          </label>
        </div>
      </div>
    </div>
    
    <!-- Phase 3 -->
    <div class="phase">
      <h2>
        <span>ğŸš€</span>
        Phase 3ï¼šé•¿æœŸæ”¹è¿›ï¼ˆP2ä¼˜å…ˆçº§ï¼‰
        <span class="status pending">å¾…è§„åˆ’</span>
      </h2>
      
      <div class="checklist">
        <div class="check-item">
          <input type="checkbox" id="p3-1" onchange="updateProgress()">
          <label for="p3-1">
            <strong>3.1 DockeråŒ–éƒ¨ç½²</strong> - å®¹å™¨åŒ–æ”¹é€ 
            <br><small>ğŸ“‹ å¾…å¼€å§‹ï¼šå¤šé˜¶æ®µæ„å»ºã€docker-composeã€é•œåƒä¼˜åŒ–</small>
          </label>
        </div>
      </div>
    </div>
    
    <div class="note">
      <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong><br>
      1. ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç ï¼ˆadmin/admin123ï¼‰<br>
      2. é…ç½® .env æ–‡ä»¶ï¼ˆJWT_SECRETç­‰ï¼‰<br>
      3. ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ PostgreSQL æ›¿æ¢ SQLite<br>
      4. å¯ç”¨è‡ªåŠ¨å¤‡ä»½ï¼ˆnpm run db:backupï¼‰
    </div>
    
    <div class="action-buttons">
      <button class="btn btn-primary" onclick="window.open('ğŸ“‹_Phase1-2-3æ”¹è¿›è®¡åˆ’_2025-12-23.md')">
        <span>ğŸ“‹</span>æŸ¥çœ‹å®Œæ•´è®¡åˆ’
      </button>
      <button class="btn btn-success" onclick="window.open('ğŸš€_Phase1-1å®Œæˆ_æ•°æ®åº“é›†æˆ_2025-12-23.md')">
        <span>âœ…</span>Phase 1-1 å®ŒæˆæŠ¥å‘Š
      </button>
      <button class="btn btn-info" onclick="testDatabase()">
        <span>ğŸ§ª</span>æµ‹è¯•æ•°æ®åº“
      </button>
    </div>
  </div>
  
  <script>
    // æ›´æ–°è¿›åº¦
    function updateProgress() {
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      const completed = Array.from(checkboxes).filter(cb => cb.checked).length;
      const total = checkboxes.length;
      const percent = Math.round((completed / total) * 100);
      
      document.getElementById('progressBar').style.width = percent + '%';
      document.getElementById('progressBar').textContent = percent + '%';
      document.getElementById('progressPercent').textContent = percent + '%';
      document.getElementById('completedTasks').textContent = `${completed}/${total} ä»»åŠ¡`;
      
      // æ›´æ–°æ•´ä½“è¯„åˆ†ï¼ˆ2.6 â†’ 4.2ï¼‰
      const scoreIncrease = (4.2 - 2.6) * (percent / 100);
      const currentScore = (2.6 + scoreIncrease).toFixed(1);
      document.getElementById('overallScore').textContent = currentScore;
      
      // æ›´æ–°å¤é€‰æ¡†æ ·å¼
      checkboxes.forEach(cb => {
        const item = cb.closest('.check-item');
        if (cb.checked) {
          item.classList.add('completed');
        } else {
          item.classList.remove('completed');
        }
      });
    }
    
    // æµ‹è¯•æ•°æ®åº“
    async function testDatabase() {
      try {
        const response = await fetch('http://localhost:5000/api/auth/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ username: 'admin', password: 'admin123' })
        });
        
        if (response.ok) {
          const data = await response.json();
          alert('âœ… æ•°æ®åº“è¿æ¥æˆåŠŸï¼\n\nç”¨æˆ·åï¼š' + data.data.user.username + '\nè§’è‰²ï¼š' + data.data.user.role);
        } else {
          alert('âŒ æ•°æ®åº“è¿æ¥å¤±è´¥\n\nè¯·ç¡®ä¿åç«¯æœåŠ¡å™¨å·²å¯åŠ¨ï¼ˆç«¯å£5000ï¼‰');
        }
      } catch (error) {
        alert('âŒ æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨\n\né”™è¯¯ï¼š' + error.message + '\n\nè¯·è¿è¡Œï¼šnpm run server');
      }
    }
    
    // åˆå§‹åŒ–
    updateProgress();
  </script>
</body>
</html>
